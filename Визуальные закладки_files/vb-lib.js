!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=151)}([function(e,t,n){"use strict";function r(){}function o(e,t){var n,o,i,a,u=M;for(a=arguments.length;a-- >2;)N.push(arguments[a]);for(t&&null!=t.children&&(N.length||N.push(t.children),delete t.children);N.length;)if((o=N.pop())&&void 0!==o.pop)for(a=o.length;a--;)N.push(o[a]);else"boolean"==typeof o&&(o=null),(i="function"!=typeof e)&&(null==o?o="":"number"==typeof o?o=String(o):"string"!=typeof o&&(i=!1)),i&&n?u[u.length-1]+=o:u===M?u=[o]:u.push(o),n=i;var s=new r;return s.nodeName=e,s.children=u,s.attributes=null==t?void 0:t,s.key=null==t?void 0:t.key,void 0!==A.vnode&&A.vnode(s),s}function i(e,t){for(var n in t)e[n]=t[n];return e}function a(e,t){return o(e.nodeName,i(i({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}function u(e){!e._dirty&&(e._dirty=!0)&&1==B.push(e)&&(A.debounceRendering||L)(s)}function s(){var e,t=B;for(B=[];e=t.pop();)e._dirty&&C(e)}function c(e,t,n){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&l(e,t.nodeName):n||e._componentConstructor===t.nodeName}function l(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function f(e){var t=i({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function d(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.normalizedNodeName=e,n}function p(e){var t=e.parentNode;t&&t.removeChild(e)}function h(e,t,n,r,o){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),r&&r(e);else if("class"!==t||o)if("style"===t){if(r&&"string"!=typeof r&&"string"!=typeof n||(e.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var i in n)i in r||(e.style[i]="");for(var i in r)e.style[i]="number"==typeof r[i]&&D.test(i)===!1?r[i]+"px":r[i]}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var a=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,y,a):e.removeEventListener(t,y,a),(e._listeners||(e._listeners={}))[t]=r}else if("list"!==t&&"type"!==t&&!o&&t in e)v(e,t,null==r?"":r),null!=r&&r!==!1||e.removeAttribute(t);else{var u=o&&t!==(t=t.replace(/^xlink\:?/,""));null==r||r===!1?u?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof r&&(u?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r))}else e.className=r||""}function v(e,t,n){try{e[t]=n}catch(e){}}function y(e){return this._listeners[e.type](A.event&&A.event(e)||e)}function m(){for(var e;e=U.pop();)A.afterMount&&A.afterMount(e),e.componentDidMount&&e.componentDidMount()}function _(e,t,n,r,o,i){F++||(H=null!=o&&void 0!==o.ownerSVGElement,z=null!=e&&!("__preactattr_"in e));var a=b(e,t,n,r,i);return o&&a.parentNode!==o&&o.appendChild(a),--F||(z=!1,i||m()),a}function b(e,t,n,r,o){var i=e,a=H;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||o)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),E(e,!0))),i.__preactattr_=!0,i;var u=t.nodeName;if("function"==typeof u)return I(e,t,n,r);if(H="svg"===u||"foreignObject"!==u&&H,u=String(u),(!e||!l(e,u))&&(i=d(u,H),e)){for(;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),E(e,!0)}var s=i.firstChild,c=i.__preactattr_,f=t.children;if(null==c){c=i.__preactattr_={};for(var p=i.attributes,h=p.length;h--;)c[p[h].name]=p[h].value}return!z&&f&&1===f.length&&"string"==typeof f[0]&&null!=s&&void 0!==s.splitText&&null==s.nextSibling?s.nodeValue!=f[0]&&(s.nodeValue=f[0]):(f&&f.length||null!=s)&&g(i,f,n,r,z||null!=c.dangerouslySetInnerHTML),O(i,t.attributes,c),H=a,i}function g(e,t,n,r,o){var i,a,u,s,l,f=e.childNodes,d=[],h={},v=0,y=0,m=f.length,_=0,g=t?t.length:0;if(0!==m)for(var w=0;w<m;w++){var O=f[w],k=O.__preactattr_,S=g&&k?O._component?O._component.__key:k.key:null;null!=S?(v++,h[S]=O):(k||(void 0!==O.splitText?!o||O.nodeValue.trim():o))&&(d[_++]=O)}if(0!==g)for(var w=0;w<g;w++){s=t[w],l=null;var S=s.key;if(null!=S)v&&void 0!==h[S]&&(l=h[S],h[S]=void 0,v--);else if(!l&&y<_)for(i=y;i<_;i++)if(void 0!==d[i]&&c(a=d[i],s,o)){l=a,d[i]=void 0,i===_-1&&_--,i===y&&y++;break}l=b(l,s,n,r),u=f[w],l&&l!==e&&l!==u&&(null==u?e.appendChild(l):l===u.nextSibling?p(u):e.insertBefore(l,u))}if(v)for(var w in h)void 0!==h[w]&&E(h[w],!1);for(;y<=_;)void 0!==(l=d[_--])&&E(l,!1)}function E(e,t){var n=e._component;n?x(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),t!==!1&&null!=e.__preactattr_||p(e),w(e))}function w(e){for(e=e.lastChild;e;){var t=e.previousSibling;E(e,!0),e=t}}function O(e,t,n){var r;for(r in n)t&&null!=t[r]||null==n[r]||h(e,r,n[r],n[r]=void 0,H);for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||h(e,r,n[r],n[r]=t[r],H)}function k(e){var t=e.constructor.name;(G[t]||(G[t]=[])).push(e)}function S(e,t,n){var r,o=G[e.name];if(e.prototype&&e.prototype.render?(r=new e(t,n),R.call(r,t,n)):(r=new R(t,n),r.constructor=e,r.render=T),o)for(var i=o.length;i--;)if(o[i].constructor===e){r.nextBase=o[i].nextBase,o.splice(i,1);break}return r}function T(e,t,n){return this.constructor(e,n)}function P(e,t,n,r,o){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||o?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&A.syncComponentUpdates===!1&&e.base?u(e):C(e,1,o)),e.__ref&&e.__ref(e))}function C(e,t,n,r){if(!e._disable){var o,a,u,s=e.props,c=e.state,l=e.context,d=e.prevProps||s,p=e.prevState||c,h=e.prevContext||l,v=e.base,y=e.nextBase,b=v||y,g=e._component,w=!1;if(v&&(e.props=d,e.state=p,e.context=h,2!==t&&e.shouldComponentUpdate&&e.shouldComponentUpdate(s,c,l)===!1?w=!0:e.componentWillUpdate&&e.componentWillUpdate(s,c,l),e.props=s,e.state=c,e.context=l),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!w){o=e.render(s,c,l),e.getChildContext&&(l=i(i({},l),e.getChildContext()));var O,k,T=o&&o.nodeName;if("function"==typeof T){var I=f(o);a=g,a&&a.constructor===T&&I.key==a.__key?P(a,I,1,l,!1):(O=a,e._component=a=S(T,I,l),a.nextBase=a.nextBase||y,a._parentComponent=e,P(a,I,0,l,!1),C(a,1,n,!0)),k=a.base}else u=b,O=g,O&&(u=e._component=null),(b||1===t)&&(u&&(u._component=null),k=_(u,o,l,n||!v,b&&b.parentNode,!0));if(b&&k!==b&&a!==g){var R=b.parentNode;R&&k!==R&&(R.replaceChild(k,b),O||(b._component=null,E(b,!1)))}if(O&&x(O),e.base=k,k&&!r){for(var j=e,N=e;N=N._parentComponent;)(j=N).base=k;k._component=j,k._componentConstructor=j.constructor}}if(!v||n?U.unshift(e):w||(e.componentDidUpdate&&e.componentDidUpdate(d,p,h),A.afterUpdate&&A.afterUpdate(e)),null!=e._renderCallbacks)for(;e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);F||r||m()}}function I(e,t,n,r){for(var o=e&&e._component,i=o,a=e,u=o&&e._componentConstructor===t.nodeName,s=u,c=f(t);o&&!s&&(o=o._parentComponent);)s=o.constructor===t.nodeName;return o&&s&&(!r||o._component)?(P(o,c,3,n,r),e=o.base):(i&&!u&&(x(i),e=a=null),o=S(t.nodeName,c,n),e&&!o.nextBase&&(o.nextBase=e,a=null),P(o,c,1,n,r),e=o.base,a&&e!==a&&(a._component=null,E(a,!1))),e}function x(e){A.beforeUnmount&&A.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?x(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,p(t),k(e),w(t)),e.__ref&&e.__ref(null)}function R(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{}}function j(e,t,n){return _(n,e,{},!1,t,!1)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"h",function(){return o}),n.d(t,"createElement",function(){return o}),n.d(t,"cloneElement",function(){return a}),n.d(t,"Component",function(){return R}),n.d(t,"render",function(){return j}),n.d(t,"rerender",function(){return s}),n.d(t,"options",function(){return A});var A={},N=[],M=[],L="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,D=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,B=[],U=[],F=0,H=!1,z=!1,G={};i(R.prototype,{setState:function(e,t){var n=this.state;this.prevState||(this.prevState=i({},n)),i(n,"function"==typeof e?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),u(this)},forceUpdate:function(e){e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),C(this,2)},render:function(){}});var V={h:o,createElement:o,cloneElement:a,Component:R,render:j,rerender:s,options:A};t.default=V},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var r=(function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),o={},i=65;i<91;i++){var a=String.fromCharCode(i);o[a]="-"+a.toLowerCase()}var u=function(e){for(var t=e.length,n="",r=0;r<t;r++){var i=e[r];n+=o[i]||i}return n},s=function(e){return function(t,n){var o="string"==typeof t?[t,n]:[null,t],i=r(o,2),a=i[0],s=i[1],c=e;return a&&(c+="__"+a),s&&Object.keys(s).forEach(function(e){var t=s[e];if(t){var n=u(e);c+=t===!0?" _"+n:" _"+n+"_"+t}}),c}},c=t.mix=function(e,t){return e+(t?" "+t:"")};s.mix=c,t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=n(140),l=r(c),f=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(0,l.default)(this.props,e)||!(0,l.default)(this.state,t)}}]),t}(s.Component);t.default=f,e.exports=t.default},function(e,t,n){!function(t,r){e.exports=r(n(0),n(24))}(this,function(e,t){function n(){}function r(){var e=[],t=[];return{clear:function(){t=H,e=H},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==H&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}function o(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}function i(){Y||(Y=!0,o("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reactjs/react-redux/releases/tag/v2.0.0 for the migration instructions."))}function a(t){var n,r,o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=o.getDisplayName,a=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,u=o.methodName,s=void 0===u?"connectAdvanced":u,c=o.renderCountProp,l=void 0===c?void 0:c,f=o.shouldHandleStateChanges,d=void 0===f||f,p=o.storeKey,h=void 0===p?"store":p,v=o.withRef,y=void 0!==v&&v,m=U(o,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),_=h+"Subscription",b=X++,g=(n={},n[h]=V,n[_]=N.instanceOf(G),n),E=(r={},r[_]=N.instanceOf(G),r);return function(n){J("function"==typeof n,"You must pass a component to the function returned by connect. Instead received "+n);var r=n.displayName||n.name||"Component",o=a(r),i=D({},m,{getDisplayName:a,methodName:s,renderCountProp:l,shouldHandleStateChanges:d,storeKey:h,withRef:y,displayName:o,wrappedComponentName:r,WrappedComponent:n}),u=function(r){function a(e,t){L(this,a);var n=F(this,r.call(this,e,t));return n.version=b,n.state={},n.renderCount=0,n.store=n.props[h]||n.context[h],n.parentSub=e[_]||t[_],n.setWrappedInstance=n.setWrappedInstance.bind(n),J(n.store,'Could not find "'+h+'" in either the context or '+('props of "'+o+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "'+h+'" as a prop to "'+o+'".')),n.getState=n.store.getState.bind(n.store),n.initSelector(),n.initSubscription(),n}return B(a,r),a.prototype.getChildContext=function(){var e;return e={},e[_]=this.subscription||this.parentSub,e},a.prototype.componentDidMount=function(){d&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},a.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},a.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},a.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.store=null,this.parentSub=null,this.selector.run=function(){}},a.prototype.getWrappedInstance=function(){return J(y,"To access the wrapped instance, you need to specify "+("{ withRef: true } in the options argument of the "+s+"() call.")),this.wrappedInstance},a.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},a.prototype.initSelector=function(){var e=this.store.dispatch,n=this.getState,r=t(e,i),o=this.selector={shouldComponentUpdate:!0,props:r(n(),this.props),run:function(e){try{var t=r(n(),e);(o.error||t!==o.props)&&(o.shouldComponentUpdate=!0,o.props=t,o.error=null)}catch(e){o.shouldComponentUpdate=!0,o.error=e}}}},a.prototype.initSubscription=function(){var e=this;d&&!function(){var t=e.subscription=new G(e.store,e.parentSub),n={};t.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=function(){this.componentDidUpdate=void 0,t.notifyNestedSubs()},this.setState(n)):t.notifyNestedSubs()}.bind(e)}()},a.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},a.prototype.addExtraProps=function(e){if(!y&&!l)return e;var t=D({},e);return y&&(t.ref=this.setWrappedInstance),l&&(t[l]=this.renderCount++),t},a.prototype.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return e.h(n,this.addExtraProps(t.props))},a}(e.Component);return u.WrappedComponent=n,u.displayName=o,u.childContextTypes=E,u.contextTypes=g,u.prototype.componentWillUpdate=function(){this.version!==b&&(this.version=b,this.initSelector(),this.subscription&&this.subscription.tryUnsubscribe(),this.initSubscription(),d&&this.subscription.trySubscribe())},Z(u,n)}}function u(e,t){if(e===t)return!0;var n=0,r=0;for(var o in e){if($.call(e,o)&&e[o]!==t[o])return!1;n++}for(var i in t)$.call(t,i)&&r++;return n===r}function s(e){return ee(Object(e))}function c(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function l(e){return!!e&&"object"==("undefined"==typeof e?"undefined":M(e))}function f(e){if(!l(e)||ae.call(e)!=te||c(e))return!1;var t=s(e);if(null===t)return!0;var n=oe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&re.call(n)==ie}function d(e,t,n){f(e)||o(n+"() in "+t+" must return a plain object. Instead received "+e+".")}function p(e){return function(t,n){function r(){return o}var o=e(t,n);return r.dependsOnOwnProps=!1,r}}function h(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function v(e,t){return function(n,r){var o=r.displayName,i=function(e,t){return i.dependsOnOwnProps?i.mapToProps(e,t):i.mapToProps(e)};return i.dependsOnOwnProps=h(e),i.mapToProps=function(n,r){i.mapToProps=e;var a=i(n,r);return"function"==typeof a&&(i.mapToProps=a,i.dependsOnOwnProps=h(a),a=i(n,r)),d(a,o,t),a},i}}function y(e){return"function"==typeof e?v(e,"mapDispatchToProps"):void 0}function m(e){return e?void 0:p(function(e){return{dispatch:e}})}function _(e){return e&&"object"===("undefined"==typeof e?"undefined":M(e))?p(function(n){return t.bindActionCreators(e,n)}):void 0}function b(e){return"function"==typeof e?v(e,"mapStateToProps"):void 0}function g(e){return e?void 0:p(function(){return{}})}function E(e,t,n){return D({},n,e,t)}function w(e){return function(t,n){var r=n.displayName,o=n.pure,i=n.areMergedPropsEqual,a=!1,u=void 0;return function(t,n,s){var c=e(t,n,s);return a?o&&i(c,u)||(u=c):(a=!0,u=c,d(u,r,"mergeProps")),u}}}function O(e){return"function"==typeof e?w(e):void 0}function k(e){return e?void 0:function(){return E}}function S(e,t,n){if(!e)throw new Error("Unexpected value for "+t+" in "+n+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||e.hasOwnProperty("dependsOnOwnProps")||o("The selector for "+t+" of "+n+" did not specify a value for dependsOnOwnProps.")}function T(e,t,n,r){S(e,"mapStateToProps",r),S(t,"mapDispatchToProps",r),S(n,"mergeProps",r)}function P(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function C(e,t,n,r,o){function i(o,i){return h=o,v=i,y=e(h,v),m=t(r,v),_=n(y,m,v),p=!0,_}function a(){return y=e(h,v),t.dependsOnOwnProps&&(m=t(r,v)),_=n(y,m,v)}function u(){return e.dependsOnOwnProps&&(y=e(h,v)),t.dependsOnOwnProps&&(m=t(r,v)),_=n(y,m,v)}function s(){var t=e(h,v),r=!d(t,y);return y=t,r&&(_=n(y,m,v)),_}function c(e,t){var n=!f(t,v),r=!l(e,h);return h=e,v=t,n&&r?a():n?u():r?s():_}var l=o.areStatesEqual,f=o.areOwnPropsEqual,d=o.areStatePropsEqual,p=!1,h=void 0,v=void 0,y=void 0,m=void 0,_=void 0;return function(e,t){return p?c(e,t):i(e,t)}}function I(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=U(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,i),u=r(e,i),s=o(e,i);T(a,u,s,i.displayName);var c=i.pure?C:P;return c(a,u,s,e,i)}function x(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+("undefined"==typeof e?"undefined":M(e))+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function R(e,t){return e===t}function j(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.connectHOC,n=void 0===t?a:t,r=e.mapStateToPropsFactories,o=void 0===r?se:r,i=e.mapDispatchToPropsFactories,s=void 0===i?ue:i,c=e.mergePropsFactories,l=void 0===c?ce:c,f=e.selectorFactory,d=void 0===f?I:f;return function(e,t,r){var i=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],a=i.pure,c=void 0===a||a,f=i.areStatesEqual,p=void 0===f?R:f,h=i.areOwnPropsEqual,v=void 0===h?u:h,y=i.areStatePropsEqual,m=void 0===y?u:y,_=i.areMergedPropsEqual,b=void 0===_?u:_,g=U(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),E=x(e,o,"mapStateToProps"),w=x(t,s,"mapDispatchToProps"),O=x(r,l,"mergeProps");return n(d,D({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:E,initMapDispatchToProps:w,initMergeProps:O,pure:c,areStatesEqual:p,areOwnPropsEqual:v,areStatePropsEqual:m,areMergedPropsEqual:b},g))}}var A={only:function(e){return e&&e[0]||null}};n.isRequired=n;var N={element:n,func:n,shape:function(){return n},instanceOf:function(){return n}},M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},L=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},U=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},F=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},H=null,z={notify:function(){}},G=function(){function e(t,n){L(this,e),this.store=t,this.parentSub=n,this.unsubscribe=null,this.listeners=z}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=r())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=z)},e}(),V=N.shape({subscribe:N.func.isRequired,dispatch:N.func.isRequired,getState:N.func.isRequired}),Y=!1,W=function(e){function t(n,r){L(this,t);var o=F(this,e.call(this,n,r));return o.store=n.store,o}return B(t,e),t.prototype.getChildContext=function(){return{store:this.store,storeSubscription:null}},t.prototype.render=function(){return A.only(this.props.children)},t}(e.Component);W.prototype.componentWillReceiveProps=function(e){var t=this.store,n=e.store;t!==n&&i()},W.childContextTypes={store:V.isRequired,storeSubscription:N.instanceOf(G)},W.displayName="Provider";var q={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},K={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},Q="function"==typeof Object.getOwnPropertySymbols,Z=function(e,t,n){if("string"!=typeof t){var r=Object.getOwnPropertyNames(t);Q&&(r=r.concat(Object.getOwnPropertySymbols(t)));for(var o=0;o<r.length;++o)if(!(q[r[o]]||K[r[o]]||n&&n[r[o]]))try{e[r[o]]=t[r[o]]}catch(e){}}return e},J=function(){},X=0,$=Object.prototype.hasOwnProperty,ee=Object.getPrototypeOf,te="[object Object]",ne=Object.prototype,re=Function.prototype.toString,oe=ne.hasOwnProperty,ie=re.call(Object),ae=ne.toString,ue=[y,m,_],se=[b,g],ce=[O,k],le=j(),fe={Provider:W,connect:le,connectAdvanced:a};return fe})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,u,s=t.ONE_COLUMN="one_column",c=t.TWO_COLUMNS="two_column",l=t.TWO_COLUMN_SMALL_CARDS="two_column_small_cards",f=t.THREE_COLUMNS="three_column",d=t.TYPE_DOC="card",p=t.TYPE_DIRECT="direct",h=t.TYPE_HINT_EULA="hint_eula",v=t.TYPE_ICEBOARDING_GRID="iceboarding-grid",y=t.TYPE_SIMILAR="similar",m=t.TYPE_MAGIC_CARD="magic_card",_=t.TYPE_VIDEO="video",b=t.TYPE_GIF="gif",g=t.TYPE_NARRATIVE="story",E=t.TYPE_PLACEHOLDER="placeholder",w=t.TYPE_USER_QUESTION="user-feedback-question",O=(t.TYPE_SUBSCRIPTIONS="subscriptions",t.SIZE_SMALL="small"),k=t.SIZE_BIG="big",S=t.SIZE_FREE="free ";t.CHILD_ITEM_POSITION={LEFT:"left",CENTER:"center",RIGHT:"right"},t.CHILD_ITEM_TYPES=new Set([y,w]),t.GRID_TYPES_INFO=(u={},r(u,s,{columnCount:1,layoutableTypes:[d,b,_,p,h,v,y,m,g],availableSizes:(o={},r(o,d,[O]),r(o,p,[O]),r(o,h,[O]),r(o,v,[O]),r(o,y,[O]),r(o,m,[O]),r(o,b,[O]),r(o,_,[O]),r(o,g,[O]),r(o,w,[O]),o),initialDisplayedRowsNumber:6,rowDisplayStep:8}),r(u,c,{columnCount:2,layoutableTypes:[_],availableSizes:r({},_,[k])}),r(u,l,{columnCount:2,layoutableTypes:[_],availableSizes:(i={},r(i,d,[O]),r(i,p,[O]),r(i,h,[O]),r(i,v,[O]),r(i,y,[O]),r(i,m,[O]),r(i,b,[O]),r(i,g,[O]),r(i,_,[O]),r(i,w,[O]),i)}),r(u,f,{columnCount:3,availableSizes:r({},_,[S])}),r(u,"common",{layoutableTypes:[d,p,m,b,g],availableSizes:(a={},r(a,d,[O,k]),r(a,p,[O]),r(a,h,[S]),r(a,v,[S]),r(a,y,[S]),r(a,m,[k]),r(a,b,[O]),r(a,g,[O]),r(a,E,[S]),r(a,w,[S]),a),initialDisplayedRowsNumber:6,rowDisplayStep:9}),u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultApiResponseValidator=void 0;var o=n(189),i=r(o),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=t.defaultApiResponseValidator=function(e){if(!(e.items&&e.more&&e.more.link&&e.bulk&&e.bulk.link)){var t="Invalid response from ZenApi"+(e.message?": '"+e.message+"'":"")+".",n=new Error(t);throw e.ttl&&(n.ttl=e.ttl),n}},s=new i.default(function(e){return a({},e,{apiResponseValidator:u})});t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getParentItemSize=t.childItemPositionSelector=t.parentIdSelector=t.createBulkStatLoggerSelector=t.createFeedbackSubscribePropsSelector=t.createFeedbackMittensPropsSelector=t.createFeedbackPropsSelector=t.rubberyTypeSelector=t.placeholdersIdSelector=t.gridSelector=t.getRowsList=t.columnCountSelector=t.getInfoForGridType=void 0;var i=n(38),a=n(14),u=r(a),s=n(25),c=r(s),l=n(7),f=n(4),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=t.getInfoForGridType=function(e,t){var n=u.default.get(f.GRID_TYPES_INFO[e],t),r=u.default.get(f.GRID_TYPES_INFO.common,t);return n&&r&&Array.isArray(n)?n.concat(r):n||r},h=function(e,t){switch(t){case f.ONE_COLUMN:return f.SIZE_SMALL;case f.TWO_COLUMNS:var n=e%4;return 0===n||1===n?f.SIZE_SMALL:f.SIZE_BIG;case f.TWO_COLUMN_SMALL_CARDS:return f.SIZE_SMALL;case f.THREE_COLUMNS:var r=e%7;return 3===r||6===r?f.SIZE_BIG:f.SIZE_SMALL;default:return null}},v=function(e){switch(e){case f.SIZE_SMALL:return 1;case f.SIZE_BIG:return 2;case f.SIZE_FREE:return 3}},y=function(e,t){return function(n){var r=n.items,o=n.itemsOrder;if(e===o)return t;var i=o.map(function(e){var t=r[e],n=t.type,o=t.ad;return{id:e,type:n,ad:o}});return e=o,t=i,i}}(),m=t.columnCountSelector=function(e){var t=e.gridType;return f.GRID_TYPES_INFO[t].columnCount},_={PLACEHOLDER:"Placeholder",ZEN:"Zen"},b=(t.getRowsList=function(e,t){var n=t?e.slice(0,t):e;return n.map(function(e){return e.hasPlaceholder?_.PLACEHOLDER:_.ZEN})},t.gridSelector=(0,i.createSelector)(y,function(e){return e.gridType},m,function(e,t,n){var r=[],o={},i=p(t,"layoutableTypes"),a=-1;return e.forEach(function(e){var u=e.id,s=e.type,c=e.ad,l=i.includes(s);l&&a++;var d=l?h(a,t):f.SIZE_FREE,y=p(t,["availableSizes",s]);y.includes(d)||console.warn("Invalid item size:",d,s,u);var m=v(d),_=r[r.length-1];_||(_=[],r.push(_));var b=_.reduce(function(e,t){var n=t.size;return e+v(n)},0),g={id:u,type:s,size:d,ad:c};if(b+m<=n)_.push(g);else{var E=[g];r.push(E),s===f.TYPE_PLACEHOLDER&&(E.hasPlaceholder=!0)}g.row=r.length-1,o[u]=g}),{elements:o,rows:r}})),g=(0,i.createSelector)(y,function(e){return e.filter(function(e){var t=e.type;return"placeholder"===t}).map(function(e){var t=e.id;return t})}),E=(t.placeholdersIdSelector=(0,i.createSelector)(g,function(e,t){return t},function(e,t){return e.indexOf(t)}),t.rubberyTypeSelector=(0,i.createSelector)(l.productSelector,function(e){return"desktop_browser_rezen"===e?"yabro-1":null}),["id","type","feedback","complaints","complaintsSendedAt","title","domainTitle","bulkParams","statEvents"]),w=(t.createFeedbackPropsSelector=function(){return i.createSelector.apply(void 0,[l.themeSelector,l.isNarrativeFeedSelector,l.hasChannelData,l.experimentsSelector,function(e,t){return b(e.feed).elements[t].size},function(e){return e.params.complaints&&e.params.complaints.reasons}].concat(o(E.map(function(e){return function(t,n){return t.feed.items[n][e]}})),[function(e,t,n,r,o,i){for(var a=arguments.length,u=Array(a>6?a-6:0),s=6;s<a;s++)u[s-6]=arguments[s];var c=u.reduce(function(e,t,n){var r=E[n];return e[r]=t,e},{}),l=c.feedback;return d({},c,{size:o,theme:e,complaintReasons:i,isRubberyDesign:r.isExp("ab:rezen_new_service_cards:enable"),isEnabled:!t&&!n,isNegativeFeedback:l&&"liked"!==l})}]))},["id","feedback","isMittensJumping","bulkParams","statEvents"]),O=(t.createFeedbackMittensPropsSelector=function(){return i.createSelector.apply(void 0,[function(e){return e.params.isMobile},l.isNarrativeFeedSelector].concat(o(w.map(function(e){return function(t,n){return t.feed.items[n][e]}})),[function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return r.reduce(function(e,t,n){var r=w[n];return e[r]=t,e},{isEnabled:!t,size:e?"medium":"small"})}]))},["id","statEvents","subscribeTriggerEvent","isSubscribed","isSubscribedInCurrentSession","feedback","read"]),k=(t.createFeedbackSubscribePropsSelector=function(){return i.createSelector.apply(void 0,[l.experimentsSelector].concat(o(O.map(function(e){return function(t,n){return t.feed.items[n][e]}})),[function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n[0],i=n[1],a=n[2],u=n[3],s=n[4],c=n[5],l=n[6],f=i[a],d=!!e.isExp("ab:rezen_mobile_subscribe_button:enable")&&((!u||s)&&("liked"===c||l));return{id:o,triggerEvent:f,isSubscribed:u,hasSubscribeButton:d}}]))},t.createBulkStatLoggerSelector=function(){return(0,i.createSelector)(function(e){return e.id},function(e){return e.statEvents},function(e){return e.bulkParams},function(e){return e.rowIndex},function(e,t,n,r){return t&&n?new c.default({id:e,statEvents:t,bulkParams:n,meta:{rowIndex:r}}):null})},t.parentIdSelector=function(e,t){return e.feed.items[t].parentId}),S=function(e,t){var n=b(e.feed),r=k(e,t),o=n.elements[r].row;return n.rows[o]};t.childItemPositionSelector=(0,i.createSelector)(k,S,function(e,t){var n=t[0].id,r=t[t.length-1].id;switch(e){case n:return f.CHILD_ITEM_POSITION.LEFT;case r:return f.CHILD_ITEM_POSITION.RIGHT;default:return f.CHILD_ITEM_POSITION.CENTER}}),t.getParentItemSize=function(e,t){var n=k(e,t),r=b(e.feed),o=r.elements[n];return o.size}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.isZenUnifiedSelector=t.createExperimentValueSelector=t.isOnboardingSupportedSelector=t.themeSelector=t.isTeethEnabledSelector=t.lazyImagesLoadingSelector=t.teethTypeSelector=t.shouldResetScrollOnUnloadSelector=t.needSimilarSelector=t.needMoreButtonSelector=t.needHeaderSelector=t.needAboutLinkSelector=t.experimentsSelector=t.isNarrativeFeedSelector=t.hasChannelData=t.productSelector=t.integrationSelector=void 0;
var o=n(38),i=n(216),a=r(i),u=(n(56),t.integrationSelector=function(e){return e.params.integration}),s=t.productSelector=function(e){return e.params.product},c=function(e,t){return"site_desktop"===t||"site_mobile"===t},l=t.hasChannelData=function(e){return!(!e.channelList||!e.channel)&&(e.channel.id&&!!e.channelList[e.channel.id])},f=t.isNarrativeFeedSelector=function(e){return e.params.isNarrativeFeed},d=t.experimentsSelector=(0,o.createSelector)(function(e){return e.params.experimentsData},function(e){return new a.default(e)}),p=(t.needAboutLinkSelector=(0,o.createSelector)(u,s,function(e,t){return c(e,t)}),t.needHeaderSelector=(0,o.createSelector)(u,s,function(e,t){return c(e,t)}),t.needMoreButtonSelector=(0,o.createSelector)(l,function(e){return e.params.isNarrativeFeed},function(e,t){return!(e||t)}),t.needSimilarSelector=(0,o.createSelector)(f,l,function(e,t){return!e&&!t}),t.shouldResetScrollOnUnloadSelector=(0,o.createSelector)(u,s,function(e,t){return c(e,t)}),t.teethTypeSelector=(0,o.createSelector)(function(e){return e.params.teethType},d,function(e,t){return"string"==typeof e?e:t.isExp("zen_comtr_color")?"color":"white"}),t.lazyImagesLoadingSelector=(0,o.createSelector)(d,function(e){return e.isExp("lazy_images")||e.isExp("ab:rezen_lazy_images:enable")||e.isExp("zen_lib_lazy_images")}),t.isTeethEnabledSelector=(0,o.createSelector)(function(e){return e.params.teethType},d,function(e,t){return!!e||t.isExp("site_desktop_turkey_morda_teeth")}),t.themeSelector=(0,o.createSelector)(function(e){return e.params.zenFeatures.color_theme},function(e){return e}),t.isOnboardingSupportedSelector=(0,o.createSelector)(s,function(e){return"desktop_browser_rezen"===e}),t.createExperimentValueSelector=function(e,t,n){var r=Object.keys(e);return(0,o.createSelector)(d,function(o){var i=!0,a=!1,u=void 0;try{for(var s,c=r[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value,f=t+":"+l;if(o.isExp(f))return e[l]}}catch(e){a=!0,u=e}finally{try{!i&&c.return&&c.return()}finally{if(a)throw u}}return n})},["top_fixed","top_hiding","bottom"]);t.isZenUnifiedSelector=(0,o.createSelector)(d,function(e){return p.some(function(t){return e.isExp("ab:rezen_unified:"+t)})})},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(99)("wks"),o=n(48),i=n(10).Symbol,a="function"==typeof i,u=e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))};u.store=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s),l=n(25),f=(r(l),n(90)),d=r(f),p=n(91),h=r(p),v=800,y=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._isStatSent=!1,e._timer=null,e._sendShowStatOnce=e._sendShowStatOnce.bind(e),e._updateTimer=e._updateTimer.bind(e),e._clearTimeout=e._clearTimeout.bind(e),e}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this._updateTimer()}},{key:"componentDidUpdate",value:function(){this._updateTimer()}},{key:"componentWillUnmount",value:function(){this._clearTimeout()}},{key:"_updateTimer",value:function(){var e=this.props,t=e.isVisible,n=e.timeout,r=void 0===n?v:n;t?null===this._timer&&(this._timer=setTimeout(this._sendShowStatOnce,r)):this._clearTimeout()}},{key:"_clearTimeout",value:function(){clearTimeout(this._timer),this._timer=null}},{key:"_sendShowStatOnce",value:function(){var e=this.props,t=e.logger,n=e.onShow;this._isStatSent||(t&&t.log("show"),n&&n(),this._isStatSent=!0)}},{key:"render",value:function(){var e=this.props.children;return(0,h.default)("ShowLogger",e),(0,d.default)(e)}}]),t}(c.default);t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(53),i=r(o);t.default=new i.default,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.prototype.hasOwnProperty,i=function(e){return Array.isArray(e)?e.slice():Object.assign({},e)},a=function(e){return e&&"object"===("undefined"==typeof e?"undefined":r(e))},u=function(e,t){if(Array.isArray(e)){var n=Number(t),r=e.slice(0,n).concat(e.slice(n+1)),i=e.length!==r.length;return i?r:null}var a=Object.assign({},e);delete a[t];var u=o.call(e,t)!==o.call(a,t);return u?a:null},s=function(e){var t=Number(e),n=String(t)===String(e)&&isFinite(t)&&t>=0&&Math.floor(t)===t;if(!n)throw new Error("Key '"+e+"' is not an array index.")},c=function(e){var t="string"==typeof e?e.split("."):e;if(!Array.isArray(t))throw new Error("Expected the path to be a string or array.");if(0===t.length)throw new Error("Expected the path to have at least one item.");return t},l=t.get=function(e,t){for(var n=c(t),r=e,i=0;i<n.length;i++){var u=n[i];if(!a(r)||!o.call(r,u))return;r=r[u]}return r},f=t.set=function(e,t,n){if(!a(e))throw new Error("Value is not an object.");for(var r=c(t),u=i(e),l=u,f=!1,d=0;d<r.length;d++){var p=r[d],h=d===r.length-1;if(Array.isArray(l)&&s(p),h){var v=o.call(l,p),y=v?l[p]:void 0,m=l[p]="function"==typeof n?n(y):n;v&&Object.is(y,m)||(f=!0)}else if(o.call(l,p)){if(!a(l[p]))throw new Error("Value is not an object.");l=l[p]=i(l[p])}else l=l[p]={},f=!0}return f?u:e},d=t.del=function(e,t){if(!a(e))throw new Error("Value is not an object.");var n=c(t);if(1===n.length){var r=n[0],l=u(e,r);return l||e}for(var f=i(e),d=f,p=!1,h=0;h<n.length-1;h++){var v=n[h],y=h===n.length-2;if(Array.isArray(d)&&s(v),!o.call(d,v))break;if(!a(d[v]))throw new Error("Value is not an object.");if(y){var m=n[h+1],_=d[v]=u(d[v],m);_&&(p=!0)}else d=d[v]=i(d[v])}return p?f:e};t.default={get:l,set:f,del:d}},function(e,t,n){e.exports=n(244)()},function(e,t,n){var r=n(21),o=n(94),i=n(95),a=Object.defineProperty;t.f=n(17)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(28)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EVENTS={PACK_SHOWN:"packShown",BULK_EVENT_LOGGED:"bulkEventLogger",API_RESPONSE_TTL_EXPIRED:"apiResponseTtlExpired",API_RESPONSE_ERROR_TTL_EXPIRED:"apiResponseErrorTtlExpired"},t.API_REQUEST_TYPES={ONBOARDING:"onboarding",EXPORT:"export",MORE:"more",BULK:"bulk",SUBS:"subs",PROFILE:"profile",CATEGORIES:"categories",SUGGEST:"suggest"},t.CACHE_TYPES={SESSION_CACHE:"cacheStorage",MULTI_SESSION_CACHE:"multiCacheStorage"},t.SOURCES={NETWORK:"network",CACHE_BEFORE_NETWORK:"cache-before-network",CACHE_AFTER_NETWORK:"cache-after-network"}},function(e,t,n){"use strict";var r=function(e,t,n,r,o,i,a,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,u],l=0;s=new Error(t.replace(/%s/g,function(){return c[l++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}};e.exports=r},function(e,t,n){var r=n(9);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(161);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){"use strict";function r(){return new Promise(function(e){return requestAnimationFrame(function(){return e()})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t){return setTimeout(function(){return t()},e)})},t.raf=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(116),o=n(209),i=n(210),a=n(211),u=n(120);n(119);n.d(t,"createStore",function(){return r.b}),n.d(t,"combineReducers",function(){return o.a}),n.d(t,"bindActionCreators",function(){return i.a}),n.d(t,"applyMiddleware",function(){return a.a}),n.d(t,"compose",function(){return u.a})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return Object.keys(t).reduce(function(e,n){return e.replace(n,t[n])},e)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(5),s=r(u),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(t){o(this,e);var n=t.bulkParams,r=t.statEvents;n&&r||console.warn("Invalid bulk stat params. `bulkParams`: %s, `statEvents`:",n,r),this._params=t}return a(e,[{key:"getParams",value:function(){return this._params}},{key:"log",value:function(e,t){var n=this._params,r=n.statEvents,o=n.meta,a=this._params.bulkParams,u=r[e];if(!u)return void console.warn("Invalid `statEvent`: %s. Request not sent.",e);var l={},f=t&&t.global?t.global:{};a=i(a,c({},l,f));var d=t&&t.local;d&&(u=i(u,d)),s.default.logBulkEvent(u,a,o)}}]),e}();t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.itemFeedbackCancelSubscribe=t.itemFeedbackSubscribe=t.itemMittensJump=t.itemCancelComplaints=t.itemSendComplaints=t.itemOpenComplaints=t.itemCancelBlock=t.itemBlock=t.itemCancelDislike=t.itemDislike=t.itemCancelLike=t.itemLike=t.ITEM_MITTENS_JUMP=t.ITEM_COMPLAINTS_CANCEL=t.ITEM_COMPLAINTS_SEND=t.ITEM_COMPLAINTS_OPEN=t.ITEM_FEEDBACK_CANCEL_SUBSCRIBE=t.ITEM_FEEDBACK_SUBSCRIBE=t.ITEM_FEEDBACK_CANCEL=t.ITEM_FEEDBACK_BLOCK=t.ITEM_FEEDBACK_DISLIKE=t.ITEM_FEEDBACK_LIKE=void 0;var o=n(5),i=r(o),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=t.ITEM_FEEDBACK_LIKE="ITEM_FEEDBACK_LIKE",s=t.ITEM_FEEDBACK_DISLIKE="ITEM_FEEDBACK_DISLIKE",c=t.ITEM_FEEDBACK_BLOCK="ITEM_FEEDBACK_BLOCK",l=t.ITEM_FEEDBACK_CANCEL="ITEM_FEEDBACK_CANCEL",f=t.ITEM_FEEDBACK_SUBSCRIBE="ITEM_FEEDBACK_SUBSCRIBE",d=t.ITEM_FEEDBACK_CANCEL_SUBSCRIBE="ITEM_FEEDBACK_CANCEL_SUBSCRIBE",p=t.ITEM_COMPLAINTS_OPEN="ITEM_COMPLAINTS_OPEN",h=t.ITEM_COMPLAINTS_SEND="ITEM_COMPLAINTS_SEND",v=t.ITEM_COMPLAINTS_CANCEL="ITEM_COMPLAINTS_CANCEL",y=t.ITEM_MITTENS_JUMP="ITEM_MITTENS_JUMP",m=(t.itemLike=function(e){var t=e.id,n=e.bulkParams,r=e.statEvents;return function(e,o){var i=o(),a=i.feed.items[t];"disliked"===a.feedback&&e(_({id:t,bulkParams:n,statEvents:r})),e({type:u,payload:{id:t},bulkStat:{statEvent:"feedback_more",bulkParams:n,statEvents:r}})}},t.itemCancelLike=function(e){var t=e.id,n=e.bulkParams,r=e.statEvents;return{type:l,payload:{id:t},bulkStat:{statEvent:"feedback_cancel_more",bulkParams:n,statEvents:r}}}),_=(t.itemDislike=function(e){var t=e.id,n=e.bulkParams,r=e.statEvents;return function(e,o){var i=o(),a=i.feed.items[t];"liked"===a.feedback&&e(m({id:t,bulkParams:n,statEvents:r})),e({type:s,payload:{id:t},bulkStat:{statEvent:"feedback_less",bulkParams:n,statEvents:r}})}},t.itemCancelDislike=function(e){var t=e.id,n=e.bulkParams,r=e.statEvents;return{type:l,payload:{id:t},bulkStat:{statEvent:"feedback_cancel_less",bulkParams:n,statEvents:r}}});t.itemBlock=function(e){var t=e.id,n=e.bulkParams,r=e.statEvents;return function(e){e({type:c,payload:{id:t},bulkStat:{statEvent:"feedback_block",bulkParams:n,statEvents:r}}),i.default.invalidateCache()}},t.itemCancelBlock=function(e){var t=e.id,n=e.bulkParams,r=e.statEvents;return function(e){e({type:s,payload:{id:t},bulkStat:{statEvent:"feedback_cancel_block",bulkParams:n,statEvents:r}}),i.default.invalidateCache()}},t.itemOpenComplaints=function(e){var t=e.id,n=e.bulkParams,r=e.statEvents;return{type:p,payload:{id:t},bulkStat:{statEvent:"complain_show",bulkParams:n,statEvents:r}}},t.itemSendComplaints=function(e){var t=e.id,n=e.bulkParams,r=e.statEvents,o=e.reasonIds,i="complain_click",u=a({},r);return u[i]=u[i].replace("__reasons__",o.join(",")),{type:h,payload:{id:t},bulkStat:{statEvent:i,bulkParams:n,statEvents:u}}},t.itemCancelComplaints=function(e){return{type:v,payload:{id:e}}},t.itemMittensJump=function(e,t){return{type:y,payload:{id:e,isMittensJumping:t}}},t.itemFeedbackSubscribe=function(e){return{type:f,payload:{id:e}}},t.itemFeedbackCancelSubscribe=function(e){return{type:d,payload:{id:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EVENTS={STAT:"stat",PLACEHOLDER_UNMOUNT:"placeholderUnmount",PLACEHOLDER:"placeholder",PLACEHOLDER_SHOW:"placeholderShow",PRECACHE_MISS:"precacheMiss",TIMINGS:"timings",FIRST_PAINT:"firstPaint",FIRST_CARD:"firstCard",ROWS_CHANGED:"rowsChanged"}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(10),o=n(30),i=n(18),a=n(48)("src"),u="toString",s=Function[u],c=(""+s).split(u);n(66).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,u){var s="function"==typeof n;s&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(s&&(i(n,a)||o(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:u?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,u,function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t,n){var r=n(16),o=n(49);e.exports=n(17)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(9);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return!!e&&e.some(function(e){return"string"==typeof t?e.type===t:t.has(e.type)})}function a(){d.default.emit(g.default.shouldScrollToTop)}Object.defineProperty(t,"__esModule",{value:!0}),t.answerUserQuestion=t.insertUserQuestion=t.reloadFeed=t.clearFeed=t.drawMoreItems=t.drawScrollToItemsRows=t.initGrid=t.setDisplayedRowsNumber=t.removeChildItem=t.requestSimilar=t.getMore=t.receiveItems=t.REPLACE_ITEM=t.REMOVE_ITEM=t.INSERT_ITEM_AFTER=t.INSERT_ITEM_BEFORE=t.APPEND_ITEM=t.PREPEND_ITEM=t.ANSWER_USER_QUESTION=t.CLEAR_FEED=t.SET_IS_CHILD_WINDOW=t.SET_DISPLAYED_ROWS_NUMBER=t.SET_GRID_TYPE=t.UNLINK_CHILD_ITEM=t.LINK_CHILD_ITEM=t.RECEIVE_SIMILAR=t.REQUEST_SIMILAR=t.RECEIVE_ITEMS=void 0;var u=n(74),s=n(19),c=n(5),l=r(c),f=n(13),d=r(f),p=n(121),h=r(p),v=n(55),y=n(7),m=n(6),_=n(54),b=n(122),g=r(b),E=n(4),w=n(72),O=t.RECEIVE_ITEMS="RECEIVE_ITEMS",k=t.REQUEST_SIMILAR="REQUEST_SIMILAR",S=t.RECEIVE_SIMILAR="RECEIVE_SIMILAR",T=t.LINK_CHILD_ITEM="LINK_CHILD_ITEM",P=t.UNLINK_CHILD_ITEM="UNLINK_CHILD_ITEM",C=t.SET_GRID_TYPE="SET_GRID_TYPE",I=t.SET_DISPLAYED_ROWS_NUMBER="SET_DISPLAYED_ROWS_NUMBER",x=(t.SET_IS_CHILD_WINDOW="SET_IS_CHILD_WINDOW",t.CLEAR_FEED="CLEAR_FEED"),R=t.ANSWER_USER_QUESTION="ANSWER_USER_QUESTION",j=(t.PREPEND_ITEM="PREPEND_ITEM",t.APPEND_ITEM="APPEND_ITEM",t.INSERT_ITEM_BEFORE="INSERT_ITEM_BEFORE",t.INSERT_ITEM_AFTER="INSERT_ITEM_AFTER"),A=t.REMOVE_ITEM="REMOVE_ITEM",N=(t.REPLACE_ITEM="REPLACE_ITEM",t.receiveItems=function(e,t){return{type:O,payload:{items:e,insertOnTop:t}}}),M=t.getMore=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.insertOnTop,n=void 0!==t&&t,r=e.shouldScrollToTopAfterInsert,i=void 0!==r&&r;return function(e,t){var r=l.default.getMore({onTryComplete:function(r){if(!r.isLastSession()){if(r.isRejected)throw r.error;return r.value}if(r.isRejected){var u=0!==r.tryNumber;if(!u){var c=t();(0,y.hasChannelData)(c)||e((0,v.showErrorMessage)())}throw h.default.apiResponseReceiveFailed(s.API_REQUEST_TYPES.MORE,r.error),console.warn(r.error.message),r.error}var f=r.value.apiResponse;h.default.apiResponseReceived(s.API_REQUEST_TYPES.MORE,f),i&&a(),e((0,_.mergeLinks)(o({},s.API_REQUEST_TYPES.MORE,f.more.link||null))),e(N(f.items,n)),f.id&&l.default.packUsed(f.id)}});return r.retriesResult.catch(function(e){console.warn("GetMore retries failed: '"+e.message+"'.")})}},L=(t.requestSimilar=function(e){return function(t,n){var r=n(),o=r.feed,a=o.items[e];if(!a.childItemId&&!a.isSimilarRequested){var u=(0,m.gridSelector)(o),s=u.rows,c=u.elements,f=s[c[e].row+1],d=a.similarLink;i(f,"direct")&&(d=d.replace("_type_","ad")),t({type:k,payload:{itemId:e}}),l.default.getSimilar(d).then(function(n){t({type:S,payload:{itemId:e,similar:n}}),n.items.docs.length+n.items.direct.length!==0&&t(L(e,n))})}}},function(e,t){return function(n,r){var o=r(),a=o.feed,s=(0,m.gridSelector)(a),c=s.rows,l=s.elements,f=l[e].row,d=c[f];if(i(c[f+1],E.CHILD_ITEM_TYPES)){var p=c[f+1][0].id,h=a.items[p];n(D(h.parentId))}n((0,u.batchActions)([{type:j,payload:{afterId:d[d.length-1].id,item:t}},{type:T,payload:{itemId:e,childItemId:t.id}}]))}}),D=t.removeChildItem=function(e){return function(t,n){var r=n(),o=r.feed,i=o.items[e];i.childItemId&&t((0,u.batchActions)([{type:P,payload:{itemId:e}},{type:A,payload:{itemId:i.childItemId}}]))}},B=function(e){return{type:C,payload:{gridType:e}}},U=t.setDisplayedRowsNumber=function(e){return{type:I,payload:{displayedRowsNumber:e}}},F=(t.initGrid=function(e){return function(t){t((0,u.batchActions)([B(e),U((0,m.getInfoForGridType)(e,"initialDisplayedRowsNumber"))]))}},t.drawScrollToItemsRows=function(){return function(e,t){var n=t(),r=n.feed,o=n.shared,i=o.scrollToID;if(i){var a=n.feed.displayedRowsNumber,u=(0,m.gridSelector)(r),s=u.rows,c=s.findIndex(function(e){return e.some(function(e){var t=e.id;return t===i})}),l=c+a;e(U(l))}}},t.drawMoreItems=function(){return function(e,t){var n=t(),r=n.feed,o=r.displayedRowsNumber,i=r.gridType,a=(0,m.gridSelector)(r),u=a.rows,s=(0,m.getInfoForGridType)(i,"rowDisplayStep"),c=o+s;c>u.length&&e(M()),o<=u.length&&e(U(c))}},t.clearFeed=function(){return{type:x}});t.reloadFeed=function(){return function(e){l.default.invalidateCache(),e(F()),e(M())}},t.insertUserQuestion=function(e){return function(t,n){var r=n(),o=r.feed,i=o.items[e];if(!i.isUserQuestionAnswered){var a=(0,w.createUserQuestionItem)(i);setTimeout(function(){t(L(e,a))},500)}}},t.answerUserQuestion=function(e){return function(t,n){var r=n(),o=(0,m.parentIdSelector)(r,e);t({type:R,payload:{id:e,parentId:o}})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return{type:n,bulkStat:{bulkParams:e.bulkParams,statEvents:e.statEvents,statEvent:t},payload:{id:e.id}}}Object.defineProperty(t,"__esModule",{value:!0}),t.createThrottledAsyncAction=t.throttleAsyncAction=t.createAsyncAction=t.createBroadcastAction=void 0,t.createStatAction=o;var i=n(231),a=r(i),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=(t.createBroadcastAction=function(e){return u({},e,{broadcastable:!0})},t.createAsyncAction=function(e,t){var n=void 0,r=e+"-request",o=e+"-succeed",i=e+"-failure",a=function(a){return function(u){u({type:r,payload:a});var s=n=t(a).then(function(e){s===n&&u({type:o,payload:e})},function(t){s===n&&(console.error("Failed to get "+e+":",t),u({type:i,payload:a}))})}};return{action:a,request:r,succeed:o,failure:i}}),c=t.throttleAsyncAction=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=(0,a.default)(function(t,n){return e(t)(n)},t);return function(e){return function(t){return n(e,t)}}};t.createThrottledAsyncAction=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=s(e,t),o=r.action,i=r.request,a=r.succeed,u=r.failure,l=c(o,n);return{action:l,request:i,succeed:a,failure:u}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(378);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}}),e.exports=t.default},function(e,t){e.exports={}},function(e,t,n){var r=n(10),o=n(66),i=n(30),a=n(29),u=n(22),s="prototype",c=function(e,t,n){var l,f,d,p,h=e&c.F,v=e&c.G,y=e&c.S,m=e&c.P,_=e&c.B,b=v?r:y?r[t]||(r[t]={}):(r[t]||{})[s],g=v?o:o[t]||(o[t]={}),E=g[s]||(g[s]={});v&&(n=t);for(l in n)f=!h&&b&&void 0!==b[l],d=(f?b:n)[l],p=_&&f?u(d,r):m&&"function"==typeof d?u(Function.call,d):d,b&&a(b,l,d,e&c.U),g[l]!=d&&i(g,l,p),m&&E[l]!=d&&(E[l]=d)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.zpost=t.zfetch=void 0;var o=n(114),i=n(23),a=r(i),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s="application/json; charset=utf-8",c={credentials:"include",timeout:6e4},l={Accept:s},f=function(e){var t=e.headers.get("Content-Type");return t&&t.indexOf(s)!==-1?e.json():e.text()},d=function(e){var t=e.ok,n=e.url,r=e.status,o=e.statusText;if(!t)throw new Error(n+" "+r+" ("+o+")");return f(e)},p=function(e,t){var n=u({},c,t),r=n.params?(0,o.mergeParams)(e,n.params):e;return new Promise(function(e,t){fetch(r,n).then(d).then(e,t),(0,a.default)(n.timeout).then(function(){t(new Error("Request timeout."))})})};t.zfetch=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=u({},t,{method:"GET",params:u({},t.params||{},{rnd:Date.now()})});return p(e,n)},t.zpost=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=u({},l,t.headers),r=t.body;n["Content-Type"]||(n["Content-Type"]=s,r&&"string"!=typeof r&&(r=JSON.stringify(r)));var o=u({},t,{method:"POST",headers:n,body:r});return p(e,o)}},function(e,t,n){"use strict";function r(e,t){return e===t}function o(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,i=null;return function(){return o(t,n,arguments)||(i=e.apply(null,arguments)),n=arguments,i}}function a(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, "+("instead received the following types: ["+n+"]"))}return t}function u(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var u=0,s=r.pop(),c=a(r),l=e.apply(void 0,[function(){return u++,s.apply(null,arguments)}].concat(n)),f=i(function(){for(var e=[],t=c.length,n=0;n<t;n++)e.push(c[n].apply(null,arguments));return l.apply(null,e)});return f.resultFunc=s,f.recomputations=function(){return u},f.resetRecomputations=function(){return u=0},f}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})}t.__esModule=!0,t.defaultMemoize=i,t.createSelectorCreator=u,t.createStructuredSelector=s;var c=t.createSelector=u(i)},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"f",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"e",function(){return a}),n.d(t,"g",function(){return u}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return c});var r=function(e){return"/"===e.charAt(0)?e:"/"+e},o=function(e){return"/"===e.charAt(0)?e.substr(1):e},i=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)},a=function(e,t){return i(e,t)?e.substr(t.length):e},u=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},s=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");o!==-1&&(r=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return i!==-1&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}},c=function(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=(o(c),n(2)),f=o(l),d=n(288),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h="0px 0px 0px 0px",v=function(e){var t,n;return n=t=function(t){function n(e){i(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t._rootRef=function(e){t._unobserve(),e&&t._observe(e)},t._onIntersectionChange=function(e){var n=t.props.visibilityThreshold,r=e[e.length-1];t.setState({isIntersecting:r.isIntersecting,isVisible:r.intersectionRatio>=n})},t.state={isVisible:!1,isIntersecting:!1},t._intersectionObserver=null,t._node=null,t}return u(n,t),s(n,[{key:"componentWillUnmount",value:function(){this._unobserve()}},{key:"_ensureIntersectionObserverInstance",value:function(){if(null===this._intersectionObserver){var e=this.props,t=e.visibilityThreshold,n=e.rootMargin,r={rootMargin:n,threshold:[0,1-t,t,1]};this._intersectionObserver=new IntersectionObserver(this._onIntersectionChange,r)}}},{key:"_observe",value:function(e){this._ensureIntersectionObserverInstance(),this._node=e,this._intersectionObserver.observe(this._node)}},{key:"_unobserve",value:function(){this._intersectionObserver&&this._intersectionObserver.disconnect(),this._node=null}},{key:"render",value:function(){var t=this.state,n=t.isVisible,o=t.isIntersecting,i=p({},this.props,{rootRef:this._rootRef,isVisible:n,isIntersecting:o});return r.h(e,i)}}]),n}(f.default),t.defaultProps={visibilityThreshold:d.DEFAULT_VISIBILITY_THRESHOLD,rootMargin:h},n};t.default=v,e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";function r(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,r=arguments[2],o=void 0,i=void 0;return function(){for(var a=arguments.length,u=Array(a),s=0;s<a;s++)u[s]=arguments[s];var c=r||t,l=Date.now();clearTimeout(i),o&&l<o+n?i=setTimeout(function(){o=l,e.apply(c,u)},n):(o=l,e.apply(c,u))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.convertToRgb=function(e){if(!e)return null;var t=e.match(/^#([0-9a-f]{3})$/i);return t?(t=t[1],[17*parseInt(t.charAt(0),16),17*parseInt(t.charAt(1),16),17*parseInt(t.charAt(2),16)]):(t=e.match(/^#([0-9a-f]{6})$/i))?(t=t[1],[parseInt(t.substr(0,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(4,2),16)]):(t=e.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i),t?[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]:null)},t.rgbToHsl=function(e,t,n){e/=255,t/=255,n/=255;var r=Math.max(e,t,n),o=Math.min(e,t,n),i=(r+o)/2,a=r-o;if(0===a)return[0,0,i];var u=i>.5?a/(2-r-o):a/(r+o);switch(r){case e:return[((t-n)/a+(t<n?6:0))/6,u,i];case t:return[((n-e)/a+2)/6,u,i];case n:return[((e-t)/a+4)/6,u,i]}},t.isDark=function(e,t,n){var r=Math.sqrt(e*e*.299+t*t*.587+n*n*.114)/255;return r<.53}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CLAMP_ON_RESIZE_THROTTLE=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=(r(s),n(2)),l=r(c),f=n(59),d=r(f),p=n(89),h=r(p),v=n(41),y=r(v),m=t.CLAMP_ON_RESIZE_THROTTLE=500,_=function(t){function n(){o(this,n);var e=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e._clampRef=function(t){return e._clamp=t},e._onResize=(0,y.default)(e._onResize,m,e),e}return a(n,t),u(n,[{key:"_onResize",value:function(){this._clamp&&this._clamp.clamp()}},{key:"render",value:function(){var t=this.props,n=t.className,r=t.style,o=t.isIntersecting,i=t.fitToSpace,a=t.minLineCount,u=t.domRef,s=t.children;return e.h(h.default,{isIntersecting:o,onResize:this._onResize},e.h(d.default,{className:n,style:r,fitToSpace:i,minLineCount:a,domRef:u,ref:this._clampRef},s))}}]),n}(l.default);t.default=_}).call(t,n(0))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=e.length,r=n-1;for(r;r>=0;r--)t(e[r])}function i(e,t){for(var n=[],r=void 0,o=0,i=e.length;o!==i;o++)r=e[o],t(r)&&n.push(r);return n}function a(){return Y++,"__scrollEv"+Y+"__"}function u(){
var e=O(q);q=_(e)}function s(e,t){Z.push([e,t])}function c(e,t,n){return n.fromBottom?e<=n.scroll||!!(n.bottomEdge&&t<=n.scroll):e>=n.scroll||!!(n.bottomEdge&&t>=n.scroll)}function l(){ee(Date.now())}function f(e,t){G&&(t||(clearTimeout(V),V=setTimeout(function(){return ee(Date.now(),!0)},x))),U=e;var n=O(q);q=_(n,t);var r=q,o=r.scroll,i=r.scrollBottomEdge;q.scrolling===!0&&n.scrolling===!1&&g(q),(q.scrolling===!0||t)&&E(q),q.scrolling===!1&&n.scrolling===!0&&w(q),p(o,i),v(o,i),G||requestAnimationFrame(ee)}function d(){o(D,function(e){clearTimeout(e._timeout),e.callback()}),D=[]}function p(e,t){o(A,function(n){var r=c(e,t,n);if(r){if(n.onceDebounce&&n._triggeredDebounce)return;b(n.name,{data:n.data},n.callback),n._triggered=!0,n._triggeredDebounce=!0}else n.onceDebounce&&n._triggeredDebounce&&(n._triggeredDebounce=!1)}),A=i(A,function(e){return!(e._triggered&&e.once)})}function h(e,t){var n=i(M,function(e){return!!e.endTrigger===t}),r=t?e.scrollEndPosition:e.scroll,a=r-e.scrollStartPosition,u=Math.abs(a),s=a>0?1:-1;o(n,function(e){e.onceDebounce&&K[e.name]||u>=e.delta&&(e.direction===s||e.anyDirection)&&(b(e.name,{data:e.data},e.callback),e._triggered=!0,K[e.name]=!0)}),M=i(M,function(e){return!(e._triggered&&e.once)})}function v(e,t){o(N,function(n){0===n._state&&c(e,t,n)&&(b(n.name,{state:1,data:n.data},n.callback),k(n.name)||(n._state=1)),1!==n._state||c(e,t,n)||(b(n.name,{state:0,data:n.data},n.callback),k(n.name)||(n._state=0))})}function y(e){var t=!1;o(Z,function(n){var r=S(n,2),o=r[0],i=r[1];e>=o&&e<=i&&(t=!0)}),Q=t}function m(e,t){var n=Date.now();o(L,function(r){(n-r._lastTriggerTime>=r.timeout||t)&&(b(r.name,{scroll:e.scroll,scrollBottomEdge:e.scrollBottomEdge,data:r.data},r.callback),r._lastTriggerTime=n)})}function _(e,t){var n=O(W),r=z?F:window.pageYOffset,o=Date.now();return n.scroll=r,n.scrollBottomEdge=r+(z?H:window.innerHeight),n.scroll!==e.scroll?n.lastScrollChangeTime=o:n.lastScrollChangeTime=e.lastScrollChangeTime,n.direction=n.scroll>=e.scroll?1:-1,o-n.lastScrollChangeTime>x||t||n.direction!==e.direction?n.scrolling=!1:n.scrolling=!0,n.scrolling===!0&&e.scrolling===!1&&(n.scrollStartPosition=r,K={}),n.scrolling===!0&&void 0!==e.scrollStartPosition&&void 0===n.scrollStartPosition&&(n.scrollStartPosition=e.scrollStartPosition),n.scrolling===!1&&e.scrolling===!0&&(n.scrollStartPosition=e.scrollStartPosition,n.scrollEndPosition=r),n}function b(e,t,n){k(e)||n&&n(t)}function g(e){}function E(e){h(e,!1),m(e,!1)}function w(e){h(e,!0),m(e,!0),d()}function O(e){return{scroll:e.scroll,scrollBottomEdge:e.scrollBottomEdge,scrolling:e.scrolling,lastScrollChangeTime:e.lastScrollChangeTime,scrollStartPosition:e.scrollStartPosition,scrollEndPosition:e.scrollEndPosition,direction:e.direction}}function k(){return B}Object.defineProperty(t,"__esModule",{value:!0}),t.getElemOffsetTop=t.getScrollParams=t.startScrollHandling=t.resumeAllEvents=t.pauseAllEvents=t.removeScrolledAwayEvent=t.removeScrolledByEvent=t.removeStateChangeEvent=t.removeScrolledToEvent=t.removeOnScrollEvent=t.addScrolledAwayEvent=t.addScrolledByEvent=t.addStateChangeEvent=t.addScrolledToEvent=t.addOnScrollEvent=t.addDelayedEvent=void 0;var S=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),T=n(41),P=r(T),C=n(325),I=r(C),x=250,R=30,j=700,A=[],N=[],M=[],L=[],D=[],B=!1,U=0,F=void 0,H=void 0,z=!1,G=I.default.hasSupport,V=void 0,Y=0,W={scroll:void 0,scrollBottomEdge:void 0,scrolling:!1,lastScrollChangeTime:void 0,scrollStartPosition:void 0,scrollEndPosition:void 0},q=O(W),K={},Q=!1,Z=[],J=(t.addDelayedEvent=function(e,t){var n={uniqKey:e.uniqKey,callback:t};n._timeout=setTimeout(function(){D=i(D,function(e){return e!==n}),t()},e.maxWait),void 0!==e.uniqKey&&(o(D,function(t){t.uniqKey===e.uniqKey&&clearTimeout(t._timeout)}),D=i(D,function(t){return t.uniqKey!==e.uniqKey})),D.push(n)},t.addOnScrollEvent=function(e,t,n){L.push({name:e.name||a(),timeout:e.timeout||0,data:n,callback:t,_lastTriggerTime:0})}),X=t.addScrolledToEvent=function(e,t,n){A.push({bottomEdge:e.bottomEdge,name:e.name||a(),scroll:e.scroll,once:e.once,onceDebounce:e.onceDebounce,fromBottom:e.fromBottom,data:n,callback:t})},$=(t.addStateChangeEvent=function(e,t,n){N.push({scroll:e.scroll,name:e.name||a(),bottomEdge:e.bottomEdge,data:n,callback:t,_state:e.defaultState||0}),e.precise&&s(e.scroll-j,e.scroll+j)},t.addScrolledByEvent=function(e,t,n){M.push({delta:e.delta,name:e.name||a(),direction:e.direction>0?1:-1,anyDirection:e.anyDirection,endTrigger:e.endTrigger,once:e.once,onceDebounce:e.onceDebounce,data:n,callback:t})},t.addScrolledAwayEvent=function(e,t,n){u();var r=q.scroll,o=e.direction>0?r+e.delta:r-e.delta;X({bottomEdge:!1,name:e.name||a(),scroll:o,once:e.once,onceDebounce:e.onceDebounce,fromBottom:e.direction<0,data:n,callback:t},t,n)},t.removeOnScrollEvent=function(e){L=i(L,function(t){return t.name!==e})},t.removeScrolledToEvent=function(e){A=i(A,function(t){return t.name!==e})}),ee=(t.removeStateChangeEvent=function(e){N=i(N,function(t){return t.name!==e})},t.removeScrolledByEvent=function(e){M=i(M,function(t){return t.name!==e})},t.removeScrolledAwayEvent=function(e){$(e)},t.pauseAllEvents=function(){B=!0},t.resumeAllEvents=function(){u(),B=!1},t.startScrollHandling=function(){return z?void window.addEventListener("message",function(e){var t=e.data,n=t.type;if("scroll"===n){var r=t.scrollTop,o=t.winHeight;F=r,H=o,l()}}):(G?document.addEventListener("scroll",l,{passive:!0}):requestAnimationFrame(ee),void J({},function(e){var t=e.scroll;y(t)}))},t.getScrollParams=function(){return{scroll:z?F:window.pageYOffset,scrollBottomEdge:z?F+H:window.pageYOffset+window.innerHeight}},t.getElemOffsetTop=function(e){return e.offsetTop},Q?f:(0,P.default)(f,R))},function(e,t,n){var r=n(63),o=n(97);e.exports=function(e){return r(o(e))}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(98),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(97);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(48)("meta"),o=n(9),i=n(18),a=n(16).f,u=0,s=Object.isExtensible||function(){return!0},c=!n(28)(function(){return s(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++u,w:{}}})},f=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!s(e))return"F";if(!t)return"E";l(e)}return e[r].i},d=function(e,t){if(!i(e,r)){if(!s(e))return!0;if(!t)return!1;l(e)}return e[r].w},p=function(e){return c&&h.NEED&&s(e)&&!i(e,r)&&l(e),e},h=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:d,onFreeze:p}},function(e,t,n){"use strict";var r=n(10),o=n(36),i=n(29),a=n(65),u=n(51),s=n(68),c=n(67),l=n(9),f=n(28),d=n(107),p=n(69),h=n(167);e.exports=function(e,t,n,v,y,m){var _=r[e],b=_,g=y?"set":"add",E=b&&b.prototype,w={},O=function(e){var t=E[e];i(E,e,"delete"==e?function(e){return!(m&&!l(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(m||E.forEach&&!f(function(){(new b).entries().next()}))){var k=new b,S=k[g](m?{}:-0,1)!=k,T=f(function(){k.has(1)}),P=d(function(e){new b(e)}),C=!m&&f(function(){for(var e=new b,t=5;t--;)e[g](t,t);return!e.has(-0)});P||(b=t(function(t,n){c(t,b,e);var r=h(new _,t,b);return void 0!=n&&s(n,y,r[g],r),r}),b.prototype=E,E.constructor=b),(T||C)&&(O("delete"),O("has"),y&&O("get")),(C||S)&&O(g),m&&E.clear&&delete E.clear}else b=v.getConstructor(t,e,y,g),a(b.prototype,n),u.NEED=!0;return p(b,e),w[e]=b,o(o.G+o.W+o.F*(b!=_),w),m||v.setStrong(b,e,y),b}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e),this._events={}}return o(e,[{key:"emit",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this._events[e]){var o=this._events[e];o.forEach(function(e){var t=e.listener,r=e.context;t.apply(r,n)})}}},{key:"addListener",value:function(e,t,n){this._events[e]||(this._events[e]=[]),this._events[e].push({listener:t,context:n})}},{key:"removeListener",value:function(e,t){if(this._events[e])for(var n=this._events[e],r=n.length,o=0;o<r;o++)if(n[o].listener===t)return void n.splice(o,1)}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.initApp=t.setIsChildWindow=t.applyExportData=t.mergeUser=t.mergeAuth=t.mergeChannelList=t.mergeChannel=t.mergeContext=t.mergeShared=t.mergeParams=t.mergeLinks=t.mergeStateBranch=t.SET_IS_CHILD_WINDOW=t.MERGE_STATE_BRANCH=void 0;var i=n(14),a=r(i),u=n(5),s=r(u),c=n(19),l=n(121),f=r(l),d=n(74),p=n(71),h=r(p),v=n(32),y=t.MERGE_STATE_BRANCH="MERGE_STATE_BRANCH",m=t.SET_IS_CHILD_WINDOW="SET_IS_CHILD_WINDOW",_=t.mergeStateBranch=function(e,t){return{type:y,payload:{branchName:e,branchState:t}}},b=t.mergeLinks=function(e){return _("links",e)},g=t.mergeParams=function(e){return _("params",e)},E=t.mergeShared=function(e){return _("shared",e)},w=t.mergeContext=function(e){return _("context",e)},O=t.mergeChannel=function(e){return _("channel",e)},k=t.mergeChannelList=function(e){return _("channelList",e)},S=t.mergeAuth=function(e){return _("auth",e)},T=t.mergeUser=function(e){return _("user",e)},P={links:b,params:g,shared:E,context:w,channel:O,channelList:k,auth:S,user:T},C=function(e){var t={experiments_data:"experimentsData",ice_start:"isIceStart",complaints:"complaints"};return Object.keys(t).reduce(function(n,r){return n[t[r]]=e[r],n},{})},I=function(e,t){var n=a.default.get(e,"screens.items");if(!n)return null;var r=n.filter(function(e){var n=e.type;return n===t});return 1!==r.length?null:r[0].source},x=t.applyExportData=function(e){return function(t){var n;f.default.apiResponseReceived(c.API_REQUEST_TYPES.EXPORT,e),t((0,v.clearFeed)());var r=[];if(e.items){var i=a.default.get(e,"grid_type.name");t((0,v.initGrid)(i)),r.push((0,v.receiveItems)(e.items))}var u=(n={},o(n,c.API_REQUEST_TYPES.ONBOARDING,a.default.get(e,"onboarding.link")||null),o(n,c.API_REQUEST_TYPES.MORE,a.default.get(e,"more.link")||null),o(n,c.API_REQUEST_TYPES.BULK,a.default.get(e,"bulk.link")||null),o(n,c.API_REQUEST_TYPES.SUBS,I(e,"subs")||I(e,"switchable_subs")),o(n,c.API_REQUEST_TYPES.PROFILE,I(e,"profile")),o(n,c.API_REQUEST_TYPES.CATEGORIES,I(e,"categories")),o(n,c.API_REQUEST_TYPES.SUGGEST,I(e,"suggest")),n),l=C(e);r.push(b(u)),r.push(g(l)),t((0,d.batchActions)(r)),e.id&&s.default.packUsed(e.id)}},R=t.setIsChildWindow=function(e){return{type:m,payload:{isChildWindow:e}}};t.initApp=function(e){return function(t){var n=e.exportData,r=e.isExportDataParsed,o=void 0===r||r,i=e.initialDisplayedRowsNumber,a=e.params,u=[];if(Object.keys(P).forEach(function(t){var n=e[t];if(n){var r=P[t];u.push(r(n))}}),t((0,d.batchActions)(u)),n){var s=o?n:(0,h.default)(n);t(x(s))}i&&t((0,v.setDisplayedRowsNumber)(i));var c=a.isChildPage;c&&t(R(c)),t((0,v.drawScrollToItemsRows)())}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.videoAutoplayOff=t.videoAutoplayOn=t.enableBodyScroll=t.disableBodyScroll=t.enableNotifiers=t.disableNotifiers=t.showErrorMessage=t.hideErrorMessage=t.switchMoreButtonOffsetMode=t.hideMoreButton=t.showMoreButton=t.VIDEO_AUTOPLAY_OFF=t.VIDEO_AUTOPLAY_ON=t.ENABLE_BODY_SCROLL=t.DISABLE_BODY_SCROLL=t.ENABLE_NOTIFIERS=t.DISABLE_NOTIFIERS=t.HIDE_ERROR_MESSAGE=t.SHOW_ERROR_MESSAGE=t.HIDE_SPINNER=t.SHOW_SPINNER=t.SWITCH_MORE_BUTTON_OFFSET_MODE=t.HIDE_MORE_BUTTON=t.SHOW_MORE_BUTTON=void 0;var o=n(23),i=r(o),a=t.SHOW_MORE_BUTTON="SHOW_MORE_BUTTON",u=t.HIDE_MORE_BUTTON="HIDE_MORE_BUTTON",s=t.SWITCH_MORE_BUTTON_OFFSET_MODE="SWITCH_MORE_BUTTON_OFFSET_MODE",c=(t.SHOW_SPINNER="SHOW_SPINNER",t.HIDE_SPINNER="HIDE_SPINNER",t.SHOW_ERROR_MESSAGE="SHOW_ERROR_MESSAGE"),l=t.HIDE_ERROR_MESSAGE="HIDE_ERROR_MESSAGE",f=t.DISABLE_NOTIFIERS="DISABLE_NOTIFIERS",d=t.ENABLE_NOTIFIERS="ENABLE_NOTIFIERS",p=t.DISABLE_BODY_SCROLL="DISABLE_BODY_SCROLL",h=t.ENABLE_BODY_SCROLL="ENABLE_BODY_SCROLL",v=t.VIDEO_AUTOPLAY_ON="VIDEO_AUTOPLAY_ON",y=t.VIDEO_AUTOPLAY_OFF="VIDEO_AUTOPLAY_OFF",m=(t.showMoreButton=function(){return function(e,t){var n=t(),r=n.iface,o=r.isSpinnerVisible,i=r.isErrorMessageVisible,u=r.isNotifiersDisabled;o||i||u||e({type:a,payload:null})}},t.hideMoreButton=function(){return function(e){e({type:u,payload:null})}}),_=(t.switchMoreButtonOffsetMode=function(e){return function(t){t({type:s,payload:{offsetMode:e}})}},t.hideErrorMessage=function(){return function(e){e({type:l,payload:null})}});t.showErrorMessage=function(){return function(e,t){var n=t(),r=n.iface,o=r.isErrorMessageVisible,a=r.isNotifiersDisabled;o||a||(e(m()),e({type:c,payload:null}),(0,i.default)(5e3).then(function(){return e(_())}))}},t.disableNotifiers=function(){return function(e){e(_()),e(m()),e({type:f,payload:null})}},t.enableNotifiers=function(){return{type:d,payload:null}},t.disableBodyScroll=function(){return{type:p}},t.enableBodyScroll=function(){return{type:h}},t.videoAutoplayOn=function(){return{type:v}},t.videoAutoplayOff=function(){return{type:y}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.TAB_FEED="/",o=t.TAB_SUBS="/subscriptions",i=t.TAB_PROFILE="/profile",a=t.TAB_CHANNELS="/top",u=(t.NAV_TOP_FIXED="fix-top",t.NAV_BOTTOM_FIXED="fix-bottom",t.NAV_TOP_FREE="free-top",t.TABS=[{id:r,icon:"feed",exact:!0,title:"Лента"},{id:o,icon:"subs",title:"Подписки"},{id:a,icon:"channels",title:"Каналы"},{id:i,icon:"profile",title:"Профиль"}]),s=t.route=function(e){return u.map(function(t){var n=t.id,r=t.icon,o=t.exact,i=t.title,a=o?e===n:0===e.indexOf(n);return{id:n,icon:r,title:i,current:a}})};t.isChannel=function(e){return s(e).reduce(function(e,t){var n=t.current;return e&&!n},!0)}},function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return s});var r=n(130),o=n(131),i=n(39),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(e,t,n,o){var u=void 0;"string"==typeof e?(u=Object(i.d)(e),u.state=t):(u=a({},e),void 0===u.pathname&&(u.pathname=""),u.search?"?"!==u.search.charAt(0)&&(u.search="?"+u.search):u.search="",u.hash?"#"!==u.hash.charAt(0)&&(u.hash="#"+u.hash):u.hash="",void 0!==t&&void 0===u.state&&(u.state=t));try{u.pathname=decodeURI(u.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+u.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(u.key=n),o?u.pathname?"/"!==u.pathname.charAt(0)&&(u.pathname=Object(r.default)(u.pathname,o.pathname)):u.pathname=o.pathname:u.pathname||(u.pathname="/"),u},s=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&Object(o.default)(e.state,t.state)}},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=(o(c),n(1)),f=o(l),d=n(308),p=o(d),h=n(140),v=o(h),y=n(90),m=o(y),_=n(91),b=o(_),g=n(310);n(311);var E=(0,f.default)("clamp"),w=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={visibilitySplitIndex:(0,m.default)(n.props.children).length,isEllipsisNeeded:!1},n._containerRef=n._containerRef.bind(n),n._textRef=function(e){return n._textElem=e},n._isMounted=!1,n._isPropsChanged=!1,n}return u(t,e),s(t,[{key:"_containerRef",value:function(e){this._containerElem=e,this.props.domRef&&"function"==typeof this.props.domRef&&this.props.domRef(e)}},{key:"_withValidation",value:function(e,t){var n=this;return function(){return n._isMounted&&n._containerElem&&n._textElem?e&&e.apply(void 0,arguments):t&&t.apply(void 0,arguments)}}},{key:"_setState",value:function(e){var t=this;return new Promise(function(n){t.setState(e,n)})}},{key:"_hide",value:function(){return this._setState({visibilitySplitIndex:0,isEllipsisNeeded:!1})}},{key:"clamp",value:function(){var e=this;return new Promise(function(t,n){var r=function(){n(new Error("Not applied 'clamp' call."))};e._isMounted||r(),p.default.measure(e._withValidation(function(){return(0,g.getFirstColumnInfo)(e._containerElem,e._textElem)},r)).then(function(t){if(!t)return e._hide();var n=e.props.minLineCount,r=t.lineCount,o=t.isEllipsisNeeded,i=t.endIndex;return r<n&&o?e._hide():e._setState({isEllipsisNeeded:o,visibilitySplitIndex:i})}).then(t,r)}).catch(function(e){console.warn(e)})}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.props.withAutoClamp&&(window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(function(){return e.clamp()}):this.clamp())}},{key:"componentWillReceiveProps",value:function(e){var t=(0,m.default)(this.props.children),n=(0,m.default)(e.children);t!==n&&this.setState(function(e){return{visibilitySplitIndex:e.visibilitySplitIndex&&n.length,isEllipsisNeeded:!1}})}},{key:"shouldComponentUpdate",value:function(e,t){var n=(0,v.default)(this.props,e,["children"]),r=(0,v.default)(this.state,t),o=(0,v.default)(this.props.children,e.children);return this._isPropsChanged=!n||!o,!n||!r||!o}},{key:"componentDidUpdate",value:function(){this._isPropsChanged&&this.props.withAutoClamp&&this.clamp()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.style,o=e.fitToSpace,i=e.children,a=this.state,u=a.visibilitySplitIndex,s=a.isEllipsisNeeded,c=(0,m.default)(i);(0,b.default)("Clamp",i);var l=t?E()+" "+t:E(),f=s?(0,g.correctVisibilitySplitIndex)(c,u):u,d=c.slice(0,f),p=c.slice(f);return r.h("div",{className:l,style:n,ref:this._containerRef},r.h("div",{className:E("wrapper")},r.h("div",{className:E("text"),ref:this._textRef},r.h("span",{className:E("visible-tokens",{ellipsis:s})},d),r.h("span",{className:E("invisible-tokens")},p),r.h("div",{className:E("spacer")}))),o?null:r.h("div",{className:E("text-expand")},i))}}]),t}(c.Component);w.defaultProps={minLineCount:1,withAutoClamp:!0},t.default=w,e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=(o(c),n(3)),f=n(2),d=o(f),p=n(312),h=o(p),v=n(26),y=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._onLike=e._onLike.bind(e),e._onDislike=e._onDislike.bind(e),e}return u(t,e),s(t,[{key:"_getStatParams",value:function(){var e=this.props,t=e.id,n=e.bulkParams,r=e.statEvents;return{id:t,bulkParams:n,statEvents:r}}},{key:"_onLike",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.props,n=t.feedback,r=t.itemLike,o=t.itemCancelLike,i=t.onLike,a=t.onCancelLike;"liked"===n?(o(this._getStatParams()),a&&a(e)):(r(this._getStatParams()),i&&i(e))}},{key:"_onDislike",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.props,n=t.feedback,r=t.itemDislike,o=t.itemCancelDislike,i=t.onDislike,a=t.onCancelDislike;"disliked"===n?(o(this._getStatParams()),a&&a(e)):(r(this._getStatParams()),i&&i(e))}},{key:"render",value:function(){var e=this.props,t=e.size,n=e.color,o=e.cursor,i=e.feedback,a=e.isMittensJumping,u=e.theme,s=e.className,c={size:t,color:n,cursor:o,theme:u,className:s,liked:"liked"===i,disliked:"disliked"===i,jump:a,onLikeClick:this._onLike,onDislikeClick:this._onDislike};return r.h(h.default,c)}}]),t}(d.default);t.default=(0,l.connect)(null,{itemLike:v.itemLike,itemCancelLike:v.itemCancelLike,itemDislike:v.itemDislike,itemCancelDislike:v.itemCancelDislike})(y),e.exports=t.default}).call(t,n(0))},function(e,t,n){var r=n(9),o=n(10).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(158),o=n(100);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(46);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(99)("keys"),o=n(48);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(29);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(22),o=n(102),i=n(103),a=n(21),u=n(47),s=n(104),c={},l={},t=e.exports=function(e,t,n,f,d){var p,h,v,y,m=d?function(){return e}:s(e),_=r(n,f,t?2:1),b=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(i(m)){for(p=u(e.length);p>b;b++)if(y=t?_(a(h=e[b])[0],h[1]):_(e[b]),y===c||y===l)return y}else for(v=m.call(e);!(h=v.next()).done;)if(y=o(v,_,h.value,t),y===c||y===l)return y};t.BREAK=c,t.RETURN=l},function(e,t,n){var r=n(16).f,o=n(18),i=n(11)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}return a.done?void e(u):Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)})}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var u,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(53),l=r(c),f=n(190),d=r(f),p=n(193),h=r(p),v=n(194),y=r(v),m=n(71),_=r(m),b=n(72),g=n(19),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w={GET_BEFORE_NETWORK:["default"],GET_AFTER_NETWORK:["default","reload"],PUT_AFTER_NETWORK:["default","reload","no-cache"]},O={zenFeatures:null,clientExperiments:null,retryTimeouts:[3e4,18e4],apiResponseValidator:function(){return null},links:(u={},a(u,g.API_REQUEST_TYPES.ONBOARDING,null),a(u,g.API_REQUEST_TYPES.EXPORT,null),a(u,g.API_REQUEST_TYPES.MORE,null),a(u,g.API_REQUEST_TYPES.BULK,null),a(u,g.API_REQUEST_TYPES.SUBS,null),a(u,g.API_REQUEST_TYPES.PROFILE,null),a(u,g.API_REQUEST_TYPES.CATEGORIES,null),u),userInfo:{oauthToken:null,login:null,deviceId:null,profileId:null,yandexuid:null},cache:{type:g.CACHE_TYPES.SESSION_CACHE,namespace:"common",isPrefetchEnabled:!0}},k=function(){function e(t){var n=this;i(this,e),this._config=O,this._mediator=new l.default,this._cache=new d.default(this),this._network=new h.default(this),this._queue=Promise.resolve(),this._lastUsedPackId=null,this._retryableGetApiResponse=(0,y.default)(function(e,t,r){return n._addToQueue(function(){return n._getApiResponse(e,t,r)})}),t?this.configure(t):this._updateTimeouts()}return s(e,[{key:"_getApiRequestUrl",value:function(e){var t=this._config.links[e];if(!t)throw new Error("ZenApi "+e+" url is not configured.");return t}},{key:"_getApiResponseFromNetworkAndMaybePutItToCache",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t){var n,r,o,i,a,u,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._getApiRequestUrl(t),r=s.cache||"default",e.next=4,this._network.makeApiRequest(n,s);case 4:return o=e.sent,i=E({},o,{received_at:Date.now()}),a=(0,_.default)(i),this._config.apiResponseValidator(a),u=w.PUT_AFTER_NETWORK.includes(r),this._config.cache&&u&&this._cache.putNotShownPack(t,i).catch(function(e){}),e.abrupt("return",{apiResponse:a,source:g.SOURCES.NETWORK});case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"_getApiResponseFromCacheBeforeNetwork",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cache.getNotShownPack();case 2:if(n=e.sent,r=(0,_.default)(n.apiResponse),t!==g.API_REQUEST_TYPES.MORE||n.type!==g.API_REQUEST_TYPES.EXPORT){e.next=6;break}throw new Error("Can not apply cache from export to more request.");case 6:if(this._lastUsedPackId!==r.id){e.next=8;break}throw new Error("Pack '"+r.id+"' has already been used.");case 8:return e.abrupt("return",{apiResponse:r,source:g.SOURCES.CACHE_BEFORE_NETWORK});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"_getApiResponseFromCacheAfterNetwork",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,e.next=4,this._cache.getNotShownPack({byStoreTtl:!0});case 4:t=e.sent,e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._cache.getLastShownPack({byStoreTtl:!0});case 11:t=e.sent;case 12:return e.abrupt("return",{apiResponse:(0,_.default)(t.apiResponse),source:g.SOURCES.CACHE_AFTER_NETWORK});case 13:case"end":return e.stop()}},e,this,[[1,7]])}));return e}()},{key:"_getApiResponse",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t){var n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.cache||"default",r=void 0,!this._config.cache||!w.GET_BEFORE_NETWORK.includes(n)){e.next=11;break}return e.prev=3,e.next=6,this._getApiResponseFromCacheBeforeNetwork(t);case 6:r=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:if(r){e.next=31;break}return e.prev=12,e.next=15,this._getApiResponseFromNetworkAndMaybePutItToCache(t,o);case 15:r=e.sent,e.next=31;break;case 18:if(e.prev=18,e.t1=e.catch(12),!this._config.cache||t!==g.API_REQUEST_TYPES.EXPORT||!w.GET_AFTER_NETWORK.includes(n)){e.next=29;break}return e.prev=21,e.next=24,this._getApiResponseFromCacheAfterNetwork();case 24:r=e.sent,e.next=29;break;case 27:e.prev=27,e.t2=e.catch(21);case 29:if(r){e.next=31;break}throw e.t1;case 31:return i&&this._updateNotShownPack(),e.abrupt("return",r);case 33:case"end":return e.stop()}},e,this,[[3,9],[12,18],[21,27]])}));return e}()},{key:"_hasValidNotShownPackInCache",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._getApiResponseFromCacheBeforeNetwork(t);case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return e}()},{key:"_updateNotShownPack",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.invalidate,r=void 0!==n&&n;this._config.cache&&this._config.cache.isPrefetchEnabled&&this._addToQueue(o(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=g.API_REQUEST_TYPES.MORE,t.t0=r,t.t0){t.next=6;break}return t.next=5,e._hasValidNotShownPackInCache(n);case 5:t.t0=!t.sent;case 6:if(!t.t0){t.next=15;break}return t.prev=7,t.next=10,e._getApiResponseFromNetworkAndMaybePutItToCache(n);case 10:t.next=15;break;case 12:t.prev=12,t.t1=t.catch(7),console.warn("Failed to update 'not-shown' pack: '"+t.t1.message+"'.");case 15:case"end":return t.stop()}},t,e,[[7,12]])})))}},{key:"_updateTimeouts",value:function(){var e=this._config.retryTimeouts;this._retryableGetApiResponse.setOptions({timeouts:e})}},{key:"_addToQueue",value:function(e){var t=this._queue=this._queue.then(function(){return e()},function(){return e()});return t.catch(function(e){}),t}},{key:"configure",value:function(e){this._config="function"==typeof e?e(this._config):e,this._updateTimeouts()}},{key:"getConfig",value:function(){return this._config}},{key:"getExport",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._retryableGetApiResponse.startSession(E({},e,{args:[g.API_REQUEST_TYPES.EXPORT,e.options,e.shouldUpdateCache]}))}},{key:"getMore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._retryableGetApiResponse.startSession(E({},e,{args:[g.API_REQUEST_TYPES.MORE]}))}},{key:"getSimilar",value:function(e){return this._network.makeApiRequest(e).then(b.similarParser)}},{key:"getSubs",value:function(){var e=this._getApiRequestUrl(g.API_REQUEST_TYPES.SUBS);return this._network.makeApiRequest(e).then(b.subsParser);
}},{key:"getProfile",value:function(){var e=this._getApiRequestUrl(g.API_REQUEST_TYPES.PROFILE);return this._network.makeApiRequest(e).then(b.profileParser)}},{key:"getSuggest",value:function(e){var t=this._getApiRequestUrl(g.API_REQUEST_TYPES.SUGGEST);return this._network.makeApiRequest(t,{params:{search_text:e}}).then(b.channelListParser)}},{key:"getCategories",value:function(){var e=this._getApiRequestUrl(g.API_REQUEST_TYPES.CATEGORIES);return this._network.makeApiRequest(e).then(b.categoryListParser)}},{key:"getCategory",value:function(e){return this._network.makeApiRequest(e).then(b.channelListParser)}},{key:"invalidateCache",value:function(){this._updateNotShownPack({invalidate:!0})}},{key:"packUsed",value:function(e){this._lastUsedPackId=e}},{key:"packShown",value:function(e){var t=this;this._mediator.emit(g.EVENTS.PACK_SHOWN,e),this._config.cache&&this._addToQueue(o(regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=void 0,n.prev=1,n.next=4,t._cache.getNotShownPack();case 4:r=n.sent,n.next=9;break;case 7:n.prev=7,n.t0=n.catch(1);case 9:if(!r){n.next=19;break}if(o=(0,_.default)(r.apiResponse),o.id!==e){n.next=19;break}return n.prev=12,n.next=15,Promise.all([t._cache.removeNotShownPack(),t._cache.putLastShownPack(r.type,r.apiResponse)]);case 15:n.next=19;break;case 17:n.prev=17,n.t1=n.catch(12);case 19:t._updateNotShownPack();case 20:case"end":return n.stop()}},n,t,[[1,7],[12,17]])})))}},{key:"addListener",value:function(e,t){this._mediator.addListener(e,t)}},{key:"removeListener",value:function(e,t){this._mediator.removeListener(e,t)}}]),e}();t.default=k,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(72),i=r(o),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(e){var t=void 0;if(e.items){var n=e.items.reduce(function(t,n){return n&&t.push(a({},(0,i.default)(n),{packId:e.rid})),t},[]);t=n.length>0?n:null}else t=null;return a({},e,{id:e.rid,receivedAt:e.received_at,ttl:1e3*e.ttl,storeTtl:1e3*e.store_ttl,source:e.sf,items:t})};t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"item";return e+"_"+Math.random()*Date.now()}function i(e){return e.image&&!e.big_card_image,{id:e.id,type:E.TYPE_DOC,ad:e.ad,domain:e.domain,domainTitle:e.domain_title,link:e.link,isPromoted:e.is_promoted,title:e.title||" ",text:e.text||" ",logo:e.logo,image:e.image,bigImage:e.big_card_image||e.image,blurredPreview:e.blurred_preview,cardBackgroundImage:e.card_background_image,cardBackgroundWhiteImage:e.card_background_white_image,cardColors:e.card_colors&&{card:e.card_colors.card,text:e.card_colors.text},mainColor:e.main_color,similarLink:e.similar.link,bulkParams:e.bulk_params,statEvents:e.stat_events,read:e.read,feedback:u(e),isSubscribed:e.is_favorited,customUserFeedbackData:b(e),pixels:e.pixels}}function a(e){var t=i(e);return t.type=E.TYPE_NARRATIVE,t.isPromoNarrative="narrative_promo_text"===e.narrative_style,t}function u(e){var t=e.feedback_info;return t&&t.is_liked?"liked":t&&t.is_disliked?"disliked":null}function s(e){return e.image&&!e.big_card_image&&console.warn("no big_card_image",e),{id:e.id,type:E.TYPE_VIDEO,domain:e.domain,domainTitle:e.domain_title,link:e.link,title:e.title||" ",text:e.text||" ",logo:e.logo,image:e.image,bigImage:e.big_card_image||e.image,blurredPreview:e.blurred_preview,video:e.video,cardColors:e.card_colors&&{card:e.card_colors.card,text:e.card_colors.text},mainColor:e.main_color,similarLink:e.similar.link,bulkParams:e.bulk_params,statEvents:e.stat_events,read:e.read,started:!1,feedback:u(e),pixels:e.pixels}}function c(e){return e.image&&!e.big_card_image&&console.warn("no big_card_image",e),{id:e.id,type:E.TYPE_GIF,domain:e.domain,domainTitle:e.domain_title,link:e.link,title:e.title||" ",text:e.text||" ",logo:e.logo,image:e.image,bigImage:e.big_card_image||e.image,blurredPreview:e.blurred_preview,video:e.video,cardColors:e.card_colors&&{card:e.card_colors.card,text:e.card_colors.text},mainColor:e.main_color,similarLink:e.similar.link,bulkParams:e.bulk_params,statEvents:e.stat_events,read:e.read,feedback:u(e),isSubscribed:e.is_favorited}}function l(e){if(!e.items||!e.items[0]||!e.items[0].content)return console.error("Ad parsing error: "+JSON.stringify(e)),null;var t=e.items[0],n=t.content,r=t.stat_events,i=t.bulk_params,a=!1;if(n.image&&n.image.length){var u=g(n.image,3),s=(u[0],u[1]),c=u[2],l=s/c;l>4/3&&(a=!0)}return{id:o(E.TYPE_DIRECT),type:E.TYPE_DIRECT,url:n.url,showUrl:n.linkHead+n.linkTail,domain:n.domain,title:n.title||" ",text:n.body,age:n.age,warning:n.warning,image:n.image,isWideImage:a,statEvents:r,bulkParams:i}}function f(e){var t={id:o(E.TYPE_ICEBOARDING_GRID),type:e.type,sources:e.sources.map(p),stats:e.stats,moreButton:void 0};return e.more_button&&(t.moreButton={link:e.more_button.click}),t}function d(e,t){var n=e.source_id,r=e.link,o=e.image,i=e.background_color,a=e.text_color,u=e.name,s=e.name_background_color,c=e.stat_events,l=e.bulk_params,f=e.feed_link,d=e.status;return{id:n,url:r,bulkParams:l,statEvents:c,image:o,imageBackgroundColor:i,text:u,textColor:a,textBackgroundColor:s,feedLink:f,userSubscribed:t||"subscribed"===d,userBlocked:!t&&"blocked"===d}}function p(e){return{id:e.source_id,logo:{image:e.image,backgroundColor:e.background_color},title:{text:e.name,backgroundColor:e.name_background_color,color:e.text_color}}}function h(e){var t={title:e.title||" ",text:e.text||" ",link:e.link,domainTitle:e.domain_title,image:e.images&&e.images.horizontal,bulkParams:e.bulk_params,statEvents:e.stat_events,ad:e.ad};return e.hasOwnProperty("card_colors")?t.cardColors=e.card_colors:e.hasOwnProperty("main_color")&&(t.mainColor=e.main_color),t}function v(e){var t=[],n=[];return e.forEach(function(e){switch(e.type){case"small_card":t.push(h(e));break;case"ad":n.push(l(e))}}),{docs:t,direct:n}}function y(e){return{id:e.id,type:e.type,source:e.domain_title,title:e.title,link:e.link,items:e.items.map(m),bulkParams:e.bulk_params,statEvents:e.stat_events}}function m(e){return{id:e.id,title:e.title,link:e.link,image:e.image_squared,text:e.text||" ",info:e.info,bulkParams:e.bulk_params,statEvents:e.stat_events,colors:{text:e.card_colors.text,card:e.card_colors.card}}}function _(e){return{id:e.item_id.toString(),type:e.type,statEvents:e.stat_events,bulkParams:e.bulk_params}}function b(e){if(!e.custom_user_feedback_data)return null;try{return{questions:e.custom_user_feedback_data.questions.map(function(e){return{id:e.id,text:e.text,answers:e.answers.map(function(e){return{id:e.id,text:e.text}})}})}}catch(e){return console.warn("Error parsing custom_user_feedback_data",e),null}}Object.defineProperty(t,"__esModule",{value:!0}),t.createUserQuestionItem=t.similarParser=t.profileParser=t.categoryListParser=t.channelListParser=t.subsParser=void 0;var g=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),E=n(4),w=(t.subsParser=function(e){var t,n=e.items.filter(function(e){var t=e.type;return"subscriptions"===t}).map(function(e){return e.sources.filter(function(e){var t=e.empty;return!t}).map(function(e){return d(e,!0)})});return{channels:(t=[]).concat.apply(t,r(n))}},function(e){var t=e.id,n=e.type,r=e.item_type,o=e.title,i=e.subtitle,a=e.text,u=e.link,s=e.stat_events,c=e.image,l=e.status,f=e.bulk_params,d=e.feed_link,p=e.description;return{id:t,type:n,itemType:r,title:o,description:p,subtitle:i,text:a,link:u,statEvents:s,image:c,userSubscribed:"subscribed"===l,userBlocked:"blocked"===l,bulkParams:f,feedLink:d}}),O=(t.channelListParser=function(e){return{channels:e.items.map(w)}},t.categoryListParser=function(e){var t=e.items.filter(function(e){var t=e.type;return"carousel"===t}).map(function(e){var t=e.sources;return t}),n=void 0;if(0!==t.length){var o;n=(o=[]).concat.apply(o,r(t)).map(function(e){return d(e,!1)})}var i=e.items.filter(function(e){var t=e.type;return"list_item"===t}).map(O);return{channels:n,list:i}},function(e){var t=e.link,n=e.title,r=e.icon,o=e.name,i=e.stat_events,a=e.bulk_params;return{link:t,title:n,icon:r,name:o,statEvents:i,bulkParams:a}}),k=function(e){var t=e.email,n=e.name,r=e.avatar;return{email:t,name:n,avatar:r}},S=function(e){var t=e.count,n=e.external_url;return{count:t,externalUrl:n}},T=function(e){var t=e.country,n=e.external_url;return{country:t,externalUrl:n}},P=function(e){var t=e.external_url;return{externalUrl:t}},C={"no-user":P,"user-info":k,"blocked-count":S,language:T,feedback:P,eula:P,logout:P},I={"no-user":"noUser","user-info":"userInfo","blocked-count":"blockedCount"},x=(t.profileParser=function(e){var t=e.items.reduce(function(e,t){if(C.hasOwnProperty(t.type)){var n=I[t.type]||t.type;e[n]=C[t.type](t)}return e},{});return t.userInfo||t.noUser||console.error("Inconsistent profile data"),t},t.similarParser=function(e){return{id:o(E.TYPE_SIMILAR),type:E.TYPE_SIMILAR,items:v(e.items)}},t.createUserQuestionItem=function(e){var t=e.customUserFeedbackData,n=e.bulkParams,r=e.statEvents;return{type:E.TYPE_USER_QUESTION,id:o(E.TYPE_USER_QUESTION),data:t,bulkParams:n,statEvents:r}},function(e){switch(e.type){case E.TYPE_DOC:return e.video?s(e):i(e);case E.TYPE_GIF:return c(e);case"ad":return l(e);case E.TYPE_ICEBOARDING_GRID:return f(e);case E.TYPE_MAGIC_CARD:return y(e);case E.TYPE_HINT_EULA:return e;case E.TYPE_NARRATIVE:return a(e);case E.TYPE_PLACEHOLDER:return _(e);case E.TYPE_SUBSCRIPTIONS:return parseSubscriptions(e);default:return console.warn("Unsupported doc type: "+e.type),null}});t.default=x},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;return{type:t,meta:{batch:!0},payload:e}}function o(e){return function t(n,r){return r&&r.meta&&r.meta.batch?r.payload.reduce(t,n):e(n,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.batchActions=r,t.enableBatching=o;var i=t.BATCH="BATCHING_REDUCER.BATCH"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i={feedback:null,complaints:null,complaintsSendedAt:null},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.ITEM_FEEDBACK_LIKE:return o({},e,{feedback:"liked"});case r.ITEM_FEEDBACK_DISLIKE:return o({},e,{feedback:"disliked"});case r.ITEM_FEEDBACK_BLOCK:return o({},e,{feedback:"blocked"});case r.ITEM_FEEDBACK_CANCEL:return o({},e,{feedback:null});case r.ITEM_COMPLAINTS_OPEN:return o({},e,{complaints:"opened"});case r.ITEM_COMPLAINTS_SEND:return o({},e,{complaints:"sended",complaintsSendedAt:e.feedback});case r.ITEM_COMPLAINTS_CANCEL:return o({},e,{complaints:null,complaintsSendedAt:null});case r.ITEM_MITTENS_JUMP:var n=t.payload.isMittensJumping;return o({},e,{isMittensJumping:n});case r.ITEM_FEEDBACK_SUBSCRIBE:return o({},e,{isSubscribed:!0,isSubscribedInCurrentSession:!0});case r.ITEM_FEEDBACK_CANCEL_SUBSCRIBE:return o({},e,{isSubscribed:!1});default:return e}};t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return t.reduce(function(e,t){return t(e,n)},e)}};t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.DOC_SHOW="DOC_SHOW",o=t.DOC_SHORT="DOC_SHORT",i=t.DOC_CLICK="DOC_CLICK",a=t.DOC_READ="DOC_READ";t.docShow=function(e){return{type:r,statEvent:"show",payload:{id:e}}},t.docShort=function(e){return{type:o,statEvent:"short",payload:{id:e}}},t.docClick=function(e){return{type:i,statEvent:"click",payload:{id:e}}},t.docRead=function(e){return{type:a,payload:{id:e}}}},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.stripChannels=function(e){return e?e.map(function(e){var t=Object.assign({},e);return delete t.userSubscribed,delete t.userBlocked,delete t.subscribers,t}):e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(243);n.d(t,"ConnectedRouter",function(){return r.a});var o=n(264);n.d(t,"getLocation",function(){return o.b}),n.d(t,"createMatchSelector",function(){return o.a});var i=n(134);n.d(t,"LOCATION_CHANGE",function(){return i.a}),n.d(t,"routerReducer",function(){return i.b});var a=n(135);n.d(t,"CALL_HISTORY_METHOD",function(){return a.a}),n.d(t,"push",function(){return a.e}),n.d(t,"replace",function(){return a.f}),n.d(t,"go",function(){return a.b}),n.d(t,"goBack",function(){return a.c}),n.d(t,"goForward",function(){return a.d}),n.d(t,"routerActions",function(){return a.g});var u=n(265);n.d(t,"routerMiddleware",function(){return u.a})},function(e,t,n){"use strict";t.__esModule=!0;var r=(t.addLeadingSlash=function(e){return"/"===e.charAt(0)?e:"/"+e},t.stripLeadingSlash=function(e){return"/"===e.charAt(0)?e.substr(1):e},t.hasBasename=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)});t.stripBasename=function(e,t){return r(e,t)?e.substr(t.length):e},t.stripTrailingSlash=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},t.parsePath=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");o!==-1&&(r=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return i!==-1&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}},t.createPath=function(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(8),u=n.n(a),s=n(20),c=n.n(s),l=n(0),f=n(15),d=n.n(f),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(e){function t(){var n,i,a;r(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=i=o(this,e.call.apply(e,[this].concat(s))),i.state={match:i.computeMatch(i.props.history.location.pathname)},a=n,o(i,a)}return i(t,e),t.prototype.getChildContext=function(){return{router:p({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,r=t.history;c()(null==n||1===l.default.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen(function(){e.setState({match:e.computeMatch(r.location.pathname)})})},t.prototype.componentWillReceiveProps=function(e){u()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?l.default.Children.only(e):null},t}(l.default.Component);h.propTypes={history:d.a.object.isRequired,children:d.a.node},h.contextTypes={router:d.a.object},h.childContextTypes={router:d.a.object.isRequired},t.a=h},function(e,t,n){"use strict";var r=n(8),o=n.n(r),i=function(){var e=null,t=function(t){return o()(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},n=function(t,n,r,i){if(null!=e){var a="function"==typeof e?e(t,n):e;"string"==typeof a?"function"==typeof r?r(a,i):(o()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),i(!0)):i(a!==!1)}else i(!0)},r=[],i=function(e){var t=!0,n=function(){t&&e.apply(void 0,arguments)};return r.push(n),function(){t=!1,r=r.filter(function(e){return e!==n})}},a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.forEach(function(e){return e.apply(void 0,t)})};return{setPrompt:t,confirmTransitionTo:n,appendListener:i,notifyListeners:a}};t.a=i},function(e,t,n){"use strict";var r=n(258),o=n.n(r),i={},a=1e4,u=0,s=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=i[n]||(i[n]={});if(r[e])return r[e];var s=[],c=o()(e,s,t),l={re:c,keys:s};return u<a&&(r[e]=l,u++),l},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof t&&(t={path:t});var n=t,r=n.path,o=void 0===r?"/":r,i=n.exact,a=void 0!==i&&i,u=n.strict,c=void 0!==u&&u,l=n.sensitive,f=void 0!==l&&l,d=s(o,{end:a,strict:c,sensitive:f}),p=d.re,h=d.keys,v=p.exec(e);if(!v)return null;var y=v[0],m=v.slice(1),_=e===y;return a&&!_?null:{path:o,url:"/"===o&&""===y?"/":y,isExact:_,params:h.reduce(function(e,t,n){return e[t.name]=m[n],e},{})}};t.a=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.openChannel=t.showChannel=t.channelComplainOpen=t.channelUnblock=t.channelBlock=t.channelUnsubscribe=t.channelSubscribe=t.CHANNEL_SHOW=t.CHANNEL_OPEN=t.CHANNEL_COMPLAIN_OPEN=t.CHANNEL_UNBLOCK=t.CHANNEL_BLOCK=t.CHANNEL_UNSUBSCRIBE=t.CHANNEL_SUBSCRIBE=void 0;var o=n(33),i=n(268),a=(r(i),t.CHANNEL_SUBSCRIBE="CHANNEL_SUBSCRIBE"),u=t.CHANNEL_UNSUBSCRIBE="CHANNEL_UNSUBSCRIBE",s=t.CHANNEL_BLOCK="CHANNEL_BLOCK",c=t.CHANNEL_UNBLOCK="CHANNEL_UNBLOCK",l=t.CHANNEL_COMPLAIN_OPEN="CHANNEL_COMPLAIN_OPEN",f=t.CHANNEL_OPEN="CHANNEL_OPEN",d=t.CHANNEL_SHOW="CHANNEL_SHOW";t.channelSubscribe=function(e){return(0,o.createBroadcastAction)((0,o.createStatAction)(e,"feedback_favourite",a))},t.channelUnsubscribe=function(e){return(0,o.createBroadcastAction)((0,o.createStatAction)(e,"feedback_cancel_favourite",u))},t.channelBlock=function(e){return(0,o.createBroadcastAction)((0,o.createStatAction)(e,"feedback_block",s))},t.channelUnblock=function(e){return(0,o.createBroadcastAction)((0,o.createStatAction)(e,"feedback_cancel_block",c))},t.channelComplainOpen=function(e){return(0,o.createBroadcastAction)((0,o.createStatAction)(e,"complain_show",l))},t.showChannel=function(e){return(0,o.createStatAction)(e,"show",d)},t.openChannel=function(e){return window.open(e.feedLink,"_blank"),(0,o.createStatAction)(e,"click",f)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.invalidate,o=void 0!==n&&n,i=t.crossorigin,a=void 0!==i&&i,u=t.useCredentials,s=void 0!==u&&u;if(r[e]&&!o)return r[e].promise;var c=document.createElement("script");c.src=e,c.async=!0,a&&(s?c.crossOrigin="use-credentials":c.crossOrigin="anonymous");var l=new Promise(function(t,n){c.onload=function(){r[e].loaded=!0,t()},c.onerror=function(t){r[e].error=t,n(t)}});return r[e]&&document.head&&document.head.removeChild(r[e].script),document.head&&document.head.appendChild(c),r[e]={script:c,promise:l,loaded:!1,error:null},l};o.isRequested=function(e){return Boolean(r[e])},o.isLoaded=function(e){return Boolean(r[e]&&r[e].loaded)},o.isFailed=function(e){return Boolean(r[e]&&r[e].error)},t.default=o,e.exports=t.default},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=(o(c),n(24)),f=n(3),d=n(2),p=o(d),h=n(295),v=o(h),y=n(297),m=o(y),_=n(299),b=o(_),g=n(303),E=o(g),w=n(305),O=n(26),k=n(4),S=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"_getTexts",value:function(e){for(var t=this.props,n=t.type,r=t.isRubberyDesign,o=r?w.rubberyPresets:w.commonPresets,i=o[n][e],a=Object.keys(i),u={},s=0;s<a.length;s++){var c=a[s],l=i[c];u[c]="function"==typeof l?l(this.props):l}return u}},{key:"_renderDislikeCard",value:function(){var e=this.props,t=e.size,n=e.type,o=e.domainTitle,i=e.complaints,a=e.isRubberyDesign,u=e.itemCancelDislike,s=e.itemBlock,c=e.itemOpenComplaints,l=this._getTexts("dislikeCard"),f=l.title,d=l.description,p=l.complainButtonText,h=l.cancelButtonText,y=l.actionButtonText,m=n===k.TYPE_MAGIC_CARD||i?null:{text:p,onClick:c},_={size:t,icon:"dislike",title:f,description:d,domainTitle:o,complainButton:m,cancelButton:{text:h,onClick:u},actionButton:{text:y,onClick:s}};return a?r.h(b.default,_):r.h(v.default,_)}},{key:"_renderBlockCard",value:function(){var e=this.props,t=e.size,n=e.type,o=e.domainTitle,i=e.complaints,a=e.isRubberyDesign,u=e.itemCancelBlock,s=e.itemOpenComplaints,c=this._getTexts("blockCard"),l=c.title,f=c.description,d=c.complainButtonText,p=c.cancelButtonText,h=n===k.TYPE_MAGIC_CARD||i?null:{text:d,onClick:s},y={size:t,icon:"block",title:l,description:f,domainTitle:o,complainButton:h,cancelButton:{text:p,onClick:u}};return a?r.h(b.default,y):r.h(v.default,y)}},{key:"_renderComplaintsCard",value:function(){var e=this.props,t=e.size,n=e.complaintReasons,o=e.isRubberyDesign,i=e.itemCancelComplaints,a=e.itemSendComplaints,u=this._getTexts("complaintsCard"),s=u.title,c=u.cancelButtonText,l=u.actionButtonText,f={size:t,title:s,reasons:n,cancelButton:{text:c,onClick:i},actionButton:{text:l,onClick:a}};return o?r.h(E.default,f):r.h(m.default,f)}},{key:"_renderComplaintsDialogCard",value:function(){var e=this.props,t=e.size,n=e.feedback,o=e.domainTitle,i=e.isRubberyDesign,a=e.itemBlock,u=this._getTexts("complaintsDialogCard"),s=u.title,c=u.description,l=null;if("disliked"===n){var f=this._getTexts("dislikeCard"),d=f.actionButtonText;l={text:d,onClick:a}}var p={size:t,title:s,description:c,domainTitle:o,actionButton:l};return i?r.h(b.default,p):r.h(v.default,p)}},{key:"render",value:function(){var e=this.props,t=e.feedback,n=e.complaints,r=e.complaintsSendedAt;if(!t||"liked"===t)return null;if("opened"===n)return this._renderComplaintsCard();if("sended"===n&&r===t)return this._renderComplaintsDialogCard();switch(t){case"disliked":return this._renderDislikeCard();case"blocked":return this._renderBlockCard();default:return null}}}]),t}(p.default),T=function(e,t){var n=t.id,r=t.bulkParams,o=t.statEvents,i=function(e){return function(){return e({id:n,bulkParams:r,statEvents:o})}};return(0,l.bindActionCreators)({itemCancelDislike:i(O.itemCancelDislike),itemBlock:i(O.itemBlock),itemCancelBlock:i(O.itemCancelBlock),itemOpenComplaints:i(O.itemOpenComplaints),itemSendComplaints:function(e){return(0,O.itemSendComplaints)({id:n,bulkParams:r,statEvents:o,reasonIds:e})},itemCancelComplaints:function(){return(0,O.itemCancelComplaints)(n)}},e)};t.default=(0,f.connect)(null,T)(S),e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(42),i={card:"#FFFFFF",text:"#000000"};t.default=function(e){try{var t=(0,o.convertToRgb)(e),n=r(t,3),a=n[0],u=n[1],s=n[2],c=(0,o.rgbToHsl)(a,u,s),l=r(c,3),f=(l[0],l[1]),d=l[2],p=f<=.35&&d>=.9,h=(0,o.isDark)(a,u,s);return{card:p?"#FFFFFF":e,text:h?"#FFFFFF":"#000000"}}catch(e){return console.error(e),i}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s),l=n(90),f=r(l),d=n(91),p=r(d),h=new Set,v=new Map,y=void 0;"undefined"!=typeof document&&window.addEventListener("resize",function(){y=Date.now(),h.forEach(function(e){v.set(e,y),e.props.onResize()})});var m=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.isIntersecting&&h.add(this),v.set(this,Date.now())}},{key:"componentDidUpdate",value:function(e){if(e.isIntersecting!==this.props.isIntersecting)if(this.props.isIntersecting){var t=v.get(this);y&&(!t||t<y)&&(v.set(this,Date.now()),this.props.onResize()),h.add(this)}else h.delete(this)}},{key:"componentWillUnmount",value:function(){this.props.isIntersecting&&h.delete(this)}},{key:"render",value:function(){var e=this.props.children;return(0,p.default)("ResizeHandler",e),(0,f.default)(e)}}]),t}(c.default);t.default=m,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Array.isArray(e)?e[0]||"":e||""},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(!t||Array.isArray(t)&&1!==t.length)throw new Error(e+" expected to receive a single React element child.")};t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(44),a=200,u=function(e,t,n,r){return e/=r/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)},s=function(){function e(){r(this,e)}return o(e,[{key:"_loop",value:function(e){var t=this;this.timeStart||(this.timeStart=e),this.timeElapsed=e-this.timeStart,this.next=u(this.timeElapsed,this.start,this.distance,a),window.scrollTo(0,this.next),this.timeElapsed<a?requestAnimationFrame(function(e){t._loop(e)}):this._end()}},{key:"scrollTo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.top,r=void 0===n?0:n,o=t.animate,i=void 0===o||o;return new Promise(function(t){var n=Math.max(0,r),o=function(){var r={scroll:n,scrollBottomEdge:n+window.innerHeight};window.scrollTo(0,e.start+e.distance),e.timeStart=0,e.enableScrollEvents(),e.scrollPosition=r,t(n)};e._end=o,e.start=window.pageYOffset,e.distance=n-e.start,e.disableScrollEvents(),i?requestAnimationFrame(function(t){e._loop(t)}):(window.scrollTo(0,n),o())})}},{key:"disableScrollEvents",value:function(){(0,i.pauseAllEvents)()}},{key:"enableScrollEvents",value:function(){setTimeout(function(){return(0,i.resumeAllEvents)()},500)}}]),e}(),c=new s;t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r=n(16).f,o=n(96),i=n(65),a=n(22),u=n(67),s=n(68),c=n(105),l=n(106),f=n(166),d=n(17),p=n(51).fastKey,h=n(31),v=d?"_s":"size",y=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var l=e(function(e,r){u(e,l,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[v]=0,void 0!=r&&s(r,n,e[c],e)});return i(l.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var n=h(this,t),r=y(n,e);if(r){var o=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=o),o&&(o.p=i),n._f==r&&(n._f=o),n._l==r&&(n._l=i),n[v]--}return!!r},forEach:function(e){h(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!y(h(this,t),e)}}),d&&r(l.prototype,"size",{get:function(){return h(this,t)[v]}}),l},def:function(e,t,n){var r,o,i=y(e,t);return i?i.v=n:(e._l=i={i:o=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[v]++,"F"!==o&&(e._i[o]=i)),e},getEntry:y,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?l(0,n.k):"values"==t?l(0,n.v):l(0,[n.k,n.v]):(e._t=void 0,l(1))},n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){e.exports=!n(17)&&!n(28)(function(){return 7!=Object.defineProperty(n(61)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(9);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(21),o=n(157),i=n(100),a=n(64)("IE_PROTO"),u=function(){},s="prototype",c=function(){var e,t=n(61)("iframe"),r=i.length,o="<",a=">";for(t.style.display="none",n(101).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(o+"script"+a+"document.F=Object"+o+"/script"+a),e.close(),c=e.F;r--;)delete c[s][i[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(u[s]=r(e),n=new u,u[s]=null,n[a]=e):n=c(),void 0===t?n:o(n,t)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){
return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(10),o="__core-js_shared__",i=r[o]||(r[o]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(10).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(21);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(35),o=n(11)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){var r=n(162),o=n(11)("iterator"),i=n(35);e.exports=n(66).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){"use strict";var r=n(163),o=n(36),i=n(29),a=n(30),u=n(18),s=n(35),c=n(164),l=n(69),f=n(165),d=n(11)("iterator"),p=!([].keys&&"next"in[].keys()),h="@@iterator",v="keys",y="values",m=function(){return this};e.exports=function(e,t,n,_,b,g,E){c(n,t,_);var w,O,k,S=function(e){if(!p&&e in I)return I[e];switch(e){case v:return function(){return new n(this,e)};case y:return function(){return new n(this,e)}}return function(){return new n(this,e)}},T=t+" Iterator",P=b==y,C=!1,I=e.prototype,x=I[d]||I[h]||b&&I[b],R=x||S(b),j=b?P?S("entries"):R:void 0,A="Array"==t?I.entries||x:x;if(A&&(k=f(A.call(new e)),k!==Object.prototype&&k.next&&(l(k,T,!0),r||u(k,d)||a(k,d,m))),P&&x&&x.name!==y&&(C=!0,R=function(){return x.call(this)}),r&&!E||!p&&!C&&I[d]||a(I,d,R),s[t]=R,s[T]=m,b)if(w={values:P?R:S(y),keys:g?R:S(v),entries:j},E)for(O in w)O in I||i(I,O,w[O]);else o(o.P+o.F*(p||C),t,w);return w}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(11)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(22),o=n(63),i=n(50),a=n(47),u=n(172);e.exports=function(e,t){var n=1==e,s=2==e,c=3==e,l=4==e,f=6==e,d=5==e||f,p=t||u;return function(t,u,h){for(var v,y,m=i(t),_=o(m),b=r(u,h,3),g=a(_.length),E=0,w=n?p(t,g):s?p(t,0):void 0;g>E;E++)if((d||E in _)&&(v=_[E],y=b(v,E,m),e))if(n)w[E]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return E;case 2:w.push(v)}else if(l)return!1;return f?-1:c||l?l:w}}},function(e,t,n){"use strict";var r=n(65),o=n(51).getWeak,i=n(21),a=n(9),u=n(67),s=n(68),c=n(109),l=n(18),f=n(31),d=c(5),p=c(6),h=0,v=function(e){return e._l||(e._l=new y)},y=function(){this.a=[]},m=function(e,t){return d(e.a,function(e){return e[0]===t})};y.prototype={get:function(e){var t=m(this,e);if(t)return t[1]},has:function(e){return!!m(this,e)},set:function(e,t){var n=m(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,i){var c=e(function(e,r){u(e,c,t,"_i"),e._t=t,e._i=h++,e._l=void 0,void 0!=r&&s(r,n,e[i],e)});return r(c.prototype,{delete:function(e){if(!a(e))return!1;var n=o(e);return n===!0?v(f(this,t)).delete(e):n&&l(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=o(e);return n===!0?v(f(this,t)).has(e):n&&l(n,this._i)}}),c},def:function(e,t,n){var r=o(i(t),!0);return r===!0?v(e).set(t,n):r[e._i]=n,e},ufstore:v}},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;var r,o=Array.isArray(t),i=Array.isArray(n);if(o&&i){if(t.length!=n.length)return!1;for(r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if(o!=i)return!1;if(t&&n&&"object"==typeof t&&"object"==typeof n){var a=Object.keys(t);if(a.length!==Object.keys(n).length)return!1;var u=t instanceof Date,s=n instanceof Date;if(u&&s)return t.getTime()==n.getTime();if(u!=s)return!1;var c=t instanceof RegExp,l=n instanceof RegExp;if(c&&l)return t.toString()==n.toString();if(c!=l)return!1;for(r=0;r<a.length;r++)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=0;r<a.length;r++)if(!e(t[a[r]],n[a[r]]))return!1;return!0}return!1}},function(e,t,n){"use strict";function r(){return u?(s||(s=new Promise(function(e,t){var n=u.open(i,1);n.onerror=function(){t(n.error)},n.onupgradeneeded=function(){n.result.createObjectStore(a)},n.onsuccess=function(){e(n.result),n.result.onclose=function(){s=null}}})),s):Promise.reject(new Error("indexedDB is not supported."))}function o(e,t){return r().then(function(n){return new Promise(function(r,o){var i=n.transaction(a,e);i.oncomplete=function(){r()},i.onerror=function(){o(i.error)},t(i.objectStore(a))})})}Object.defineProperty(t,"__esModule",{value:!0});var i="zen-db",a="zen-api-cache",u="undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),s=void 0,c={get:function(e){var t=void 0;return o("readonly",function(n){t=n.get(e)}).then(function(){return t.result})},set:function(e,t){return o("readwrite",function(n){n.put(t,e)})},delete:function(e){return o("readwrite",function(t){t.delete(e)})},clear:function(){return o("readwrite",function(e){e.clear()})},keys:function e(){var e=[];return o("readonly",function(t){var n=t.openKeyCursor?t.openKeyCursor():t.openCursor();n.onsuccess=function(){n.result&&(e.push(n.result.key),n.result.continue())}}).then(function(){return e})}};t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getYandexuidFromCookie=function(){var e="; "+document.cookie,t=e.match(/; yandexuid=([^;]*)/);return t&&t[1]},t.getYandexLoginFromCookie=function(){var e="; "+document.cookie,t=e.match(/; yandex_login=([^;]*)/);return t&&t[1]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=/[?&]([^&#]*)/,a=t.parseParams=function(e){var t={},n=e.indexOf("?");if(n===-1)return t;for(var o=n;;){var a=e.slice(o).match(i);if(!a)break;o+=a[0].length;var u=a[1].split("="),s=r(u,2),c=s[0],l=s[1],f=void 0===l?"":l;c&&(t[decodeURIComponent(c)]=decodeURIComponent(f))}return t},u=t.stringifyParams=function(e){var t=Object.keys(e);return 0===t.length?"":t.reduce(function(t,n){if(!n)return t;var r=e[n]?e[n]:"",o=0===t.length?"?":"&";return""+t+o+encodeURIComponent(n)+"="+encodeURIComponent(r)},"")};t.mergeParams=function(e,t){var n=o({},a(e),t),r=e.indexOf("?"),i=e.indexOf("#"),s=i!==-1?i:e.length,c=r!==-1?r:s;return e.slice(0,c)+u(n)+e.slice(s)},t.replaceParams=function(e,t){var n=e.indexOf("?"),r=e.indexOf("#"),o=r!==-1?r:e.length,i=n!==-1?n:o;return e.slice(0,i)+u(t)+e.slice(o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="2.5.195";t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){function i(){m===y&&(m=y.slice())}function s(){return v}function c(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return i(),m.push(e),function(){if(t){t=!1,i();var n=m.indexOf(e);m.splice(n,1)}}}function l(e){if(!Object(o.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(_)throw new Error("Reducers may not dispatch actions.");try{_=!0,v=h(v,e)}finally{_=!1}for(var t=y=m,n=0;n<t.length;n++)t[n]();return e}function f(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,l({type:u.INIT})}function d(){var e,t=c;return e={subscribe:function(e){function n(){e.next&&e.next(s())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");n();var r=t(n);return{unsubscribe:r}}},e[a.a]=function(){return this},e}var p;if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(r)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var h=e,v=t,y=[],m=y,_=!1;return l({type:u.INIT}),p={dispatch:l,subscribe:c,getState:s,replaceReducer:f},p[a.a]=d,p}n.d(t,"a",function(){return u}),t.b=r;var o=n(117),i=n(205),a=n.n(i),u={INIT:"@@redux/INIT"}},function(e,t,n){"use strict";function r(e){if(!Object(a.a)(e)||Object(o.a)(e)!=u)return!1;var t=Object(i.a)(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}var o=n(197),i=n(202),a=n(204),u="[object Object]",s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,d=l.call(Object);t.a=r},function(e,t,n){"use strict";var r=n(198),o=r.a.Symbol;t.a=o},function(e,t,n){"use strict"},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var r=t[t.length-1],o=t.slice(0,-1);return function(){return o.reduceRight(function(e,t){return t(e)},r.apply(void 0,arguments))}}t.a=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(214),i=r(o);t.default=new i.default,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={shouldScrollToTop:"feed.shouldScrollToTop"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.videoReset=t.videoStart=t.videoStat=t.videoClick=t.VIDEO_RESET=t.VIDEO_START=t.VIDEO_STAT=t.VIDEO_READ=void 0;var r=n(4),o=t.VIDEO_READ="VIDEO_READ",i=t.VIDEO_STAT="VIDEO_STAT",a=t.VIDEO_START="VIDEO_START",u=t.VIDEO_RESET="VIDEO_RESET";t.videoClick=function(e){return{type:o,payload:{id:e}}},t.videoStat=function(e,t,n,r){var o="number"==typeof r?e.replace("_video_pos_",String(r)):e;return{type:i,bulkStat:{statEvent:n,bulkParams:o,statEvents:t}}},t.videoStart=function(e){return function(t,n){var o=n(),i=o.feed,s=i.items,c=i.itemsOrder,l=c.filter(function(e){var t=s[e];return(t.type===r.TYPE_VIDEO||t.type===r.TYPE_GIF)&&t.started});t({type:u,payload:{ids:l}}),t({type:a,payload:{id:e}})}},t.videoReset=function(e){return{type:u,payload:{id:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.MAGIC_ITEM_SHOW="MAGIC_ITEM_SHOW";t.magicItemShow=function(e){var t=e.id,n=e.childId;return{type:r,payload:{id:t,childId:n}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.CHECK_SOURCE="CHECK_SOURCE",o=t.UNCHECK_SOURCE="UNCHECK_SOURCE";t.checkSource=function(e){return{type:r,payload:{id:e}}},t.uncheckSource=function(e){return{type:o,payload:{id:e}}}},function(e,t,n){var r=n(234),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){var r=n(126),o=r.Symbol;e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GET_SUBS_FAILURE=t.GET_SUBS_SUCCESS=t.GET_SUBS_REQUEST=t.getSubs=void 0;var o=n(5),i=r(o),a=n(33),u=(0,a.createThrottledAsyncAction)("subs",i.default.getSubs.bind(i.default)),s=u.action,c=u.request,l=u.succeed,f=u.failure;t.getSubs=s,t.GET_SUBS_REQUEST=c,t.GET_SUBS_SUCCESS=l,t.GET_SUBS_FAILURE=f},function(e,t,n){"use strict";var r=(n(248),n(252),n(253),n(133),n(82));n.d(t,"a",function(){return r.a});var o=(n(260),n(261),n(84));n.d(t,"b",function(){return o.a});n(262)},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&r(e),u=t&&r(t),s=a||u;if(e&&r(e)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";var c=void 0;if(i.length){var l=i[i.length-1];c="."===l||".."===l||""===l}else c=!1;for(var f=0,d=i.length;d>=0;d--){var p=i[d];"."===p?o(i,d):".."===p?(o(i,d),f++):f&&(o(i,d),f--)}if(!s)for(;f--;f)i.unshift("..");!s||""===i[0]||i[0]&&r(i[0])||i.unshift("");var h=i.join("/");return c&&"/"!==h.substr(-1)&&(h+="/"),h}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return r(e,t[n])});var n="undefined"==typeof e?"undefined":o(e),i="undefined"==typeof t?"undefined":o(t);if(n!==i)return!1;if("object"===n){var a=e.valueOf(),u=t.valueOf();if(a!==e||u!==t)return r(a,u);var s=Object.keys(e),c=Object.keys(t);return s.length===c.length&&s.every(function(n){return r(e[n],t[n])})}return!1}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=r},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"g",function(){return u}),n.d(t,"h",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"d",function(){return l});var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},i=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},a=function(e,t){return t(window.confirm(e))},u=function(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")===-1&&e.indexOf("Android 4.0")===-1||e.indexOf("Mobile Safari")===-1||e.indexOf("Chrome")!==-1||e.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)},s=function(){return window.navigator.userAgent.indexOf("Trident")===-1},c=function(){return window.navigator.userAgent.indexOf("Firefox")===-1},l=function(e){return void 0===e.state&&navigator.userAgent.indexOf("CriOS")===-1}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(8),u=n.n(a),s=n(20),c=n.n(s),l=n(0),f=n(15),d=n.n(f),p=n(84),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=function(e){return 0===l.default.Children.count(e)},y=function(e){function t(){var n,i,a;r(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=i=o(this,e.call.apply(e,[this].concat(s))),i.state={match:i.computeMatch(i.props,i.context.router)},a=n,o(i,a)}return i(t,e),t.prototype.getChildContext=function(){return{router:h({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var n=e.computedMatch,r=e.location,o=e.path,i=e.strict,a=e.exact,u=e.sensitive;if(n)return n;c()(t,"You should not use <Route> or withRouter() outside a <Router>");var s=t.route,l=(r||s.location).pathname;return o?Object(p.a)(l,{path:o,strict:i,exact:a,sensitive:u}):s.match},t.prototype.componentWillMount=function(){u()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),u()(!(this.props.component&&this.props.children&&!v(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),u()(!(this.props.render&&this.props.children&&!v(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){u()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),u()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function e(){var t=this.state.match,n=this.props,r=n.children,o=n.component,e=n.render,i=this.context.router,a=i.history,u=i.route,s=i.staticContext,c=this.props.location||u.location,f={match:t,location:c,history:a,staticContext:s};return o?t?l.default.createElement(o,f):null:e?t?e(f):null:r?"function"==typeof r?r(f):v(r)?null:l.default.Children.only(r):null},t}(l.default.Component);y.propTypes={computedMatch:d.a.object,path:d.a.string,exact:d.a.bool,strict:d.a.bool,sensitive:d.a.bool,component:d.a.func,render:d.a.func,children:d.a.oneOfType([d.a.func,d.a.node]),location:d.a.object},y.contextTypes={router:d.a.shape({history:d.a.object.isRequired,route:d.a.object.isRequired,staticContext:d.a.object})},y.childContextTypes={router:d.a.object.isRequired},t.a=y},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;return n===i?o({},e,{location:r}):e}n.d(t,"a",function(){return i}),t.b=r;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="@@router/LOCATION_CHANGE",a={location:null}},function(e,t,n){"use strict";function r(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return{type:o,payload:{method:e,args:n}}}}n.d(t,"a",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"f",function(){return a}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"g",function(){return l});var o="@@router/CALL_HISTORY_METHOD",i=r("push"),a=r("replace"),u=r("go"),s=r("goBack"),c=r("goForward"),l={push:i,replace:a,go:u,goBack:s,goForward:c}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}return a.done?void e(u):Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)})}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.SUGGEST_FAILURE=t.SUGGEST_SUCCESS=t.SUGGEST_REQUEST=t.suggest=t.setFilter=t.SET_FILTER=void 0;var i=n(5),a=r(i),u=n(33),s=t.SET_FILTER="suggest-set-filter",c=t.setFilter=function(e){return{type:s,payload:e}},l=(0,u.createThrottledAsyncAction)("suggest",function(){var e=o(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=2;break}return e.abrupt("return",{channels:[],initial:!0});case 2:return e.abrupt("return",Promise.race([a.default.getSuggest(t),new Promise(function(e,t){return setTimeout(function(){return t(new Error("Timed out"))},1e4)})]));case 3:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),500),f=l.action,d=l.request,p=l.succeed,h=l.failure;t.suggest=function(e){return function(t){t(c(e)),t(f(e))}},t.SUGGEST_REQUEST=d,t.SUGGEST_SUCCESS=p,t.SUGGEST_FAILURE=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GET_CATEGORIES_FAILURE=t.GET_CATEGORIES_SUCCESS=t.GET_CATEGORIES_REQUEST=t.getCategories=void 0;var o=n(5),i=r(o),a=n(33),u=(0,a.createThrottledAsyncAction)("categories",i.default.getCategories.bind(i.default)),s=u.action,c=u.request,l=u.succeed,f=u.failure;t.getCategories=s,t.GET_CATEGORIES_REQUEST=c,t.GET_CATEGORIES_SUCCESS=l,t.GET_CATEGORIES_FAILURE=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}return a.done?void e(u):Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)})}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.openCategory=t.showCategory=t.SHOW_CATEGORY=t.OPEN_CATEGORY=t.GET_CATEGORY_FAILURE=t.GET_CATEGORY_SUCCESS=t.GET_CATEGORY=t.getCategory=void 0;var i=n(80),a=n(5),u=r(a),s=n(56),c=n(33),l=(0,c.createThrottledAsyncAction)("category",function(){var e=o(regeneratorRuntime.mark(function e(t){var n=t.name,r=t.link;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object,e.t1={name:n},e.next=4,u.default.getCategory(r);case 4:return e.t2=e.sent,e.abrupt("return",e.t0.assign.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),f=l.action,d=l.request,p=l.succeed,h=l.failure,v=(t.getCategory=f,t.GET_CATEGORY=d,t.GET_CATEGORY_SUCCESS=p,t.GET_CATEGORY_FAILURE=h,t.OPEN_CATEGORY="category-open"),y=t.SHOW_CATEGORY="category-show";t.showCategory=function(e){return(0,c.createStatAction)(e,"show",y)},t.openCategory=function(e){return function(t){var n=e.name;t((0,i.push)({pathname:s.TAB_CHANNELS+"/"+n})),t((0,c.createStatAction)(e,"click",v))}}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"item";return e+"_"+Math.random()*Date.now()}function o(e){return e.image&&!e.big_card_image,{id:e.id,type:g.TYPE_DOC,ad:e.ad,domain:e.domain,domainTitle:e.domain_title,link:e.link,isPromoted:e.is_promoted,title:e.title,text:e.text,logo:e.logo,image:e.image,bigImage:e.big_card_image||e.image,blurredPreview:e.blurred_preview,cardBackgroundImage:e.card_background_image,cardBackgroundWhiteImage:e.card_background_white_image,cardColors:e.card_colors&&{card:e.card_colors.card,text:e.card_colors.text},mainColor:e.main_color,similarLink:e.similar.link,bulkParams:e.bulk_params,statEvents:e.stat_events,read:e.read,feedback:a(e),isSubscribed:e.is_favorited}}function i(e){var t=o(e);return t.type=g.TYPE_NARRATIVE,t.isPromoNarrative="narrative_promo_text"===e.narrative_style,t}function a(e){var t=e.feedback_info;return t&&t.is_liked?"liked":t&&t.is_disliked?"disliked":null}function u(e){return e.image&&!e.big_card_image&&console.warn("no big_card_image",e),{id:e.id,type:g.TYPE_VIDEO,domain:e.domain,domainTitle:e.domain_title,link:e.link,title:e.title,text:e.text,logo:e.logo,image:e.image,bigImage:e.big_card_image||e.image,blurredPreview:e.blurred_preview,video:e.video,cardColors:e.card_colors&&{card:e.card_colors.card,text:e.card_colors.text},mainColor:e.main_color,similarLink:e.similar.link,bulkParams:e.bulk_params,statEvents:e.stat_events,read:e.read,started:!1,feedback:a(e)}}function s(e){return e.image&&!e.big_card_image&&console.warn("no big_card_image",e),{id:e.id,type:g.TYPE_GIF,domain:e.domain,domainTitle:e.domain_title,link:e.link,title:e.title,text:e.text,logo:e.logo,image:e.image,bigImage:e.big_card_image||e.image,blurredPreview:e.blurred_preview,video:e.video,cardColors:e.card_colors&&{card:e.card_colors.card,text:e.card_colors.text},mainColor:e.main_color,similarLink:e.similar.link,bulkParams:e.bulk_params,statEvents:e.stat_events,read:e.read,feedback:a(e)}}function c(e){if(!e.items||!e.items[0]||!e.items[0].content)return console.error("Ad parsing error: "+JSON.stringify(e)),null;var t=e.items[0],n=t.content,o=t.stat_events,i=t.bulk_params,a=!1;if(n.image&&n.image.length){var u=b(n.image,3),s=(u[0],u[1]),c=u[2],l=s/c;l>4/3&&(a=!0)}return{id:r(g.TYPE_DIRECT),type:g.TYPE_DIRECT,url:n.url,showUrl:n.linkHead+n.linkTail,domain:n.domain,title:n.title,text:n.body,age:n.age,warning:n.warning,image:n.image,isWideImage:a,statEvents:o,bulkParams:i}}function l(e){var t={id:r(g.TYPE_ICEBOARDING_GRID),type:e.type,sources:e.sources.map(p),stats:e.stats,moreButton:void 0};return e.more_button&&(t.moreButton={link:e.more_button.click}),t}function f(e){var t={id:r(g.TYPE_SUBSCRIPTIONS),type:e.type,sources:e.sources.map(d),stats:e.stats,moreButton:void 0};return e.more_button&&(t.moreButton={link:e.more_button.click}),t}function d(e){var t=e.source_id,n=e.link,r=e.image,o=e.background_color,i=e.text_color,a=e.name,u=e.name_background_color,s=e.stat_events,c=e.bulk_params,l=e.feed_link;return{id:t,url:n,bulkParams:c,statEvents:s,image:r,imageBackgroundColor:o,text:a,textColor:i,textBackgroundColor:u,feedLink:l}}function p(e){return{id:e.source_id,logo:{image:e.image,backgroundColor:e.background_color},title:{text:e.name,backgroundColor:e.name_background_color,color:e.text_color}}}function h(e){var t={title:e.title,text:e.text,link:e.link,domainTitle:e.domain_title,image:e.images&&e.images.horizontal,bulkParams:e.bulk_params,statEvents:e.stat_events,ad:e.ad};return e.hasOwnProperty("card_colors")?t.cardColors=e.card_colors:e.hasOwnProperty("main_color")&&(t.mainColor=e.main_color),t}function v(e){var t=[],n=[];return e.forEach(function(e){switch(e.type){case"small_card":t.push(h(e));break;case"ad":n.push(c(e))}}),{docs:t,direct:n}}function y(e){return{id:e.id,type:e.type,source:e.domain_title,title:e.title,link:e.link,items:e.items.map(m),bulkParams:e.bulk_params,statEvents:e.stat_events}}function m(e){return{id:e.id,title:e.title,link:e.link,image:e.image_squared,text:e.text,info:e.info,bulkParams:e.bulk_params,statEvents:e.stat_events,colors:{text:e.card_colors.text,card:e.card_colors.card}}}function _(e){return{id:e.item_id.toString(),type:e.type}}Object.defineProperty(t,"__esModule",{value:!0}),t.similarParser=void 0;var b=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=n(4),E=(t.similarParser=function(e){return{id:r(g.TYPE_SIMILAR),type:g.TYPE_SIMILAR,items:v(e.items)}},function(e){switch(e.type){case g.TYPE_DOC:return e.video?u(e):o(e);case g.TYPE_GIF:return s(e);case"ad":return c(e);case g.TYPE_ICEBOARDING_GRID:return l(e);case g.TYPE_MAGIC_CARD:return y(e);case g.TYPE_HINT_EULA:return e;case g.TYPE_NARRATIVE:return i(e);case g.TYPE_PLACEHOLDER:return _(e);case g.TYPE_SUBSCRIPTIONS:return f(e);default:return console.warn("Unsupported doc type: "+e.type),null}});t.default=E},function(e,t,n){"use strict";function r(e,t,n){if(Object.is(e,t))return!0;if("object"!==("undefined"==typeof e?"undefined":o(e))||null===e||"object"!==("undefined"==typeof t?"undefined":o(t))||null===t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(var u=0;u<r.length;u++)if(!(n&&n.includes(r[u])||i.call(t,r[u])&&Object.is(e[r[u]],t[r[u]])))return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.prototype.hasOwnProperty;t.default=r,e.exports=t.default},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=o(c),f=n(291),d=n(1),p=o(d);n(292);var h=(0,p.default)("ad-card"),v=0,y=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props.ad,t=e.block_id,n=e.partner_stat_id;(0,f.renderRsya)({blockId:t,partnerStatId:n,pageNumber:v++,renderTo:this.getDomElemId(),grab:"dFlhbmRleCB6ZW4KTm8gZ3JhYg==",async:!0},function(){console.log("No ad: "+t+"-"+n)})}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"getDomElemId",value:function(){return this.props.ad.dom_elem_id}},{key:"render",value:function(){var e=this.props,t=e.mix,n=e.ad,o=n.block_id,i=n.partner_stat_id;return r.h("div",{className:p.default.mix(h(),t)},r.h("div",{"data-blockId":o+"-"+i,id:this.getDomElemId()}))}}]),t}(l.default.Component);t.default=y,e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=(o(c),n(2)),f=o(l),d=n(1),p=o(d);n(318);var h=(0,p.default)("doc-channel-name"),v=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.textColor,n=e.name,o=e.read,i=e.className,a=e.opacity,u=n.length>=20?"small":"medium";return r.h("div",{className:h({read:o,size:u})+(" "+(i||"")),style:{color:t,opacity:a}},n)}}]),t}(f.default);t.default=v,e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="…";t.cutText=function(e,t){
if(e.length<t)return e;if(" "===e[t])return e.slice(0,t)+r;for(var n=t;n<e.length;)if(n++," "===e[n])return e.slice(0,n)+r;return e.slice(0,t)+r},t.getLongestWordLength=function(e){return e.split(/\s+/).reduce(function(e,t){return Math.max(t.length,e)},0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e={visible:"visible",hidden:"hidden"},t=void 0,n=void 0;"undefined"!=typeof document.hidden?(t="visibilityState",n="visibilitychange"):"undefined"!=typeof document.webkitHidden&&(t="webkitVisibilityState",n="webkitvisibilitychange");var r=[],o=[],i=e.visible,a=e.visible;return document.addEventListener(n,function(){a=document[t],a===e.visible&&i===e.hidden&&r.forEach(function(e){return e()}),a===e.hidden&&i===e.visible&&o.forEach(function(e){return e()}),i=a},!1),{isSupported:function(){return"undefined"!==document[t]&&void 0!==n},onVisible:function(e){r.push(e)},onHidden:function(e){o.push(e)}}},o=void 0;"undefined"!=typeof document&&(o=r());t.waitForReturnToTab=function(){return new Promise(function(e){var t=function t(){document.documentElement.removeEventListener("wheel",t),e(!0)};o.isSupported()&&o.onVisible(function(){document.documentElement.removeEventListener("wheel",t),e(!1)}),document.documentElement.addEventListener("wheel",t,{passive:!0})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.getClientRects().length)return 0;var t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset},e.exports=t.default},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DirectDynamicWarning=t.DirectDynamicText=t.DirectDynamicTitle=void 0;var o=n(0),i=(r(o),n(340)),a=r(i),u=function(e){return function(t,n,r){var o=r.warning,i=t.length,a=void 0;return a=i<=20?e.big:i<=40&&!o?e.medium:e.small}},s={small:{fontSize:"18px",lineHeight:"22px"},medium:{fontSize:"18px",lineHeight:"22px"},big:{fontSize:"26px",lineHeight:"32px"}},c={small:{fontSize:"12px",lineHeight:"16px"},medium:{fontSize:"14px",lineHeight:"20px"},big:{fontSize:"14px",lineHeight:"20px"}},l={small:{fontSize:"10px",lineHeight:"14px"}},f=u(s),d=u(c),p=function(e){return e.length>=30?l.small:null};t.DirectDynamicTitle=function(t){var n=t.title,r=t.warning,o=t.attrs;return e.h(a.default,{text:n,stylesFormatter:f,warning:r,attrs:o})},t.DirectDynamicText=function(t){var n=t.text,r=t.warning,o=t.attrs;return e.h(a.default,{text:n,stylesFormatter:d,warning:r,attrs:o})},t.DirectDynamicWarning=function(t){var n=t.warning,r=t.attrs;return e.h(a.default,{text:n,stylesFormatter:p,attrs:r})}}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(344),o=function(e,t){e.stopPropagation(),e.preventDefault();var n=r.DIRECT_PARTNER_URL[t];return n?void window.open(n,"_blank"):void console.warn("directPartnerClickHandler: invalid tld")};t.default=o,e.exports=t.default},function(e,t,n){"use strict";e.exports={item:{width:{small:208,big:208},height:200,marginRight:5},height:320,width:{small:340,big:690}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(392);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}}),e.exports=t.default},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=f[e]||"com";return"https://yandex."+t}function a(e){switch(e){case"ru":case"uk":case"be":case"kk":return"ru";default:return"en"}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),s=(o(u),n(1)),c=o(s);n(401),n(402);var l=(0,c.default)("zen-logo"),f={ru:"ru",com:"com",tr:"com.tr",ua:"ua",by:"by",kz:"kz"},d=function(e){var t=e.tld,n=e.lang,o=e.needLink,u=e.size,s=void 0===u?"medium":u;return r.h("div",{className:l({lang:a(n),size:s})},o?r.h("a",{className:l("logo-link"),href:i(t)}):"")};t.default=d,e.exports=t.default}).call(t,n(0))},function(e,t,n){n(152),e.exports=n(154)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(153),i=r(o),a=new i.default("regular-ysans"),u=new i.default("bold-ysans"),s=new i.default("medium-ysans");window._fontsLoadPromise=Promise.all([a.load(),u.load(),s.load()]).then(function(){window._isFontsLoaded=!0,document.documentElement.className+=" fonts-loaded"}).catch(function(e){console.warn("Error on font face observer: "+JSON.stringify(e,null,2))})},function(e,t,n){!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),e()}):document.attachEvent("onreadystatechange",function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())})}function r(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function o(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function i(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function a(e,n){function r(){var e=o;i(e)&&e.a.parentNode&&n(e.g)}var o=e;t(e.b,r),t(e.c,r),i(e)}function u(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}function s(){if(null===p)if(c()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);p=!!e&&603>parseInt(e[1],10)}else p=!1;return p}function c(){return null===v&&(v=!!document.fonts),v}function l(){if(null===h){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}h=""!==e.style.font}return h}function f(e,t){return[e.style,e.weight,l()?e.stretch:"","100px",t].join(" ")}var d=null,p=null,h=null,v=null;u.prototype.load=function(e,t){var i=this,u=e||"BESbswy",l=0,p=t||3e3,h=(new Date).getTime();return new Promise(function(e,t){if(c()&&!s()){var v=new Promise(function(e,t){function n(){(new Date).getTime()-h>=p?t():document.fonts.load(f(i,'"'+i.family+'"'),u).then(function(t){1<=t.length?e():setTimeout(n,25)},function(){t()})}n()}),y=new Promise(function(e,t){l=setTimeout(t,p)});Promise.race([y,v]).then(function(){clearTimeout(l),e(i)},function(){t(i)})}else n(function(){function n(){var t;(t=-1!=m&&-1!=_||-1!=m&&-1!=b||-1!=_&&-1!=b)&&((t=m!=_&&m!=b&&_!=b)||(null===d&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),d=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=d&&(m==g&&_==g&&b==g||m==E&&_==E&&b==E||m==w&&_==w&&b==w)),t=!t),t&&(O.parentNode&&O.parentNode.removeChild(O),clearTimeout(l),e(i))}function s(){if((new Date).getTime()-h>=p)O.parentNode&&O.parentNode.removeChild(O),t(i);else{var e=document.hidden;!0!==e&&void 0!==e||(m=c.a.offsetWidth,_=v.a.offsetWidth,b=y.a.offsetWidth,n()),l=setTimeout(s,50)}}var c=new r(u),v=new r(u),y=new r(u),m=-1,_=-1,b=-1,g=-1,E=-1,w=-1,O=document.createElement("div");O.dir="ltr",o(c,f(i,"sans-serif")),o(v,f(i,"serif")),o(y,f(i,"monospace")),O.appendChild(c.a),O.appendChild(v.a),O.appendChild(y.a),document.body.appendChild(O),g=c.a.offsetWidth,E=v.a.offsetWidth,w=y.a.offsetWidth,s(),a(c,function(e){m=e,n()}),o(c,f(i,'"'+i.family+'",sans-serif')),a(v,function(e){_=e,n()}),o(v,f(i,'"'+i.family+'",serif')),a(y,function(e){b=e,n()}),o(y,f(i,'"'+i.family+'",monospace'))})})},e.exports=u}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(155),i=r(o),a=n(285),u=r(a);(0,i.default)(u.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),n(156),n(170),n(171),n(177),n(178),n(179),n(181),n(182),n(185),n(188);var o=n(5),i=r(o),a=n(13),u=r(a),s=n(19),c=n(195),l=n(196),f=n(282),d=r(f),p=n(283),h=r(p),v=n(284),y=r(v),m=n(27),_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b=function(e){var t=void 0,n=void 0,r={init:function(r,o){var a={product:"zen_lib",lang:r.lang,teethType:r.teethType,zenFeatures:r.zenFeatures,libType:r.libType,notifiersPosition:r.notifiersPosition,styles:r.styles},c=void 0;r.userInfo&&(c={oauthToken:r.userInfo.oauthToken,login:r.userInfo.login,deviceId:r.userInfo.deviceId,profileId:r.userInfo.profileId,yandexuid:r.userInfo.yandexuid});var f=(0,l.createAppFromData)({exportData:o,params:a,user:c,initialDisplayedRowsNumber:r.initialDisplayedRowsNumber},e),d=f.app,p=f.store;(0,y.default)(i.default,p),i.default.configure(function(e){return _({},e,{cache:r.cache})}),i.default.addListener(s.EVENTS.BULK_EVENT_LOGGED,function(e){var t=e.event,n=e.statMeta;u.default.emit(m.EVENTS.STAT,{eventName:t,statMeta:n})}),t=d,n=p},render:function(e){(0,h.default)(t,e)},on:function(e,t,n){u.default.addListener(e,t,n)},removeListener:function(e,t){u.default.removeListener(e,t)},trigger:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];u.default.emit(e,n)},setParams:function(e){(0,d.default)(e,n)}};window[c.NAMESPACE]||(window[c.NAMESPACE]={}),window[c.NAMESPACE].lib=r};t.default=b,e.exports=t.default},function(e,t,n){"use strict";var r=n(93),o=n(31),i="Map";e.exports=n(52)(i,function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(o(this,i),e);return t&&t.v},set:function(e,t){return r.def(o(this,i),0===e?0:e,t)}},r,!0)},function(e,t,n){var r=n(16),o=n(21),i=n(62);e.exports=n(17)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),u=a.length,s=0;u>s;)r.f(e,n=a[s++],t[n]);return e}},function(e,t,n){var r=n(18),o=n(45),i=n(159)(!1),a=n(64)("IE_PROTO");e.exports=function(e,t){var n,u=o(e),s=0,c=[];for(n in u)n!=a&&r(u,n)&&c.push(n);for(;t.length>s;)r(u,n=t[s++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var r=n(45),o=n(47),i=n(160);e.exports=function(e){return function(t,n,a){var u,s=r(t),c=o(s.length),l=i(a,c);if(e&&n!=n){for(;c>l;)if(u=s[l++],u!=u)return!0}else for(;c>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(98),o=Math.max,i=Math.min;e.exports=function(e,t){return e=r(e),e<0?o(e+t,0):i(e,t)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(46),o=n(11)("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,u;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),o))?n:i?r(t):"Object"==(u=r(t))&&"function"==typeof t.callee?"Arguments":u}},function(e,t){e.exports=!1},function(e,t,n){"use strict";var r=n(96),o=n(49),i=n(69),a={};n(30)(a,n(11)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(18),o=n(50),i=n(64)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){"use strict";var r=n(10),o=n(16),i=n(17),a=n(11)("species");e.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(9),o=n(168).set;e.exports=function(e,t,n){var i,a=t.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},function(e,t,n){var r=n(9),o=n(21),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(22)(Function.call,n(169).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){var r=n(108),o=n(49),i=n(45),a=n(95),u=n(18),s=n(94),c=Object.getOwnPropertyDescriptor;t.f=n(17)?c:function(e,t){if(e=i(e),t=a(t,!0),s)try{return c(e,t)}catch(e){}if(u(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){"use strict";var r=n(93),o=n(31),i="Set";e.exports=n(52)(i,function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(o(this,i),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r,o=n(109)(0),i=n(29),a=n(51),u=n(175),s=n(110),c=n(9),l=n(28),f=n(31),d="WeakMap",p=a.getWeak,h=Object.isExtensible,v=s.ufstore,y={},m=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},_={get:function(e){if(c(e)){var t=p(e);return t===!0?v(f(this,d)).get(e):t?t[this._i]:void 0}},set:function(e,t){return s.def(f(this,d),e,t)}},b=e.exports=n(52)(d,m,_,s,!0,!0);l(function(){return 7!=(new b).set((Object.freeze||Object)(y),7).get(y)})&&(r=s.getConstructor(m,d),u(r.prototype,_),a.NEED=!0,o(["delete","has","get","set"],function(e){var t=b.prototype,n=t[e];i(t,e,function(t,o){if(c(t)&&!h(t)){this._f||(this._f=new r);var i=this._f[e](t,o);return"set"==e?this:i}return n.call(this,t,o)})}))},function(e,t,n){var r=n(173);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(9),o=n(174),i=n(11)("species");e.exports=function(e){var t;return o(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&(t=t[i],null===t&&(t=void 0))),void 0===t?Array:t}},function(e,t,n){var r=n(46);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){"use strict";var r=n(62),o=n(176),i=n(108),a=n(50),u=n(63),s=Object.assign;e.exports=!s||n(28)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=s({},e)[n]||Object.keys(s({},t)).join("")!=r})?function(e,t){for(var n=a(e),s=arguments.length,c=1,l=o.f,f=i.f;s>c;)for(var d,p=u(arguments[c++]),h=l?r(p).concat(l(p)):r(p),v=h.length,y=0;v>y;)f.call(p,d=h[y++])&&(n[d]=p[d]);return n}:s},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var r=n(110),o=n(31),i="WeakSet";n(52)(i,function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(o(this,i),e,!0)}},r,!1,!0)},function(e,t,n){var r=n(16).f,o=Function.prototype,i=/^\s*function ([^ (]*)/,a="name";a in o||n(17)&&r(o,a,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(22),o=n(36),i=n(50),a=n(102),u=n(103),s=n(47),c=n(180),l=n(104);o(o.S+o.F*!n(107)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,f,d=i(e),p="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,y=void 0!==v,m=0,_=l(d);if(y&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==_||p==Array&&u(_))for(t=s(d.length),n=new p(t);t>m;m++)c(n,m,y?v(d[m],m):d[m]);else for(f=_.call(d),n=new p;!(o=f.next()).done;m++)c(n,m,y?a(f,v,[o.value,m],!0):o.value);return n.length=m,n}})},function(e,t,n){"use strict";var r=n(16),o=n(49);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){var r=n(10),o=n(36),i=r.navigator,a=[].slice,u=!!i&&/MSIE .\./.test(i.userAgent),s=function(e){return function(t,n){var r=arguments.length>2,o=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,o)}:t,n)}};o(o.G+o.B+o.F*u,{setTimeout:s(r.setTimeout),setInterval:s(r.setInterval)})},function(e,t,n){var r=n(36),o=n(183);r(r.G+r.B,{setImmediate:o.set,clearImmediate:o.clear})},function(e,t,n){var r,o,i,a=n(22),u=n(184),s=n(101),c=n(61),l=n(10),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,v=l.Dispatch,y=0,m={},_="onreadystatechange",b=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},g=function(e){b.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++y]=function(){u("function"==typeof e?e:Function(e),t)},r(y),y},p=function(e){delete m[e]},"process"==n(46)(f)?r=function(e){f.nextTick(a(b,e,1))}:v&&v.now?r=function(e){v.now(a(b,e,1))}:h?(o=new h,i=o.port2,o.port1.onmessage=g,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",g,!1)):r=_ in c("script")?function(e){s.appendChild(c("script"))[_]=function(){s.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:d,clear:p}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){for(var r=n(186),o=n(62),i=n(29),a=n(10),u=n(30),s=n(35),c=n(11),l=c("iterator"),f=c("toStringTag"),d=s.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(p),v=0;v<h.length;v++){var y,m=h[v],_=p[m],b=a[m],g=b&&b.prototype;if(g&&(g[l]||u(g,l,d),g[f]||u(g,f,m),s[m]=d,_))for(y in r)g[y]||i(g,y,r[y],!0)}},function(e,t,n){"use strict";var r=n(187),o=n(106),i=n(35),a=n(45);e.exports=n(105)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,n):"values"==t?o(0,e[n]):o(0,[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(11)("unscopables"),o=Array.prototype;void 0==o[r]&&n(30)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t){!function(t){"use strict";function n(e,t,n,r){var i=t&&t.prototype instanceof o?t:o,a=Object.create(i.prototype),u=new p(r||[]);return a._invoke=c(e,n,u),a}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function o(){}function i(){}function a(){}function u(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function s(e){function t(n,o,i,a){var u=r(e[n],e,o);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==typeof c&&_.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(c).then(function(e){s.value=e,i(s)},a)}a(u.arg)}function n(e,n){function r(){return new Promise(function(r,o){t(e,n,r,o)})}return o=o?o.then(r,r):r()}var o;this._invoke=n}function c(e,t,n){var o=S;return function(i,a){if(o===P)throw new Error("Generator is already running");if(o===C){if("throw"===i)throw a;return v()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=l(u,n);if(s){if(s===I)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===S)throw o=C,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=P;var c=r(e,t,n);if("normal"===c.type){if(o=n.done?C:T,c.arg===I)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=C,n.method="throw",n.arg=c.arg)}}}function l(e,t){var n=e.iterator[t.method];if(n===y){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=y,l(e,t),"throw"===t.method))return I;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return I}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,I;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=y),t.delegate=null,I):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,I)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function h(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(_.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=y,t.done=!0,t};return r.next=r}}return{next:v}}function v(){return{value:y,done:!0}}var y,m=Object.prototype,_=m.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},g=b.iterator||"@@iterator",E=b.asyncIterator||"@@asyncIterator",w=b.toStringTag||"@@toStringTag",O="object"==typeof e,k=t.regeneratorRuntime;if(k)return void(O&&(e.exports=k));k=t.regeneratorRuntime=O?e.exports:{},k.wrap=n;var S="suspendedStart",T="suspendedYield",P="executing",C="completed",I={},x={};x[g]=function(){return this};var R=Object.getPrototypeOf,j=R&&R(R(h([])));j&&j!==m&&_.call(j,g)&&(x=j);var A=a.prototype=o.prototype=Object.create(x);i.prototype=A.constructor=a,a.constructor=i,a[w]=i.displayName="GeneratorFunction",k.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},k.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,w in e||(e[w]="GeneratorFunction")),e.prototype=Object.create(A),e},k.awrap=function(e){return{__await:e}},u(s.prototype),s.prototype[E]=function(){return this},k.AsyncIterator=s,k.async=function(e,t,r,o){var i=new s(n(e,t,r,o));return k.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},u(A),A[w]="Generator",A[g]=function(){return this},A.toString=function(){return"[object Generator]"},k.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},k.values=h,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&_.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=y)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=y),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=_.call(o,"catchLoc"),u=_.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&_.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,I):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),I},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),I}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;d(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:h(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=y),I}}}(function(){return this}()||Function("return this")())},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}return a.done?void e(u):Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)})}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},l=n(70),f=r(l),d=n(19),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=1e3,v=function(e){return e+"_"+Date.now()},y=function(e){return{stats:e.map(function(e){var t=e.event,n=e.params,r=e.ts;return{event:t,data:n,ts:r}}),bulk_ts:Date.now()}},m=function(){var e=void 0,t=void 0,n=0,r=0,o=!1,i=new Promise(function(t){return e=t}),a=new Promise(function(e){return t=e}),u=function(){o=!0,t()},s=function(){return e(),r===n&&u(),a},c=function(){r++,r===n&&u()},l=function(e){o||(n++,i.then(e).then(c,c))};return{trigger:s,extend:l}},_=function(e){function t(){var e,n,r;i(this,t);for(var o,u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return o=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n._bulkEvents=[],n._sendingTimeoutId=null,n._bulkEventBatch=null,r=o,a(n,r)}return u(t,e),s(t,[{key:"_getApiResponseFromNetworkAndMaybePutItToCache",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t){var n,r,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this._bulkEvents.length&&!i.body){e.next=2;break}return e.abrupt("return",f.default.prototype._getApiResponseFromNetworkAndMaybePutItToCache.call(this,t,i));case 2:return n=this._bulkEvents,r=y(n),o=p({},i,{body:r}),this._bulkEvents=[],e.prev=6,e.abrupt("return",f.default.prototype._getApiResponseFromNetworkAndMaybePutItToCache.call(this,t,o));case 10:throw e.prev=10,e.t0=e.catch(6),this._bulkEvents=this._bulkEvents.concat(n),e.t0;case 14:case"end":return e.stop()}},e,this,[[6,10]])}));return e}()},{key:"_addToQueue",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n&&(this._bulkEventBatch=null),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_addToQueue",this).call(this,e)}},{key:"_sendBulkEvents",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this._bulkEvents.length){e.next=2;break}return e.abrupt("return");case 2:return t=this._getApiRequestUrl(d.API_REQUEST_TYPES.BULK),n=this._bulkEvents,r=y(n),this._bulkEvents=[],e.prev=6,e.next=9,this._network.makeApiRequest(t,{body:r});case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(6),this._bulkEvents=this._bulkEvents.concat(n),e.t0;case 15:case"end":return e.stop()}},e,this,[[6,11]])}));return e}()},{key:"_planBulkEventsSending",value:function(){var e=this;null===this._sendingTimeoutId&&(this._sendingTimeoutId=setTimeout(function(){if(e._sendingTimeoutId=null,!e._bulkEventBatch){var t=e._bulkEventBatch=m();e._addToQueue(function(){return t.trigger().then(function(){e._bulkEventBatch===t&&(e._bulkEventBatch=null)})},!1)}e._bulkEventBatch&&e._bulkEventBatch.extend(function(){return e._sendBulkEvents()})},h))}},{key:"logBulkEvent",value:function(e,t,n){var r={id:v(e),event:e,params:t,ts:Date.now()};this._bulkEvents.push(r),this._planBulkEventsSending(),this._mediator.emit(d.EVENTS.BULK_EVENT_LOGGED,p({},r,{statMeta:n}))}},{key:"logNonBulkEvent",value:function(e,t){return this._network.makeApiRequest(e,{body:t})}}]),t}(f.default);t.default=_,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}return a.done?void e(u):Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)})}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(111),s=r(u),c=n(191),l=r(c),f=n(192),d=r(f),p=n(71),h=r(p),v=n(113),y=n(19),m="not-shown-pack",_="last-shown-pack",b=function(e){if(!(e&&e.type&&e.apiResponse&&e.params))throw new Error("Invalid cache record scheme.")},g=function(e,t){var n=e.receivedAt,r=e.ttl,o=e.storeTtl,i=t?o:r,a="number"==typeof n&&"number"==typeof i&&n+i>Date.now();if(!a)throw new Error("Invalid cache "+(t?"store-ttl":"ttl")+".")},E=function(e){if(!e.items)throw new Error("Invalid api response to put in cache.")},w=function(e){var t=e.userInfo,n=e.zenFeatures,r=t.oauthToken,o=t.login,i=t.deviceId,a=t.profileId,u=t.yandexuid,s=r||o||(0,v.getYandexLoginFromCookie)()||i||a||u||(0,v.getYandexuidFromCookie)();return{
userId:s,zenFeatures:n}},O=function(e,t){var n=e&&e.userId&&t&&t.userId&&e.userId===t.userId&&(0,s.default)(e.zenFeatures,t.zenFeatures);if(!n)throw new Error("ZenApi cache is not valid.")},k=function(){function e(t){i(this,e),this._zenApi=t}return a(e,[{key:"_getStorage",value:function(){var e=this._zenApi.getConfig();if(e.cache)switch(e.cache.type){case y.CACHE_TYPES.MULTI_SESSION_CACHE:if(d.default.isEnabled())return d.default;if(l.default.isEnabled())return l.default;break;case y.CACHE_TYPES.SESSION_CACHE:if(l.default.isEnabled())return l.default}throw new Error("ZenApi cache is not enabled.")}},{key:"_getRecordKey",value:function(e){var t=this._zenApi.getConfig(),n=t.cache&&t.cache.namespace;if(!n)throw new Error("ZenApi cache.namespace is not configured.");return n+"-"+e}},{key:"_get",value:function(){function e(e,n){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t,n){var r,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._getStorage(),o=this._getRecordKey(t),e.next=4,r.get(o);case 4:return i=e.sent,this.validateRecord(i,n),e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"_put",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t,n,r){var o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._getStorage(),i=this._getRecordKey(t),a=this.createRecord(n,r),e.next=5,o.put(i,a);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"_remove",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._getStorage(),r=this._getRecordKey(t),e.next=4,n.remove(r);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"createRecord",value:function(e,t){var n=this._zenApi.getConfig(),r=n.apiResponseValidator,o=(0,h.default)(t),i=w(n);return E(o),r(o),{type:e,apiResponse:t,params:i}}},{key:"validateRecord",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.byStoreTtl,r=void 0!==n&&n;b(e);var o=this._zenApi.getConfig(),i=o.apiResponseValidator,a=(0,h.default)(e.apiResponse),u=w(o);g(a,r),O(u,e.params),E(a),i(a)}},{key:"getNotShownPack",value:function(e){return this._get(m,e)}},{key:"getLastShownPack",value:function(e){return this._get(_,e)}},{key:"putNotShownPack",value:function(e,t){return this._put(m,e,t)}},{key:"putLastShownPack",value:function(e,t){return this._put(_,e,t)}},{key:"removeNotShownPack",value:function(){return this._remove(m)}},{key:"removeLastShownPack",value:function(){return this._remove(_)}}]),e}();t.default=k,e.exports=t.default},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}return a.done?void e(u):Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)})}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var o={},i=t.get=function(){var e=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o[t]);case 1:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),a=t.put=function(){var e=r(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o[t]=n;case 1:case"end":return e.stop()}},e,void 0)}));return function(t,n){return e.apply(this,arguments)}}(),u=t.remove=function(){var e=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:delete o[t];case 1:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),s=t.isEnabled=function(){return!0},c={get:i,put:a,remove:u,isEnabled:s};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.isEnabled=t.remove=t.put=t.get=void 0;var o=n(112),i=r(o),a=t.get=function(e){return i.default.get(e)},u=t.put=function(e,t){return i.default.set(e,t)},s=t.remove=function(e){return i.default.delete(e)},c=t.isEnabled=function(){return"undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB)},l={get:a,put:u,remove:s,isEnabled:c};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}return a.done?void e(u):Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)})}return r("next")})}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(37),c=n(70),l=(r(c),n(115)),f=r(l),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(t){a(this,e),this._zenApiInstance=t}return u(e,[{key:"_getExtraHeaders",value:function(){var e={},t=this._zenApiInstance.getConfig(),n=t.userInfo,r=t.zenFeatures,o=t.clientExperiments;return n.oauthToken&&(e.Authorization="OAuth "+n.oauthToken),Object.keys(r).length>0&&(e["Zen-Features"]=JSON.stringify(r)),e["Zen-Client-Experiments"]=["zen-version:"+f.default].concat(i(Array.isArray(o)&&o.length>0?o:[])).join(", "),e}},{key:"makeApiRequest",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t){var n,r,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._getExtraHeaders(),r={params:i.params,headers:d({},n,i.headers)},o=void 0,!i.body){e.next=9;break}return e.next=6,(0,s.zpost)(t,d({},r,{body:i.body}));case 6:o=e.sent,e.next=12;break;case 9:return e.next=11,(0,s.zfetch)(t,r);case 11:o=e.sent;case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}},e,this)}));return e}()}]),e}();t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i={timeouts:[5e3,1e4,15e3]},a=function(e){return Array.isArray(e)?function(t){return t<e.length?e[t]:null}:"function"!=typeof e?function(){return e}:e},u=function(e){return"function"!=typeof e?function(){return e}:e},s=function(e,t){return e.then(function(e){return t(e),e},function(e){throw t(e),e})},c=function(e,t){var n=void 0,c=void 0,l=function(e){n=o({},i,e)},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.args,i=t.timeouts,l=void 0===i?n.timeouts:i,f=t.withoutAction,d=void 0!==f&&f,p=t.withoutRetries,h=void 0!==p&&p,v=t.onTryComplete,y=void 0===v?function(e){if(e.isRejected)throw e.error;return e.value}:v,m=u(o),_=a(l),b=void 0,g=0,E=!1,w=!1,O=void 0,k=function(){return b===c},S=function(){return!E&&!w},T=function(){return!h&&S()&&k()},P=function(e){return new Promise(function(t,n){O=function(){O=null,n(new Error("Retries aborted."))},setTimeout(function(){O=null,t()},e)})},C=function(){S()&&(O&&O(),w=!0)},I=function(){var t=m(g),n=void 0;return Array.isArray(t)?n=e.apply(void 0,r(t)):(null!=t&&console.warn("Expected action arguments to be an array or null/undefined."),n=e()),n.then(function(e){return y({value:e,tryNumber:g,isFulfilled:!0,isRejected:!1,isLastSession:k,abortRetries:C})},function(e){return y({error:e,tryNumber:g,isFulfilled:!1,isRejected:!0,isLastSession:k,abortRetries:C})})},x=function e(t){if(T()){var n=_(g);if("number"==typeof n)return g++,P(n).then(function(){if(T())return I().catch(e);throw t});null!=n&&console.warn("Expected action timeout to be a number or null/undefined.")}throw t},R=d?Promise.reject(new Error("Generated error by 'withoutAction' call.")):I(),j=s(R.catch(x),function(){E=!0});return c&&c.abortRetries(),c=b={actionResult:R,retriesResult:j,isLastSession:k,isInProgress:S,abortRetries:C}};l(t);var d=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return f({args:t})};return d.startSession=f,d.setOptions=l,d};t.default=c,e.exports=t.default},function(e,t,n){"use strict";var r="YandexZen";e.exports={NAMESPACE:r}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createAppFromState=t.createAppFromData=void 0;var o=n(24),i=n(3),a=n(212),u=r(a),s=n(54),c=n(275);t.createAppFromData=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c.defaultMiddleware,l=(0,o.createStore)(r,(0,c.getStoreEnhancer)(a));l.dispatch((0,s.initApp)(t));var f=e.h(i.Provider,{store:l},e.h(n,null));return{app:f,store:l}},t.createAppFromState=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c.defaultMiddleware,s=(0,o.createStore)(r,t,(0,c.getStoreEnhancer)(a)),l=e.h(i.Provider,{store:s},e.h(n,null));return{app:l,store:s}}}).call(t,n(0))},function(e,t,n){"use strict";function r(e){return null==e?void 0===e?s:u:c&&c in Object(e)?Object(i.a)(e):Object(a.a)(e)}var o=n(118),i=n(200),a=n(201),u="[object Null]",s="[object Undefined]",c=o.a?o.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";var r=n(199),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();t.a=i},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(t,n(73))},function(e,t,n){"use strict";function r(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=u.call(e);return r&&(t?e[s]=n:delete e[s]),o}var o=n(118),i=Object.prototype,a=i.hasOwnProperty,u=i.toString,s=o.a?o.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";function r(e){return i.call(e)}var o=Object.prototype,i=o.toString;t.a=r},function(e,t,n){"use strict";var r=n(203),o=Object(r.a)(Object.getPrototypeOf,Object);t.a=o},function(e,t,n){"use strict";function r(e,t){return function(n){return e(t(n))}}t.a=r},function(e,t,n){"use strict";function r(e){return null!=e&&"object"==typeof e}t.a=r},function(e,t,n){e.exports=n(206)},function(e,t,n){"use strict";(function(e,r){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(208),u=o(a);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:r;var s=(0,u.default)(i);t.default=s}).call(t,n(73),n(207)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t){var n=t&&t.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function o(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:a.a.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:o}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+a.a.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function i(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var a=t[i];"function"==typeof e[a]&&(n[a]=e[a])}var u,s=Object.keys(n);try{o(n)}catch(e){u=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(u)throw u;for(var o=!1,i={},a=0;a<s.length;a++){var c=s[a],l=n[c],f=e[c],d=l(f,t);if("undefined"==typeof d){var p=r(c,t);throw new Error(p)}i[c]=d,o=o||d!==f}return o?i:e}}t.a=i;var a=n(116);n(117),n(119)},function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}function o(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),o={},i=0;i<n.length;i++){var a=n[i],u=e[a];"function"==typeof u&&(o[a]=r(u,t))}return o}t.a=o},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,a){var u=e(n,r,a),s=u.dispatch,c=[],l={getState:u.getState,dispatch:function(e){return s(e)}};return c=t.map(function(e){return e(l)}),s=o.a.apply(void 0,c)(u.dispatch),i({},u,{dispatch:s})}}}t.a=r;var o=n(120),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.user=t.auth=t.context=t.shared=t.params=t.links=void 0;var o=n(24),i=n(74),a=n(213),u=r(a),s=n(217),c=r(s),l=n(218),f=r(l),d=n(224),p=r(d),h=n(225),v=r(h),y=n(226),m=r(y),_=n(227),b=r(_),g=n(229),E=r(g),w=n(241),O=r(w),k=n(242),S=r(k),T=n(266),P=r(T),C=n(267),I=r(C),x=n(80),R=t.links=(0,c.default)({onboarding:null,export:null,more:null,bulk:null}),j=t.params=(0,c.default)({integration:null,product:null,tld:"ru",lang:"ru",isIceStart:!1,zenFeatures:{},clientExperiments:[],experimentsData:{},complaints:[]}),A=t.shared=(0,c.default)({scrollToID:null}),N=t.context=(0,c.default)({}),M=t.auth=(0,c.default)({}),L=t.user=(0,c.default)({});t.default=(0,o.compose)(i.enableBatching,u.default,o.combineReducers)({feed:f.default,iface:p.default,channel:v.default,channelList:I.default,iceboarding:m.default,links:R,params:j,shared:A,context:N,promo:b.default,auth:M,user:L,subs:O.default,profile:E.default,search:S.default,categories:P.default,router:x.routerReducer})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=r(o),a=n(54),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(e){return function(t,n){switch(n.type){case a.MERGE_STATE_BRANCH:var r=n.payload,o=r.branchName,s=r.branchState,c=Object.keys(s).reduce(function(e,t){return"undefined"!=typeof s[t]&&(e[t]=s[t]),e},{});return i.default.set(t,[o],function(e){return u({},e,c)});default:return e(t,n)}}};t.default=s,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(215),u=r(a),s=n(19),c=function(){function e(t){o(this,e),this._config={onFeedTtlExpired:null,onExportErrorTtlExpired:null,onMoreErrorTtlExpired:null},this._exportTtlController=new u.default,this._moreTtlController=new u.default,t&&this.configure(t),this._exportTtlController.addListener(s.EVENTS.API_RESPONSE_TTL_EXPIRED,this._createCallback("onFeedTtlExpired")),this._moreTtlController.addListener(s.EVENTS.API_RESPONSE_TTL_EXPIRED,this._createCallback("onFeedTtlExpired")),this._exportTtlController.addListener(s.EVENTS.API_RESPONSE_ERROR_TTL_EXPIRED,this._createCallback("onExportErrorTtlExpired")),this._moreTtlController.addListener(s.EVENTS.API_RESPONSE_ERROR_TTL_EXPIRED,this._createCallback("onMoreErrorTtlExpired"))}return i(e,[{key:"_createCallback",value:function(e){var t=this;return function(){var n=t._config[e];"function"==typeof n&&n.apply(void 0,arguments)}}},{key:"configure",value:function(e){this._config="function"==typeof e?e(this._config):e}},{key:"getConfig",value:function(){return this._config}},{key:"apiResponseReceived",value:function(e,t){switch(e){case s.API_REQUEST_TYPES.EXPORT:this._exportTtlController.apiResponseReceived(t),this._moreTtlController.stopTtlTimers();break;case s.API_REQUEST_TYPES.MORE:this._exportTtlController.stopTtlTimers(),this._moreTtlController.apiResponseReceived(t)}}},{key:"apiResponseReceiveFailed",value:function(e,t){switch(e){case s.API_REQUEST_TYPES.EXPORT:this._exportTtlController.apiResponseReceiveFailed(t),this._moreTtlController.stopApiResponseErrorTtlTimer();break;case s.API_REQUEST_TYPES.MORE:this._exportTtlController.stopApiResponseErrorTtlTimer(),this._moreTtlController.apiResponseReceiveFailed(t)}}}]),e}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(53),u=r(a),s=n(19),c=6e5,l=1e4,f=function(){function e(){o(this,e),this._apiResponseTimeoutId=null,this._apiResponseErrorTimeoutId=null,this._mediator=new u.default}return i(e,[{key:"apiResponseReceived",value:function(e){var t=this,n=e.ttl||c,r=Date.now()-e.receivedAt,o=Math.max(r>0?n-r:n,l);this.stopTtlTimers(),this._apiResponseTimeoutId=setTimeout(function(){t._apiResponseTimeoutId=null,t._mediator.emit(s.EVENTS.API_RESPONSE_TTL_EXPIRED,e)},o)}},{key:"apiResponseReceiveFailed",value:function(e){var t=this,n=e.ttl||c,r=Math.max(n,l);this.stopApiResponseErrorTtlTimer(),this._apiResponseErrorTimeoutId=setTimeout(function(){t._apiResponseErrorTimeoutId=null,t._mediator.emit(s.EVENTS.API_RESPONSE_ERROR_TTL_EXPIRED,e)},r)}},{key:"stopApiResponseTtlTimer",value:function(){clearTimeout(this._apiResponseTimeoutId),this._apiResponseTimeoutId=null}},{key:"stopApiResponseErrorTtlTimer",value:function(){clearTimeout(this._apiResponseErrorTimeoutId),this._apiResponseErrorTimeoutId=null}},{key:"stopTtlTimers",value:function(){this.stopApiResponseTtlTimer(),this.stopApiResponseErrorTtlTimer()}},{key:"addListener",value:function(e,t){this._mediator.addListener(e,t)}},{key:"removeListener",value:function(e,t){this._mediator.removeListener(e,t)}}]),e}();t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){r(this,e),this._data=t}return o(e,[{key:"exists",value:function(e){return this._data.hasOwnProperty(e)}},{key:"isExp",value:function(e){return this.exists(e)&&Boolean(this._data[e].exp)}},{key:"isRef",value:function(e){return this.exists(e)&&Boolean(this._data[e].ref)}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){return"undefined"==typeof t?"function"==typeof e?e():e:t}};t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=r(o),a=n(219),u=r(a),s=n(223),c=r(s),l=n(4),f=n(32),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p={gridType:l.TWO_COLUMNS,items:{},itemsOrder:[],displayedRowsNumber:0,isChildWindow:!1},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1];switch(t.type){case f.PREPEND_ITEM:var n=t.payload.item;return(0,c.default)(e,[["set",["items",n.id],n],["set","itemsOrder",function(e){return[n.id].concat(e)}]]);case f.APPEND_ITEM:var r=t.payload.item;return(0,c.default)(e,[["set",["items",r.id],r],["set","itemsOrder",function(e){return e.concat(r.id)}]]);case f.INSERT_ITEM_BEFORE:var o=t.payload,a=o.item,s=o.beforeId;return(0,c.default)(e,[["set",["items",a.id],a],["set","itemsOrder",function(e){return y(e,a.id,s)}]]);case f.INSERT_ITEM_AFTER:var l=t.payload,h=l.item,v=l.afterId;return(0,c.default)(e,[["set",["items",h.id],h],["set","itemsOrder",function(e){return m(e,h.id,v)}]]);case f.REMOVE_ITEM:var _=t.payload.itemId,b=e.itemsOrder.indexOf(_);return(0,c.default)(e,[["del",["items",_]],["del",["itemsOrder",b]]]);case f.REPLACE_ITEM:var g=t.payload,E=g.item,w=g.replaceId,O=e.itemsOrder.indexOf(w);return(0,c.default)(e,[["del",["items",w]],["set",["items",E.id],E],["set",["itemsOrder",O],E.id]]);case f.RECEIVE_ITEMS:var k=t.payload,S=k.items,T=k.insertOnTop,P=Object.keys(e.items),C={},I=[];S.forEach(function(e){var t=!P.includes(e.id)&&!I.includes(e.id),n=void 0;t?n=e.id:(console.warn("Non unique item: "+e.id+", "+e.title),n=e.id+"_"+Date.now()),C[n]=d({},e,{itemId:n}),I.push(n)});var x=d({},e.items,C),R=T?I.concat(e.itemsOrder):e.itemsOrder.concat(I);return d({},e,{items:x,itemsOrder:R});case f.REQUEST_SIMILAR:case f.RECEIVE_SIMILAR:var j=t.payload.itemId,A=["items",j,"isSimilarRequested"],N=t.type===f.REQUEST_SIMILAR;return i.default.set(e,A,N);case f.LINK_CHILD_ITEM:var M=t.payload,L=M.itemId,D=M.childItemId;return(0,c.default)(e,[["set",["items",L,"childItemId"],D],["set",["items",D,"parentId"],L]]);case f.UNLINK_CHILD_ITEM:var B=t.payload.itemId,U=e.items[B].childItemId;return(0,c.default)(e,[["del",["items",B,"childItemId"]],["del",["items",U,"parentId"]]]);case f.ANSWER_USER_QUESTION:var F=t.payload,H=F.id,z=F.parentId,G=["items",H,"isAnswered"],V=["items",z,"isUserQuestionAnswered"];return(0,c.default)(e,[["set",G,!0],["set",V,!0]]);case f.SET_GRID_TYPE:var Y=t.payload.gridType;return d({},e,{gridType:Y});case f.SET_DISPLAYED_ROWS_NUMBER:var W=t.payload.displayedRowsNumber;return d({},e,{displayedRowsNumber:W});case f.SET_IS_CHILD_WINDOW:var q=t.payload.isChildWindow;return d({},e,{isChildWindow:q});case f.CLEAR_FEED:return p;default:var K=t.payload&&t.payload.id,Q=t.payload&&t.payload.ids;if(K&&e.items[K]){var Z=e.items[K];if(!Z)return e;var J=(0,u.default)(Z,t),X=Z!==J;return X?i.default.set(e,["items",K],J):e}if(Array.isArray(Q)){for(var $=e.items,ee={},te=!1,ne=0;ne<Q.length;ne++){var re=Q[ne],oe=$[re];if(oe){var ie=ee[re]=(0,u.default)(oe,t);oe!==ie&&(te=!0)}}return te?d({},e,{items:d({},$,ee)}):e}return e}},v=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.indexOf(n),i=Number(r);if(o===-1)throw new Error("Array not contains item.");return e.slice(0,o+i).concat(t,e.slice(o+i))},y=function(e,t,n){return v(e,t,n,!1)},m=function(e,t,n){return v(e,t,n,!0)};t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(220),i=r(o),a=n(221),u=r(a),s=n(222),c=r(s),l=n(4),f=function(e,t){switch(e.type){case l.TYPE_NARRATIVE:case l.TYPE_DOC:return(0,i.default)(e,t);case l.TYPE_VIDEO:case l.TYPE_GIF:return(0,u.default)(e,t);case l.TYPE_MAGIC_CARD:return(0,c.default)(e,t);default:return e}};t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(75),i=r(o),a=n(76),u=r(a),s=n(26),c=n(77),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case c.DOC_READ:return l({},e,{read:!0});case c.DOC_CLICK:return l({},e,{subscribeTriggerEvent:"click"});case s.ITEM_FEEDBACK_LIKE:return l({},e,{subscribeTriggerEvent:"feedback_more"});default:return e}};t.default=(0,u.default)(i.default,f),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(75),i=r(o),a=n(76),u=r(a),s=n(123),c=n(26),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case s.VIDEO_READ:return l({},e,{read:!0});case s.VIDEO_START:return l({},e,{started:!0});case s.VIDEO_RESET:case c.ITEM_FEEDBACK_DISLIKE:return l({},e,{started:!1});default:return e}};t.default=(0,u.default)(i.default,f),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=r(o),a=n(75),u=r(a),s=n(76),c=r(s),l=n(124),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case l.MAGIC_ITEM_SHOW:var n=t.payload.childId,r=e.items.indexOf(n);return r!==-1?i.default.set(e,["items",r,"shown"],!0):e;default:return e}};t.default=(0,c.default)(u.default,f),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){return Array.isArray(e)?e:Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),u=r(a),s=function(e,t){return t.reduce(function(e,t){var n=i(t),r=n[0],a=n.slice(1);return u.default[r].apply(u.default,[e].concat(o(a)))},e)};t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i={moreButtonOffsetMode:"header",isMoreButtonVisible:!1,isSpinnerVisible:!1,isErrorMessageVisible:!1,isNotifiersDisabled:!1,isBodyScrollEnabled:!0,isVideoAutoplayEnabled:null},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.SHOW_MORE_BUTTON:return o({},e,{isMoreButtonVisible:!0});case r.HIDE_MORE_BUTTON:return o({},e,{isMoreButtonVisible:!1});case r.SWITCH_MORE_BUTTON_OFFSET_MODE:var n=t.payload.offsetMode;return o({},e,{moreButtonOffsetMode:n});case r.SHOW_SPINNER:return o({},e,{isSpinnerVisible:!0});case r.HIDE_SPINNER:return o({},e,{isSpinnerVisible:!1});case r.SHOW_ERROR_MESSAGE:return o({},e,{isErrorMessageVisible:!0});case r.HIDE_ERROR_MESSAGE:return o({},e,{isErrorMessageVisible:!1});case r.ENABLE_NOTIFIERS:return o({},e,{isNotifiersDisabled:!1});case r.DISABLE_NOTIFIERS:return o({},e,{isNotifiersDisabled:!0});case r.DISABLE_BODY_SCROLL:return o({},e,{isBodyScrollEnabled:!1});case r.ENABLE_BODY_SCROLL:return o({},e,{isBodyScrollEnabled:!0});case r.VIDEO_AUTOPLAY_ON:return o({},e,{isVideoAutoplayEnabled:!0});case r.VIDEO_AUTOPLAY_OFF:return o({},e,{isVideoAutoplayEnabled:!1});default:return e}};t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.initialState={id:void 0};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1];switch(t.type){default:return e}}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.iceboardingReducer=void 0;var o=n(125),i={checkedSources:[]},a=t.iceboardingReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case o.CHECK_SOURCE:var n=t.payload.id,a=e.checkedSources;return{checkedSources:[].concat(r(a),[n])};case o.UNCHECK_SOURCE:var u=t.payload.id,s=e.checkedSources,c=s.slice(0);return c.splice(s.indexOf(u),1),{checkedSources:c};default:return e}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promoReducer=void 0;var r=n(228),o={showAdfoxInterstitial:!1},i=t.promoReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.SHOW_ADFOX_INTERSTITIAL:return{showAdfoxInterstitial:!0};default:return e}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.SHOW_ADFOX_INTERSTITIAL="SHOW_ADFOX_INTERSTITIAL";t.showAdfoxInterstitial=function(){return{type:r}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=n(230),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=t.initialState={loading:!0,failed:!1,profile:void 0};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.GET_PROFILE_REQUEST:return o({},e,{loading:!0,failed:!1});case r.GET_PROFILE_SUCCESS:var n=t.payload;return o({},e,{loading:!1,profile:n});case r.GET_PROFILE_FAILURE:return o({},e,{loading:!1,failed:!0});default:return e}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GET_PROFILE_FAILURE=t.GET_PROFILE_SUCCESS=t.GET_PROFILE_REQUEST=t.getProfile=void 0;var o=n(5),i=r(o),a=n(33),u=(0,a.createThrottledAsyncAction)("profile",i.default.getProfile.bind(i.default)),s=u.action,c=u.request,l=u.succeed,f=u.failure;t.getProfile=s,t.GET_PROFILE_REQUEST=c,t.GET_PROFILE_SUCCESS=l,t.GET_PROFILE_FAILURE=f},function(e,t,n){function r(e,t,n){var r=!0,u=!0;if("function"!=typeof e)throw new TypeError(a);return i(n)&&(r="leading"in n?!!n.leading:r,
u="trailing"in n?!!n.trailing:u),o(e,t,{leading:r,maxWait:t,trailing:u})}var o=n(232),i=n(78),a="Expected a function";e.exports=r},function(e,t,n){function r(e,t,n){function r(t){var n=_,r=b;return _=b=void 0,k=t,E=e.apply(r,n)}function l(e){return k=e,w=setTimeout(p,t),S?r(e):E}function f(e){var n=e-O,r=e-k,o=t-n;return T?c(o,g-r):o}function d(e){var n=e-O,r=e-k;return void 0===O||n>=t||n<0||T&&r>=g}function p(){var e=i();return d(e)?h(e):void(w=setTimeout(p,f(e)))}function h(e){return w=void 0,P&&_?r(e):(_=b=void 0,E)}function v(){void 0!==w&&clearTimeout(w),k=0,_=O=b=w=void 0}function y(){return void 0===w?E:h(i())}function m(){var e=i(),n=d(e);if(_=arguments,b=this,O=e,n){if(void 0===w)return l(O);if(T)return w=setTimeout(p,t),r(O)}return void 0===w&&(w=setTimeout(p,t)),E}var _,b,g,E,w,O,k=0,S=!1,T=!1,P=!0;if("function"!=typeof e)throw new TypeError(u);return t=a(t)||0,o(n)&&(S=!!n.leading,T="maxWait"in n,g=T?s(a(n.maxWait)||0,t):g,P="trailing"in n?!!n.trailing:P),m.cancel=v,m.flush=y,m}var o=n(78),i=n(233),a=n(235),u="Expected a function",s=Math.max,c=Math.min;e.exports=r},function(e,t,n){var r=n(126),o=function(){return r.Date.now()};e.exports=o},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(73))},function(e,t,n){function r(e){if("number"==typeof e)return e;if(i(e))return a;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(u,"");var n=c.test(e);return n||l.test(e)?f(e.slice(2),n?2:8):s.test(e)?a:+e}var o=n(78),i=n(236),a=NaN,u=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt;e.exports=r},function(e,t,n){function r(e){return"symbol"==typeof e||i(e)&&o(e)==a}var o=n(237),i=n(240),a="[object Symbol]";e.exports=r},function(e,t,n){function r(e){return null==e?void 0===e?s:u:c&&c in Object(e)?i(e):a(e)}var o=n(127),i=n(238),a=n(239),u="[object Null]",s="[object Undefined]",c=o?o.toStringTag:void 0;e.exports=r},function(e,t,n){function r(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=u.call(e);return r&&(t?e[s]=n:delete e[s]),o}var o=n(127),i=Object.prototype,a=i.hasOwnProperty,u=i.toString,s=o?o.toStringTag:void 0;e.exports=r},function(e,t){function n(e){return o.call(e)}var r=Object.prototype,o=r.toString;e.exports=n},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=n(128),o=n(79),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=t.initialState={loading:!0,failed:!1,channels:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case r.GET_SUBS_REQUEST:return i({},e,{loading:!0,failed:!1});case r.GET_SUBS_SUCCESS:var n=t.payload.channels;return i({},e,{loading:!1,channels:(0,o.stripChannels)(n)});case r.GET_SUBS_FAILURE:return i({},e,{loading:!1,failed:!0});default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=n(80),o=n(136),i=n(79),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=t.initialState={filter:"",appliedFilter:"",initial:!0,loading:!1,failed:!1,channels:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case r.LOCATION_CHANGE:return a({},u);case o.SET_FILTER:var n=t.payload;return a({},e,{filter:n});case o.SUGGEST_REQUEST:var s=t.payload;return a({},e,{loading:!0,failed:!1,appliedFilter:s});case o.SUGGEST_SUCCESS:var c=t.payload,l=c.channels,f=c.initial;return a({},e,{initial:!!f,loading:!1,channels:(0,i.stripChannels)(l)});case o.SUGGEST_FAILURE:return a({},e,{loading:!1,failed:!0});default:return e}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),u=n(15),s=n.n(u),c=n(129),l=n(134),f=function(e){function t(){var n,i,a;r(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=i=o(this,e.call.apply(e,[this].concat(s))),i.handleLocationChange=function(e){i.store.dispatch({type:l.a,payload:e})},a=n,o(i,a)}return i(t,e),t.prototype.componentWillMount=function(){var e=this.props,t=e.store,n=e.history,r=e.isSSR;this.store=t||this.context.store,this.handleLocationChange(n.location),r||(this.unsubscribeFromHistory=n.listen(this.handleLocationChange))},t.prototype.componentWillUnmount=function(){this.unsubscribeFromHistory&&this.unsubscribeFromHistory()},t.prototype.render=function(){return a.default.createElement(c.a,this.props)},t}(a.Component);f.propTypes={store:s.a.object,history:s.a.object.isRequired,children:s.a.node,isSSR:s.a.bool},f.contextTypes={store:s.a.object},t.a=f},function(e,t,n){"use strict";var r=n(245),o=n(246),i=n(247);e.exports=function(){function e(e,t,n,r,a,u){u!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r,i,a,u,s){if(o(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,u,s],f=0;c=new Error(t.replace(/%s/g,function(){return l[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var o=function(e){};e.exports=r},function(e,t,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(8),u=n.n(a),s=n(0),c=n(15),l=n.n(c),f=n(249),d=n.n(f),p=n(82),h=function(e){function t(){var n,i,a;r(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=i=o(this,e.call.apply(e,[this].concat(s))),i.history=d()(i.props),a=n,o(i,a)}return i(t,e),t.prototype.componentWillMount=function(){u()(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},t.prototype.render=function(){return s.default.createElement(p.a,{history:this.history,children:this.props.children})},t}(s.default.Component);h.propTypes={initialEntries:l.a.array,initialIndex:l.a.number,getUserConfirmation:l.a.func,keyLength:l.a.number,children:l.a.node}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(8),u=r(a),s=n(81),c=n(250),l=n(251),f=r(l),d=function(e,t,n){return Math.min(Math.max(e,t),n)},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getUserConfirmation,n=e.initialEntries,r=void 0===n?["/"]:n,a=e.initialIndex,l=void 0===a?0:a,p=e.keyLength,h=void 0===p?6:p,v=(0,f.default)(),y=function(e){i(I,e),I.length=I.entries.length,v.notifyListeners(I.location,I.action)},m=function(){return Math.random().toString(36).substr(2,h)},_=d(l,0,r.length-1),b=r.map(function(e){return"string"==typeof e?(0,c.createLocation)(e,void 0,m()):(0,c.createLocation)(e,void 0,e.key||m())}),g=s.createPath,E=function(e,n){(0,u.default)(!("object"===("undefined"==typeof e?"undefined":o(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var r="PUSH",i=(0,c.createLocation)(e,n,m(),I.location);v.confirmTransitionTo(i,r,t,function(e){if(e){var t=I.index,n=t+1,o=I.entries.slice(0);o.length>n?o.splice(n,o.length-n,i):o.push(i),y({action:r,location:i,index:n,entries:o})}})},w=function(e,n){(0,u.default)(!("object"===("undefined"==typeof e?"undefined":o(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var r="REPLACE",i=(0,c.createLocation)(e,n,m(),I.location);v.confirmTransitionTo(i,r,t,function(e){e&&(I.entries[I.index]=i,y({action:r,location:i}))})},O=function(e){var n=d(I.index+e,0,I.entries.length-1),r="POP",o=I.entries[n];v.confirmTransitionTo(o,r,t,function(e){e?y({action:r,location:o,index:n}):y()})},k=function(){return O(-1)},S=function(){return O(1)},T=function(e){var t=I.index+e;return t>=0&&t<I.entries.length},P=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return v.setPrompt(e)},C=function(e){return v.appendListener(e)},I={length:b.length,action:"POP",location:b[_],index:_,entries:b,createHref:g,push:E,replace:w,go:O,goBack:k,goForward:S,canGo:T,block:P,listen:C};return I};t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.locationsAreEqual=t.createLocation=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(130),a=r(i),u=n(131),s=r(u),c=n(81);t.createLocation=function(e,t,n,r){var i=void 0;"string"==typeof e?(i=(0,c.parsePath)(e),i.state=t):(i=o({},e),void 0===i.pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=(0,a.default)(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i},t.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&(0,s.default)(e.state,t.state)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(8),i=r(o),a=function(){var e=null,t=function(t){return(0,i.default)(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},n=function(t,n,r,o){if(null!=e){var a="function"==typeof e?e(t,n):e;"string"==typeof a?"function"==typeof r?r(a,o):((0,i.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(a!==!1)}else o(!0)},r=[],o=function(e){var t=!0,n=function(){t&&e.apply(void 0,arguments)};return r.push(n),function(){t=!1,r=r.filter(function(e){return e!==n})}},a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.forEach(function(e){return e.apply(void 0,t)})};return{setPrompt:t,confirmTransitionTo:n,appendListener:o,notifyListeners:a}};t.default=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),u=n(15),s=n.n(u),c=n(20),l=n.n(c),f=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.enable=function(e){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(e)},t.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},t.prototype.componentWillMount=function(){l()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},t.prototype.componentWillReceiveProps=function(e){e.when?this.props.when&&this.props.message===e.message||this.enable(e.message):this.disable()},t.prototype.componentWillUnmount=function(){this.disable()},t.prototype.render=function(){return null},t}(a.default.Component);f.propTypes={when:s.a.bool,message:s.a.oneOfType([s.a.func,s.a.string]).isRequired},f.defaultProps={when:!0},f.contextTypes={router:s.a.shape({history:s.a.shape({block:s.a.func.isRequired}).isRequired}).isRequired}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),u=n(15),s=n.n(u),c=n(8),l=n.n(c),f=n(20),d=n.n(f),p=n(254),h=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){d()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.componentDidUpdate=function(e){var t=Object(p.a)(e.to),n=Object(p.a)(this.props.to);return Object(p.b)(t,n)?void l()(!1,"You tried to redirect to the same route you're currently on: "+('"'+n.pathname+n.search+'"')):void this.perform()},t.prototype.perform=function(){var e=this.context.router.history,t=this.props,n=t.push,r=t.to;n?e.push(r):e.replace(r)},t.prototype.render=function(){return null},t}(a.default.Component);h.propTypes={push:s.a.bool,from:s.a.string,to:s.a.oneOfType([s.a.string,s.a.object]).isRequired},h.defaultProps={push:!1},h.contextTypes={router:s.a.shape({history:s.a.shape({push:s.a.func.isRequired,replace:s.a.func.isRequired}).isRequired,staticContext:s.a.object}).isRequired}},function(e,t,n){"use strict";var r=(n(255),n(256),n(257),n(57));n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b});n(39)},function(e,t,n){"use strict";var r=n(8),o=(n.n(r),n(20));n.n(o),n(57),n(39),n(83),n(132),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";var r=n(8),o=(n.n(r),n(20)),i=(n.n(o),n(57),n(39));n(83),n(132),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},{hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+Object(i.f)(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:i.f,decodePath:i.a},slash:{encodePath:i.a,decodePath:i.a}}},function(e,t,n){"use strict";var r=n(8);n.n(r),n(39),n(57),n(83),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){function r(e,t){for(var n,r=[],o=0,i=0,a="",u=t&&t.delimiter||"/";null!=(n=_.exec(e));){var l=n[0],f=n[1],d=n.index;if(a+=e.slice(i,d),i=d+l.length,f)a+=f[1];else{var p=e[i],h=n[2],v=n[3],y=n[4],m=n[5],b=n[6],g=n[7];a&&(r.push(a),a="");var E=null!=h&&null!=p&&p!==h,w="+"===b||"*"===b,O="?"===b||"*"===b,k=n[2]||u,S=y||m;r.push({name:v||o++,prefix:h||"",delimiter:k,optional:O,repeat:w,partial:E,asterisk:!!g,pattern:S?c(S):g?".*":"[^"+s(k)+"]+?"})}}return i<e.length&&(a+=e.substr(i)),a&&r.push(a),r}function o(e,t){return u(r(e,t))}function i(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function a(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function u(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,r){for(var o="",u=n||{},s=r||{},c=s.pretty?i:encodeURIComponent,l=0;l<e.length;l++){var f=e[l];if("string"!=typeof f){var d,p=u[f.name];if(null==p){if(f.optional){f.partial&&(o+=f.prefix);continue}throw new TypeError('Expected "'+f.name+'" to be defined')}if(m(p)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var h=0;h<p.length;h++){if(d=c(p[h]),!t[l].test(d))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===h?f.prefix:f.delimiter)+d}}else{if(d=f.asterisk?a(p):c(p),!t[l].test(d))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+d+'"');o+=f.prefix+d}}else o+=f}return o}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e.sensitive?"":"i"}function d(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}function p(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(y(e[o],t,n).source);var i=new RegExp("(?:"+r.join("|")+")",f(n));return l(i,t)}function h(e,t,n){return v(r(e,n),t,n)}function v(e,t,n){m(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,o=n.end!==!1,i="",a=0;a<e.length;a++){var u=e[a];if("string"==typeof u)i+=s(u);else{var c=s(u.prefix),d="(?:"+u.pattern+")";t.push(u),u.repeat&&(d+="(?:"+c+d+")*"),d=u.optional?u.partial?c+"("+d+")?":"(?:"+c+"("+d+"))?":c+"("+d+")",i+=d}}var p=s(n.delimiter||"/"),h=i.slice(-p.length)===p;return r||(i=(h?i.slice(0,-p.length):i)+"(?:"+p+"(?=$))?"),i+=o?"$":r&&h?"":"(?="+p+"|$)",l(new RegExp("^"+i,f(n)),t)}function y(e,t,n){return m(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?d(e,t):m(e)?p(e,t,n):h(e,t,n)}var m=n(259);e.exports=y,e.exports.parse=r,e.exports.compile=o,e.exports.tokensToFunction=u,e.exports.tokensToRegExp=v;var _=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(8),s=n.n(u),c=n(20),l=n.n(c),f=n(0),d=n(15),p=n.n(d),h=n(81),v=(n.n(h),n(82)),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,o=void 0===r?"":r,i=e.hash,a=void 0===i?"":i;return{pathname:n,search:"?"===o?"":o,hash:"#"===a?"":a}},_=function(e,t){return e?y({},t,{pathname:Object(h.addLeadingSlash)(e)+t.pathname}):t},b=function(e,t){if(!e)return t;var n=Object(h.addLeadingSlash)(e);return 0!==t.pathname.indexOf(n)?t:y({},t,{pathname:t.pathname.substr(n.length)})},g=function(e){return"string"==typeof e?Object(h.parsePath)(e):m(e)},E=function(e){return"string"==typeof e?e:Object(h.createPath)(e)},w=function(e){return function(){l()(!1,"You cannot %s with <StaticRouter>",e)}},O=function(){},k=function(e){function t(){var n,r,a;o(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.createHref=function(e){return Object(h.addLeadingSlash)(r.props.basename+E(e))},r.handlePush=function(e){var t=r.props,n=t.basename,o=t.context;o.action="PUSH",o.location=_(n,g(e)),o.url=E(o.location)},r.handleReplace=function(e){var t=r.props,n=t.basename,o=t.context;o.action="REPLACE",o.location=_(n,g(e)),o.url=E(o.location)},r.handleListen=function(){return O},r.handleBlock=function(){return O},a=n,i(r,a)}return a(t,e),t.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},t.prototype.componentWillMount=function(){s()(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},t.prototype.render=function(){var e=this.props,t=e.basename,n=(e.context,e.location),o=r(e,["basename","context","location"]),i={createHref:this.createHref,action:"POP",location:b(t,g(n)),push:this.handlePush,replace:this.handleReplace,go:w("go"),goBack:w("goBack"),goForward:w("goForward"),listen:this.handleListen,block:this.handleBlock};return f.default.createElement(v.a,y({},o,{history:i}))},t}(f.default.Component);k.propTypes={basename:p.a.string,context:p.a.object.isRequired,location:p.a.oneOfType([p.a.string,p.a.object])},k.defaultProps={basename:"",location:"/"},k.childContextTypes={router:p.a.object.isRequired}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),u=n(15),s=n.n(u),c=n(8),l=n.n(c),f=n(20),d=n.n(f),p=n(84),h=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.componentWillMount=function(){d()(this.context.router,"You should not use <Switch> outside a <Router>")},t.prototype.componentWillReceiveProps=function(e){l()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),l()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,n=this.props.location||e.location,r=void 0,o=void 0;return a.default.Children.forEach(t,function(t){if(a.default.isValidElement(t)){var i=t.props,u=i.path,s=i.exact,c=i.strict,l=i.sensitive,f=i.from,d=u||f;null==r&&(o=t,r=d?Object(p.a)(n.pathname,{path:d,exact:s,strict:c,sensitive:l}):e.match)}}),r?a.default.cloneElement(o,{location:n,computedMatch:r}):null},t}(a.default.Component);h.contextTypes={router:s.a.shape({route:s.a.object.isRequired}).isRequired},h.propTypes={children:s.a.node,location:s.a.object}},function(e,t,n){"use strict";var r=(n(0),n(15)),o=(n.n(r),n(263));n.n(o),n(133),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){!function(t,n){e.exports=n()}(this,function(){"use strict";var e={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n=Object.defineProperty,r=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols,i=Object.getOwnPropertyDescriptor,a=Object.getPrototypeOf,u=a&&a(Object);return function s(c,l,f){if("string"!=typeof l){if(u){var d=a(l);d&&d!==u&&s(c,d,f)}var p=r(l);o&&(p=p.concat(o(l)));for(var h=0;h<p.length;++h){var v=p[h];if(!(e[v]||t[v]||f&&f[v])){var y=i(l,v);try{n(c,v,y)}catch(e){}}}return c}return c}})},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var r=n(129),o=function(e){return e.router.location},i=function(e){var t=null,n=null;return function(i){var a=o(i)||{},u=a.pathname;if(u===t)return n;t=u;var s=Object(r.b)(u,e);return s&&n&&s.url===n.url||(n=s),n}}},function(e,t,n){"use strict";function r(e){return function(){return function(t){return function(n){if(n.type!==o.a)return t(n);var r=n.payload,i=r.method,a=r.args;e[i].apply(e,a)}}}}t.a=r;var o=n(135)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var o=n(137),i=n(138),a=n(79),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s={initial:!0,loading:!0,failed:!1,channels:[]},c=t.initialState={loading:!0,failed:!1,channels:[],list:{}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case o.GET_CATEGORIES_REQUEST:return u({},e,{loading:!0,failed:!1});case o.GET_CATEGORIES_SUCCESS:var n=t.payload,l=n.list,f=n.channels;return u({},e,{loading:!1,list:l.reduce(function(e,t){return e[t.name]||(e[t.name]=u({},s,t)),e},Object.assign({},e.list)),channels:(0,a.stripChannels)(f)});case o.GET_CATEGORIES_FAILURE:return u({},e,{loading:!1,failed:!0});case i.GET_CATEGORY:var d=t.payload.name;return u({},e,{list:u({},e.list,r({},d,u({},e.list[d],{initial:!1,loading:!0,failed:!1})))});case i.GET_CATEGORY_SUCCESS:var p=t.payload,h=p.name,v=p.channels;return u({},e,{list:u({},e.list,r({},h,u({},e.list[h],{loading:!1,channels:(0,a.stripChannels)(v)})))});case i.GET_CATEGORY_FAILURE:var y=t.payload.name;return u({},e,{list:u({},e.list,r({},y,u({},e.list[y],{loading:!1,failed:!0})))});default:return e}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1];switch(t.type){case u.SUGGEST_SUCCESS:case s.GET_SUBS_SUCCESS:case c.GET_CATEGORY_SUCCESS:case a.GET_CATEGORIES_SUCCESS:var n=t.payload.channels;return n?n.reduce(function(e,t){var n=t.id,r=t.userSubscribed,o=t.userBlocked,i=t.subscribers;return r="hack"===r?e[n]&&e[n].userSubscribed:r,o="hack"===o?e[n]&&e[n].userBlocked:o,e[n]={userSubscribed:r,userBlocked:o,subscribers:i},e},l({},e)):e;case o.CHANNEL_SUBSCRIBE:var d=t.payload.id;return l({},e,r({},d,l({},e[d],{userSubscribed:!0,subscribers:((0,i.get)(e,[d,"subscribers"])||0)+1})));case o.CHANNEL_UNSUBSCRIBE:var p=t.payload.id;return l({},e,r({},p,l({},e[p],{userSubscribed:!1,subscribers:((0,i.get)(e,[p,"subscribers"])||0)-1})));case o.CHANNEL_BLOCK:var h=t.payload.id;return l({},e,r({},h,l({},e[h],{userBlocked:!0})));case o.CHANNEL_UNBLOCK:var v=t.payload.id;return l({},e,r({},v,l({},e[v],{userBlocked:!1})));default:return e}};var o=n(85),i=n(14),a=n(137),u=n(136),s=n(128),c=n(138),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f={};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(269),i=r(o);t.default=new i.default,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},c=n(37),l=n(270),f=r(l),d=n(13),p=r(d),h=n(139),v=n(27),y=1e3,m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._bulkEvents=[],
n._planBulkFlush(),n}return a(t,e),u(t,[{key:"logEvent",value:function(e,t){p.default.emit(v.EVENTS.STAT,{eventName:e}),this._bulkEvents=this._bulkEvents.concat({id:this._generateEventID(e),event:e,data:t}),this._flushTimeout||this._planBulkFlush()}},{key:"logNonBulkEvent",value:function(e,t){var n={headers:this._getExtraHeaders(),body:t};return t?(0,c.zpost)(e,n):(0,c.zfetch)(e,n)}},{key:"getExport",value:function(e){var n=this;return this.forcedBulkFlush().then(function(){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getExport",n).call(n,e)})}},{key:"getWidget",value:function(){var e=this._config.links.widget,t=this._getExtraHeaders();if(!e)throw new Error("No widget link in zenAPI");return this.forcedBulkFlush().then(function(){return(0,c.zfetch)(e,{headers:t})})}},{key:"getMore",value:function(){var e=this,t=this._config.links.more;if(!t)throw new Error("No more link in zenAPI");return this.forcedBulkFlush().then(function(){return e._getDataFromApi(t,{cache:"no-cache"})})}},{key:"getSubs",value:function(){var e="/api/v3/launcher/subscriptions";return this._getRawDataFromApi(e,{cache:"no-cache"})}},{key:"getSimilar",value:function(e){var t=this._getExtraHeaders();return(0,c.zfetch)(e,{headers:t}).then(h.similarParser)}},{key:"forcedBulkFlush",value:function(){return this._clearFlushTimeout(),this._flushBulk()}},{key:"_generateEventID",value:function(e){return e+"_"+Date.now()}},{key:"_planBulkFlush",value:function(){var e=this;this._flushTimeout=setTimeout(function(){e._flushBulk()},y)}},{key:"_clearFlushTimeout",value:function(){clearTimeout(this._flushTimeout),this._flushTimeout=null}},{key:"_filterSentEvents",value:function(e){this._bulkEvents=this._bulkEvents.filter(function(t){return!e.includes(t.id)})}},{key:"_flushBulk",value:function(){var e=this;if(this._clearFlushTimeout(),0===this._bulkEvents.length)return Promise.resolve();var t=this._config.links.bulk;if(!t)throw new Error("No bulk link in zenAPI");var n=this._bulkEvents.map(function(e){return e.id}),r={params:{rnd:Date.now()},headers:this._getExtraHeaders(),body:{stats:this._bulkEvents.map(function(e){return{event:e.event,data:e.data}})}};return(0,c.zpost)(t,r).then(function(){e._filterSentEvents(n)})}}]),t}(f.default);t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(37),s=n(114),c=n(271),l=r(c),f=n(272),d=n(273),p=r(d),h=n(113),v=n(115),y=r(v),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_={links:{},zenFeatures:f.DEFAULT_REZEN_ZEN_FEATURES,isOnboardingSupported:!1},b=function(e){var t=(0,s.parseParams)(e);return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t},g=function(){function e(t){i(this,e),this._config=_,t&&this.configure(t)}return a(e,[{key:"configure",value:function(e){this._config="function"==typeof e?e(this._config):e}},{key:"_getCacheGetParams",value:function(e){return{zenFeatures:this._config.zenFeatures,oauthToken:this._config.oauthToken,yandexuid:(0,h.getYandexuidFromCookie)(),yandexLogin:(0,h.getYandexLoginFromCookie)(),linkParams:b(e)}}},{key:"_getCachePutParams",value:function(e,t){return m({},this._getCacheGetParams(e),{ttl:t.ttl,storeTtl:t.store_ttl,createdAt:Date.now()})}},{key:"_getCacheByStoreTtl",value:function(e,t,n){if(!p.default.isEnabled()||"no-store"===t.cache||"no-cache"===t.cache)throw n;var r=m({},this._getCacheGetParams(e),{byStoreTtl:!0});return p.default.get(r).then(function(e){if(!e)throw n;return m({},e,{_byStoreTtl:!0})})}},{key:"_makeRequest",value:function(e,t){var n=this,r=void 0;return r=t.body?(0,u.zpost)(e,{params:t.params,headers:m({},this._getExtraHeaders(),t.headers),body:t.body}):(0,u.zfetch)(e,{params:t.params,headers:m({},this._getExtraHeaders(),t.headers)}),p.default.isEnabled()&&"no-store"!==t.cache&&r.then(function(t){var r=n._getCachePutParams(e,t);p.default.put(t,r).catch(function(e){console.warn(e.message)})}),r.catch(function(r){return n._getCacheByStoreTtl(e,t,r)})}},{key:"_getRawDataFromApi",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!p.default.isEnabled()||"no-store"===n.cache||"no-cache"===n.cache||"reload"===n.cache)return this._makeRequest(e,n);var r=this._getCacheGetParams(e);return p.default.get(r).then(function(r){return r||t._makeRequest(e,n)},function(){return t._makeRequest(e,n)})}},{key:"_getDataFromApi",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._getRawDataFromApi(e,n).then(l.default).then(function(r){try{return t._validateResponse(r)}catch(r){return t._getCacheByStoreTtl(e,n,r).then(l.default).then(function(e){return t._validateResponse(e)})}})}},{key:"getExport",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._config.links.export;if(!t)throw new Error("No export link in zenAPI");return this._getDataFromApi(t,e)}},{key:"_getExtraHeaders",value:function(){var e={},t=this._config,n=t.oauthToken,r=t.zenFeatures,i=t.clientExperiments;return n&&(e.Authorization="OAuth "+n),r&&(e["Zen-Features"]=JSON.stringify(r)),e["Zen-Client-Experiments"]=["zen-version:"+y.default].concat(o(i&&i.length>0?i:[])),e}},{key:"_validateResponse",value:function(e){var t=this._config.isOnboardingSupported,n=e&&e.onboarding&&e.onboarding.link,r=e&&e.show_zen&&e.bulk&&e.bulk.link&&e.more&&e.more.link&&e.items&&e.items.length>0;if(!(e&&e.have_zen&&(t&&n||r))){var o=new Error("Invalid response from ZenAPI.");throw e&&e.ttl&&(o.ttl=e.ttl),o}return e}}]),e}();t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(139),i=r(o),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(e){var t=void 0;if(e.items){var n=e.items.reduce(function(t,n){return n&&t.push(a({},(0,i.default)(n),{packId:e.rid})),t},[]);t=n.length>0?n:null}else t=null;return a({},e,{items:t})};t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r={LIGHT:"white",DARK:"black"},o={no_amp_links:!0,forced_bulk_stats:!0,blurred_preview:!0,big_card_images:!0,complaints_with_reasons:!0,pass_experiments:!0,video_providers:["yandex-web","youtube","youtube-web"],screen:{dpi:241},need_background_image:!0,color_theme:r.LIGHT,no_small_auth:!0,need_main_color:!0,need_zen_one_data:!0,screens:["feed","categories","profile","switchable_subs","suggest"]},i="https://zen.yandex.ru/",a=function(e){var t=e.host,n=void 0===t?i:t,r=e.clid,o=e.countryCode,a=e.exps,u=void 0===a?[]:a,s=0===u.length?"":"&client_exps="+u.join(","),c=o?"&country_code="+o:"";return n+"api/v3/launcher/export?clid="+r+c+s};e.exports={REZEN_COLOR_THEMES:r,DEFAULT_REZEN_ZEN_FEATURES:o,getDefaultExportApiEndpoint:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultDataValidator=t.defaultParamsValidator=t.ttlValidator=void 0;var o=n(111),i=r(o),a=n(274),u=r(a),s=t.ttlValidator=function(e,t){var n=t.createdAt,r=e.byStoreTtl?t.storeTtl:t.ttl;return"number"==typeof n&&"number"==typeof r&&n+1e3*r>Date.now()};t.defaultParamsValidator=function(e,t){return e&&t&&s(e,t)&&(0,i.default)(e.zenFeatures,t.zenFeatures)&&(0,i.default)(e.linkParams,t.linkParams)},t.defaultDataValidator=function(e){return e&&e.show_zen&&e.bulk&&e.bulk.link&&e.more&&e.more.link&&e.items&&e.items.length>0};t.default=new u.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.PUT_EVENT=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(112),u=r(a),s=n(53),c=r(s),l=t.PUT_EVENT="put",f=function(e){var t=e.storeId,n=void 0===t?"default-zen-store":t,r=e.recordId,o=void 0===r?"empty":r;return"zen_cache_"+n+"_"+o},d=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];try{return e.apply(void 0,n)}catch(e){return!1}},p=function(e,t){t.forEach(function(t){if(!e[t])throw new Error("Cache's '"+t+"' is not configured.")})},h=function(){function e(t){o(this,e),this._config=null,this._mediator=new c.default,t&&this.configure(t)}return i(e,[{key:"configure",value:function(e){this._config="function"==typeof e?e(this._config):e}},{key:"isEnabled",value:function(){return Boolean(this._config)}},{key:"get",value:function(e){var t=this;if(!this._config)return Promise.resolve();p(this._config,["dataValidator","paramsValidator"]);var n=f(this._config);return u.default.get(n).then(function(n){return n&&n.data&&n.params&&d(t._config.dataValidator,n.data)&&d(t._config.paramsValidator,e,n.params)?n.data:null})}},{key:"put",value:function(e,t){var n=this;if(!this._config)return Promise.resolve();if(p(this._config,["dataValidator"]),!d(this._config.dataValidator,e))return Promise.reject(new Error("Pack is not passed cache's validation."));var r=f(this._config);return u.default.set(r,{data:e,params:t}).then(function(){n._mediator.emit(l,e)})}},{key:"addListener",value:function(e,t){this._mediator.addListener(e,t)}},{key:"removeListener",value:function(e,t){this._mediator.removeListener(e,t)}}]),e}();t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getStoreEnhancer=t.defaultMiddleware=void 0;var i=n(24),a=n(276),u=r(a),s=n(277),c=r(s),l=n(278),f=r(l),d=("undefined"==typeof document,t.defaultMiddleware=Object.freeze([u.default,c.default,f.default]));t.getStoreEnhancer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return i.applyMiddleware.apply(void 0,o(e))}},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}t.__esModule=!0;var o=r();o.withExtraArgument=r,t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),i=r(o),a=n(14),u=r(a),s=n(6),c=function(e,t){var n={};if(t){var r=(0,s.gridSelector)(e.feed),o=r.elements;n.rowIndex=o&&o[t]&&o[t].row}return n},l=function(e){return function(t){return function(n){var r=u.default.get(n,"payload.id"),o=e.getState(),a=c(o,r);if(n.statEvent){var s=n.statEvent,l=o.feed.items[r],f=l.statEvents[s],d=l.bulkParams;i.default.logBulkEvent(f,d,a)}if(n.bulkStat){var p=n.bulkStat,h=p.statEvents,v=p.statEvent,y=p.bulkParams,m=h[v];i.default.logBulkEvent(m,y,a)}return t(n)}}};t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.BROADCAST_ACTION="BROADCAST_ACTION",o=function(e){return function(e){return function(t){if(t.broadcastable){var n=Object.assign({},t);delete n.statEvent,delete n.bulkStat,localStorage[r]=JSON.stringify(n)}return e(t)}}};t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(280),i=r(o),a=function(e){var t=e.getState;return function(e){return function(n){return(0,i.default)(n),(0,i.default)(t()),e(n)}}};t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function e(t){if(!t||"object"!==("undefined"==typeof t?"undefined":r(t)))return t;for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var i=n[o],a=t[i];e(a)}return Object.freeze(t)};t.default=o,e.exports=t.default},function(e,t,n){"use strict";var r=n(24).compose;t.__esModule=!0,t.composeWithDevTools=function(){if(0!==arguments.length)return"object"==typeof arguments[0]?r:r.apply(null,arguments)},t.devToolsEnhancer=function(){return function(e){return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(54),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i={theme:!0};t.default=function(e,t){var n=Object.keys(i).reduce(function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t},{}),a=t.getState(),u=a.params.zenFeatures;"undefined"!=typeof n.theme&&(u=o({},u,{color_theme:n.theme})),t.dispatch((0,r.mergeParams)({zenFeatures:u}))},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(27),a=n(13),u=r(a),s=function(e,t){var n=void 0,r=void 0,a=function(){u.default.emit(i.EVENTS.FIRST_PAINT)};r=t.firstChild;n=e,(0,o.render)(n,t,r),a()};t.default=s,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(38),i=n(70),a=(r(i),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),u=(0,o.createSelector)(function(e){return e.params.zenFeatures},function(e){return e.params.clientExperiments},function(e){return e.links},function(e){return e.user},function(e,t,n,r){return{zenFeatures:e,clientExperiments:t,links:n,userInfo:r}}),s=function(e,t){var n=void 0,r=function(){var r=t.getState(),o=u(r);"undefined"!=typeof n&&n===o||(n=o,e.configure(function(e){return a({},e,o)}))};return r(),t.subscribe(r)};t.default=s,e.exports=t.default},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=n(3),f=n(1),d=o(f),p=n(286),h=o(p),v=n(412),y=o(v),m=n(7);n(427);var _=(0,d.default)("zen-page"),b=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.libType,o=e.notifiersPosition,i={theme:t,"lib-type":n};return r.h("div",{className:_(i)},r.h("div",{className:"zen-app"},o?r.h(y.default,{position:o}):null,r.h(h.default,null)))}}]),t}(c.Component),g=function(e){return{theme:(0,m.themeSelector)(e),libType:e.params.libType,notifiersPosition:e.params.notifiersPosition}};t.default=(0,l.connect)(g)(b),e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=n(3),f=n(1),d=o(f),p=n(287),h=o(p),v=n(376),y=o(v),m=n(6),_=n(7),b=n(44),g=n(32),E=n(55),w=n(404),O=o(w),k=n(406),S=o(k);n(58),n(408);var T=n(14),P=o(T),C=n(409),I=o(C),x=n(13),R=o(x),j=n(27),A=30,N=(0,d.default)("feed"),M=function(e){function t(){var e,n,r;i(this,t);for(var o,u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return o=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n._newPackScroller=new I.default,n._emitRowsChanged=function(e){var t=n.props.grid.rows,r=n.props.displayedRowsNumber,o=P.default.get(e,"grid.rows"),i=e&&e.displayedRowsNumber,a=o!==t,u=i!==r;(!e||a||u)&&R.default.emit(j.EVENTS.ROWS_CHANGED,(0,m.getRowsList)(t,r))},n._onFeedListChange=function(e){var t=n.props.onFeedListChange;"function"==typeof t&&t(),n._newPackScroller.maybeScrollToTop(),n._emitRowsChanged(e)},n._onFeedEndReach=function(){n.props.drawMoreItems()},n._onWindowUnload=function(){window.scrollTo(0,0)},r=o,a(n,r)}return u(t,e),s(t,[{key:"initScrollEvents",value:function(){var e=this.props,t=e.switchMoreButtonOffsetMode,n=e.scrollToID;(0,b.startScrollHandling)(),n&&(0,b.addScrolledByEvent)({delta:A,direction:1,once:!0},function(){t("normal")})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.scrollToID,n=e.switchMoreButtonOffsetMode,r=e.shouldResetScrollOnUnload;this.initScrollEvents(),t&&n("header"),r&&(window.addEventListener("beforeunload",this._onWindowUnload),window.addEventListener("unload",this._onWindowUnload))}},{key:"componentWillUnmount",value:function(){var e=this.props.shouldResetScrollOnUnload;e&&(window.removeEventListener("beforeunload",this._onWindowUnload),window.removeEventListener("unload",this._onWindowUnload))}},{key:"render",value:function(){var e=this.props,t=e.grid,n=e.columnCount,o=e.rubberyType,i=e.isChannel,a=e.needHeader,u=e.scrollToID,s=e.displayedRowsNumber,c=e.setFeedListContainer,l=e.styles,f=e.visibilityThreshold,d=N({columns:n,"rubbery-type":o,"no-header":!a||i});return r.h("div",null,i?r.h(y.default,null):r.h(S.default,null),r.h(h.default,{className:d,grid:t,displayedRowsNumber:s,scrollToID:u,onChange:this._onFeedListChange,setFeedListContainer:c,styles:l,visibilityThreshold:f}),r.h(O.default,{onFeedEndReach:this._onFeedEndReach}))}}]),t}(c.Component),L=function(){var e=(0,_.createExperimentValueSelector)({50:.5},"ab:rezen_item_visibility_threshold");return function(t){var n=t.iface.isMoreButtonVisible,r=t.shared.scrollToID,o=t.feed.displayedRowsNumber;return{isChannel:(0,_.hasChannelData)(t),isMoreButtonVisible:n,scrollToID:r,displayedRowsNumber:o,shouldResetScrollOnUnload:(0,_.shouldResetScrollOnUnloadSelector)(t),needHeader:(0,_.needHeaderSelector)(t),grid:(0,m.gridSelector)(t.feed),columnCount:(0,m.columnCountSelector)(t.feed),rubberyType:(0,m.rubberyTypeSelector)(t),styles:P.default.get(t,"params.styles")||{},visibilityThreshold:e(t)}}},D={switchMoreButtonOffsetMode:E.switchMoreButtonOffsetMode,drawMoreItems:g.drawMoreItems};t.default=(0,l.connect)(L,D)(M),e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=(o(c),n(2)),f=o(l),d=n(40),p=o(d),h=n(289),v=o(h),y=n(374),m=o(y);n(58);var _=(0,p.default)(v.default),b=function(e){function t(){var e,n,r;i(this,t);for(var o,u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return o=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n._containerRef=function(e){return n._containerElem=e},r=o,a(n,r)}return u(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.setFeedListContainer&&this.props.setFeedListContainer(this._containerElem),this.props.onChange()}},{key:"componentDidUpdate",value:function(e){this.props.onChange(e)}},{key:"componentWillUnmount",value:function(){this.props.setFeedListContainer&&this.props.setFeedListContainer(null)}},{key:"render",value:function(){var e=this.props,t=e.grid,n=e.displayedRowsNumber,o=e.className,i=e.scrollToID,a=e.styles,u=e.visibilityThreshold,s=t.rows.slice(0,n).map(function(e,t){var n=e.reduce(function(e,t){var n=t.id;return e+n},"");return r.h(_,{key:n,row:e,visibilityThreshold:u,rowIndex:t,scrollToID:i,styles:a})});return r.h("div",{className:o,ref:this._containerRef,style:a.feed},0===t.rows.length?r.h(m.default,null):s)}}]),t}(f.default);t.default=b,e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DEFAULT_VISIBILITY_THRESHOLD=.8},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(58);var c=n(2),l=o(c),f=n(1),d=o(f),p=n(290),h=o(p),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y=(0,d.default)("feed"),m=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.row,n=e.rowIndex,o=e.rootRef,i=e.scrollToID,a=e.isVisible,u=e.isIntersecting,s=e.styles,c=t.hasPlaceholder,l=s.feedRow;return c&&(l=v({},l,{marginBottom:0})),r.h("div",{className:y("row"),ref:o,style:l},t.map(function(e,t){return r.h(h.default,{key:e.id,item:e,rowIndex:n,itemIndexInRow:t,scrollToID:i,isVisible:a,isIntersecting:u,styles:s})}))}}]),t}(l.default);t.default=m,e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),d=(o(f),n(2)),p=o(d),h=n(1),v=o(h),y=n(141),m=o(y),_=n(293),b=o(_),g=n(326),E=o(g),w=n(335),O=o(w),k=n(337),S=o(k),T=n(345),P=o(T),C=n(352),I=o(C),x=n(361),R=o(x),j=n(369),A=o(j),N=n(370),M=o(N),L=n(4);n(58);var D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B=(c={},s(c,L.TYPE_DOC,b.default),s(c,L.TYPE_NARRATIVE,b.default),s(c,L.TYPE_VIDEO,E.default),s(c,L.TYPE_GIF,E.default),s(c,L.TYPE_DIRECT,S.default),s(c,L.TYPE_MAGIC_CARD,I.default),s(c,L.TYPE_SIMILAR,R.default),s(c,L.TYPE_ICEBOARDING_GRID,P.default),s(c,L.TYPE_HINT_EULA,O.default),s(c,L.TYPE_PLACEHOLDER,A.default),s(c,L.TYPE_USER_QUESTION,M.default),c),U=(0,v.default)("feed"),F=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.isVisible,n=e.isIntersecting,o=e.item,i=e.rowIndex,a=e.scrollToID,u=e.itemIndexInRow,s=e.styles,c=o.id,l=o.type,f=o.size,d=o.ad,p=o.ad&&f===L.SIZE_SMALL,h=B[l];if(!h)return null;var v={"zen-scroll-to-target":a===c,size:f},y={id:c,size:f,ad:d,rowIndex:i,itemIndexInRow:u,isVisible:t,isIntersecting:n};return r.h("div",{className:U("item",v),style:s.feedItem},p?r.h(m.default,D({},y,{mix:"feed__item-ad-container"})):r.h(h,y))}}]),t}(p.default);t.default=F,e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){return l||(l=new Promise(function(e,t){window[c]=window[c]||[],window[c].push(function(){e(window.Ya)}),(0,u.default)(s).catch(t)})),l}function i(e,t){o().then(function(n){n.Context.AdvManager.render(e,t)})}Object.defineProperty(t,"__esModule",{value:!0}),t.getRsyaManager=o,t.renderRsya=i;var a=n(86),u=r(a),s="https://yastatic.net/partner-code/loaders/context.js",c="yandexContextAsyncCallbacks",l=void 0},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(294);var c=n(0),l=(o(c),n(3)),f=n(2),d=o(f),p=n(87),h=o(p),v=n(306),y=o(v),m=n(323),_=o(m),b=n(12),g=o(b),E=n(5),w=o(E),O=n(144),k=n(23),S=o(k),T=n(92),P=o(T),C=n(13),I=o(C),x=n(1),R=o(x),j=n(6),A=n(7),N=n(77),M=n(32),L=n(26),D=n(145),B=o(D),U=n(27),F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H=50,z=250,G=(0,R.default)("doc"),V=function(e){function t(){var e,n,o;i(this,t);for(var u,s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return u=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.state={shouldHighlight:!1},n._containerRef=function(e){return n._containerElem=e},n._onClick=function(){var e=n.props,t=e.id,r=e.needSimilar,o=e.feedback,i=e.similarLink,a=e.requestSimilar,u=e.itemMittensJump,s=e.docClick,c=e.docRead,l=e.shouldAskUserQuestion,f=e.insertUserQuestion;o||(0,O.waitForReturnToTab)().then(function(){return(0,S.default)(1500)}).then(function(){return u(t,!0),(0,S.default)(1e3)}).then(function(){u(t,!1)}),n._scrollToElement(),s(t),c(t),l?f(t):r&&a(t,i)},n._onDislike=function(){var e=n.props,t=e.id,r=e.needSimilar,o=e.removeChildItem;r&&o(t)},n._sendShowStat=function(){var e=n.props,t=e.id,r=e.packId,o=e.docShow,i=e.pixels;o(t),i&&i.forEach(function(e){(new Image).src=e}),w.default.packShown(r)},n._scrollToElement=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.animate,r=void 0!==t&&t,o=e.highlight,i=void 0!==o&&o,a=e.offsetTop,u=void 0===a?H:a,s=n._containerElem;if(!s||"desktop_browser_rezen"===n.props.product&&0===n.props.rowIndex)return Promise.resolve();var c=n.state.shouldHighlight;c&&n.setState({shouldHighlight:!1});var l=(0,B.default)(s);return P.default.scrollTo({top:l-u,animate:r}).then(function(){if(i)return(0,S.default)(z).then(function(){n.setState({shouldHighlight:!0})})})},n._renderFeedback=function(){var e=n.props,t=e.feedback,o=e.feedbackProps;if(!o.isEnabled)return null;var i=t&&"liked"!==t;return i?r.h("div",{className:G("feedback-wrapper")},r.h(h.default,o)):null},o=u,a(n,o)}return u(t,e),s(t,[{key:"_getToothType",value:function(){var e=this.props,t=e.rowIndex,n=e.teethType,r=e.isTeethEnabled;if(0===t&&r)return n}},{key:"_renderDocCard",value:function(){var e=F({},this.props,{shouldHighlight:this.state.shouldHighlight,onClick:this._onClick,onDislike:this._onDislike,renderFeedback:this._renderFeedback,containerRef:this._containerRef});return r.h(y.default,e)}},{key:"_renderToothCard",value:function(e){var t=F({},this.props,{shouldHighlight:this.state.shouldHighlight,view:e,source:this.props.domain,onClick:this._onClick,onDislike:this._onDislike,renderFeedback:this._renderFeedback,containerRef:this._containerRef});return r.h(_.default,t)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.statEvents,n=e.bulkParams,r=e.rowIndex,o=e.itemIndexInRow,i=e.domainTitle,a=e.title,u={rowIndex:r};0===r&&0===o&&this._containerElem&&I.default.emit(U.EVENTS.FIRST_CARD,{scrollTo:this._scrollToElement,domainTitle:i,title:a,container:this._containerElem,sendPreviewShow:w.default.logBulkEvent.bind(w.default,t.show_teaser,n,u),sendPreviewClick:w.default.logBulkEvent.bind(w.default,t.click_teaser,n,u)})}},{key:"render",value:function(){var e=this.props.isVisible,t=this._getToothType(),n=t?this._renderToothCard(t):this._renderDocCard();return r.h(g.default,{isVisible:e,onShow:this._sendShowStat},n)}}]),t}(d.default),Y=function(){var e=(0,j.createFeedbackPropsSelector)(),t=(0,
j.createFeedbackMittensPropsSelector)();return function(n,r){var o=r.id,i=n.feed.items[o],a=n.params,u=a.product,s=a.libType,c=(0,A.themeSelector)(n),l=e(n,o),f=t(n,o),d=(0,A.isTeethEnabledSelector)(n),p=(0,A.teethTypeSelector)(n),h=(0,A.experimentsSelector)(n),v=(0,A.lazyImagesLoadingSelector)(n),y=(0,j.columnCountSelector)(n.feed),m=(0,A.needSimilarSelector)(n),_=Boolean(i.customUserFeedbackData);return F({product:u,isTeethEnabled:d,teethType:p,theme:c,needSimilar:m,feedbackProps:l,feedbackMittensProps:f,libType:s,isImageLazyLoadEnabled:v,columnCount:y,experiments:h,shouldAskUserQuestion:_},i)}},W={docShow:N.docShow,docShort:N.docShort,docClick:N.docClick,docRead:N.docRead,requestSimilar:M.requestSimilar,removeChildItem:M.removeChildItem,itemMittensJump:L.itemMittensJump,insertUserQuestion:M.insertUserQuestion};t.default=(0,l.connect)(Y,W)(V),e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(296);var c=n(2),l=o(c),f=n(1),d=o(f),p=(0,d.default)("feedback-card"),h=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"_renderComplainButton",value:function(){var e=this.props.complainButton;return e?r.h("button",{className:p("complain-button"),onClick:e.onClick},e.text):null}},{key:"_renderCancelButton",value:function(){var e=this.props.cancelButton;return e?r.h("button",{className:p("cancel-button"),onClick:e.onClick},e.text):null}},{key:"_renderActionButton",value:function(){var e=this.props.actionButton;return e?r.h("button",{className:p("action-button"),onClick:e.onClick},e.text):null}},{key:"render",value:function(){var e=this.props,t=e.size,n=e.icon,o=e.title,i=e.description,a=e.cancelButton,u=e.actionButton,s=a||u?r.h("div",{className:p("buttons")},this._renderCancelButton(),this._renderActionButton()):null;return r.h("div",{className:p({size:t,"has-icon":Boolean(n)})},r.h("div",{className:p("content")},n?r.h("div",{className:p("icon",{type:n})}):null,r.h("div",{className:p("title")},o),r.h("div",{className:p("description")},i),this._renderComplainButton()),s)}}]),t}(l.default);t.default=h,e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(298);var f=n(2),d=o(f),p=n(1),h=o(p),v=(0,h.default)("complaints-card"),y=function(e){function t(){a(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={selectedReasonIds:new Set},e._onButtonClick=e._onButtonClick.bind(e),e}return s(t,e),l(t,[{key:"_onButtonClick",value:function(){var e=this.props,t=e.cancelButton,n=e.actionButton,r=this.state.selectedReasonIds;r.size?n.onClick([].concat(i(r))):t.onClick()}},{key:"_onReasonClick",value:function(e){this.setState(function(t){var n=t.selectedReasonIds,r=n.has(e),o=new Set(n);return r?o.delete(e):o.add(e),{selectedReasonIds:o}})}},{key:"_renderReasons",value:function(){var e=this,t=this.props.reasons,n=this.state.selectedReasonIds,o=t.map(function(t){var o=t.id,i=t.text,a=n.has(o);return r.h("div",{key:o,className:v("reason",{selected:a}),onClick:function(){return e._onReasonClick(o)}},r.h("div",{className:v("reason-checkbox")}),r.h("div",{className:v("reason-label")},i))});return r.h("div",{className:v("reasons")},o)}},{key:"render",value:function(){var e=this.props,t=e.size,n=e.title,o=e.cancelButton,i=e.actionButton,a=this.state.selectedReasonIds,u=a.size?[i,"action"]:[o,"cancel"],s=c(u,2),l=s[0],f=s[1];return r.h("div",{className:v({size:t})},r.h("div",{className:v("content-wrapper")},r.h("div",{className:v("content")},r.h("div",{className:v("title")},n),this._renderReasons())),r.h("button",{className:v("button",{type:f}),onClick:this._onButtonClick},l.text))}}]),t}(d.default);t.default=y,e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(300);var c=n(2),l=o(c),f=n(1),d=o(f),p=n(301),h=o(p),v=n(302),y=o(v),m=(0,d.default)("rubbery-feedback-card"),_=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"_renderButton",value:function(e,t){var n=void 0;switch(e){case"complain":n=r.h(h.default,{className:m("icon")});break;case"action":n=r.h(y.default,{className:m("icon")});break;default:n=null}return t?r.h("button",{key:e,className:m("button",{type:e}),onClick:t.onClick},n,t.text):null}},{key:"render",value:function(){var e=this.props,t=e.size,n=e.title,o=e.description,i=e.domainTitle,a=e.cancelButton,u=e.actionButton,s=e.complainButton,c=this._renderButton("action",u),l=this._renderButton("complain",s),f=this._renderButton("cancel",a),d=c||l||f?r.h("div",{className:m("buttons")},c,l,f):null;return r.h("div",{className:m({size:t})},r.h("div",{className:m("domain")},i),r.h("div",{className:m("text")},n+" "+o),d)}}]),t}(l.default);t.default=_,e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t,n){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=e.className;return n.h("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"15",viewBox:"0 0 14 15"},n.h("path",{fillRule:"evenodd",d:"M5.314 13.182C4.021 14.486 2.25 15.09 0 14.99c1.261-.673 1.94-1.867 2.038-3.582C.778 10.197 0 8.53 0 6.689 0 2.995 3.134 0 7 0s7 2.995 7 6.689-3.134 6.688-7 6.688a7.326 7.326 0 0 1-1.686-.195zM7.762 3.087H6.213l.184 4.792h1.171l.194-4.792zm-.774 7.203a.93.93 0 0 0 .382-.08.986.986 0 0 0 .31-.214c.087-.09.156-.192.208-.308a.91.91 0 0 0 .077-.374.91.91 0 0 0-.077-.374 1.052 1.052 0 0 0-.208-.309.921.921 0 0 0-.31-.209.983.983 0 0 0-.382-.074.983.983 0 0 0-.988.966.91.91 0 0 0 .077.374 1.047 1.047 0 0 0 .528.523.93.93 0 0 0 .383.08z"}))};t.default=r,e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=e.className;return n.h("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 15 15"},n.h("path",{fillRule:"nonzero",d:"M4.382 2.968a5.5 5.5 0 0 1 7.65 7.65l-7.65-7.65zM2.968 4.382l7.65 7.65a5.5 5.5 0 0 1-7.65-7.65zM7.5 0a7.5 7.5 0 1 0 0 15 7.5 7.5 0 0 0 0-15z"}))};t.default=r,e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(304);var f=n(2),d=o(f),p=n(1),h=o(p),v=n(4),y=(0,h.default)("rubbery-complaints-card"),m=function(e){function t(){a(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={selectedReasonIds:new Set},e._contentRef=function(t){return e._contentElem=t},e._bottomRef=function(t){return e._bottomElem=t},e._onButtonClick=e._onButtonClick.bind(e),e}return s(t,e),l(t,[{key:"_onButtonClick",value:function(){var e=this.props,t=e.cancelButton,n=e.actionButton,r=this.state.selectedReasonIds;r.size?n.onClick([].concat(i(r))):t.onClick()}},{key:"_onReasonClick",value:function(e){this.setState(function(t){var n=t.selectedReasonIds,r=n.has(e),o=new Set(n);return r?o.delete(e):o.add(e),{selectedReasonIds:o}})}},{key:"_renderReasonsColumn",value:function(e){var t=this,n=this.state.selectedReasonIds;return e.map(function(e){var o=e.id,i=e.text,a=n.has(o);return r.h("div",{key:o,className:y("reason",{selected:a}),onClick:function(){return t._onReasonClick(o)}},r.h("div",{className:y("reason-checkbox")}),r.h("div",{className:y("reason-label")},i))})}},{key:"_renderReasons",value:function(){var e=this.props,t=e.size,n=e.reasons;if(t===v.SIZE_SMALL)return r.h("div",{className:y("reasons")},this._renderReasonsColumn(n));var o=Math.ceil(n.length/2);return r.h("div",{className:y("reasons")},r.h("div",{className:y("reasons-column")},this._renderReasonsColumn(n.slice(0,o))),r.h("div",{className:y("reasons-column")},this._renderReasonsColumn(n.slice(o))))}},{key:"componentDidMount",value:function(){var e=this._contentElem.offsetWidth-this._contentElem.clientWidth,t="rtl"===getComputedStyle(this._contentElem).direction;this._bottomElem.style.right=t?"":e+"px",this._bottomElem.style.left=t?e+"px":""}},{key:"render",value:function(){var e=this.props,t=e.size,n=e.title,o=e.cancelButton,i=e.actionButton,a=this.state.selectedReasonIds,u=a.size?[i,"action"]:[o,"cancel"],s=c(u,2),l=s[0],f=s[1];return r.h("div",{className:y({size:t})},r.h("div",{className:y("content"),ref:this._contentRef},r.h("div",{className:y("title")},n),this._renderReasons()),r.h("div",{className:y("bottom"),ref:this._bottomRef},r.h("button",{className:y("button",{type:f}),onClick:this._onButtonClick},l.text)))}}]),t}(d.default);t.default=m,e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.rubberyPresets=t.commonPresets=void 0;var o,i,a=n(4),u=10,s={dislikeCard:{title:"Публикация скрыта"+".",description:"Вы будете видеть меньше подобных публикаций в своей ленте.",complainButtonText:"Пожаловаться",cancelButtonText:"Отменить",actionButtonText:function(e){return e.domainTitle.length>=u?"Заблокировать источник":"Заблокировать %domain".replace("%domain",e.domainTitle)}},blockCard:{title:"Источник заблокирован"+".",description:function(e){return e.domainTitle.length>u?"Вы не будете видеть публикации этого источника в своей ленте.":"Вы не будете видеть публикации %source в своей ленте.".replace("%source",e.domainTitle)},complainButtonText:"Пожаловаться",cancelButtonText:"Отменить блокировку"},complaintsCard:{title:"Причина жалобы",cancelButtonText:"Закрыть",actionButtonText:"Отправить"},complaintsDialogCard:{title:"Спасибо!",description:"Ваш отзыв позволит не допустить подобных публикаций в вашей ленте."}},c={dislikeCard:{title:"Публикация скрыта"+".",description:"Вы будете видеть меньше подобных публикаций в своей ленте.",complainButtonText:"Пожаловаться",cancelButtonText:"Отменить",actionButtonText:"Заблокировать источник"},blockCard:{title:"Источник заблокирован"+".",description:"Вы не будете видеть публикации этого источника в своей ленте.",complainButtonText:"Пожаловаться",cancelButtonText:"Отменить"},complaintsCard:{title:"Причина жалобы",cancelButtonText:"Закрыть",actionButtonText:"Отправить"},complaintsDialogCard:{title:"Спасибо!",description:"Ваш отзыв позволит не допустить подобных публикаций в вашей ленте."}},l={dislikeCard:{title:"Публикация скрыта"+".",description:"Вы будете видеть меньше подобных публикаций в своей ленте.",complainButtonText:"Пожаловаться",cancelButtonText:"Отменить",actionButtonText:"Заблокировать рубрику"},blockCard:{title:"Рубрика заблокирована.",description:function(e){return "Вы больше не будете видеть рубрику \"%rubric\", однако другие публикации этого источника останутся в ленте.".replace("%rubric",e.title)},complainButtonText:"Пожаловаться",cancelButtonText:"Отменить блокировку"},complaintsCard:{title:"Причина жалобы",cancelButtonText:"Закрыть",actionButtonText:"Отправить"},complaintsDialogCard:{title:"Спасибо!",description:"Ваш отзыв позволит не допустить подобных публикаций в вашей ленте."}};t.commonPresets=(o={},r(o,a.TYPE_DOC,s),r(o,a.TYPE_NARRATIVE,s),r(o,a.TYPE_VIDEO,s),r(o,a.TYPE_GIF,s),r(o,a.TYPE_MAGIC_CARD,l),o),t.rubberyPresets=(i={},r(i,a.TYPE_DOC,c),r(i,a.TYPE_NARRATIVE,c),r(i,a.TYPE_VIDEO,c),r(i,a.TYPE_GIF,c),r(i,a.TYPE_MAGIC_CARD,l),i)},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e===A.TYPE_NARRATIVE}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(307);var l=n(2),f=o(l),d=n(1),p=o(d),h=n(41),v=o(h),y=n(88),m=o(y),_=n(89),b=o(_),g=n(59),E=o(g),w=n(60),O=o(w),k=n(315),S=o(k),T=n(142),P=o(T),C=n(319),I=o(C),x=n(321),R=o(x),j=n(43),A=n(4),N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M=(0,p.default)("doc"),L=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._linkRef=function(t){return e._linkElem=t},e._onAuxClick=function(t){0!==t.button&&1!==t.button||e.props.onClick()},e._docTitleRef=function(t){return e._docTitle=t},e._textClampRef=function(t){return e._textClamp=t},e._onResize=(0,v.default)(e._updateContentStylesAndClamp,j.CLAMP_ON_RESIZE_THROTTLE,e),e}return u(t,e),c(t,[{key:"getBackgroundColor",value:function(){if(this.props.mainColor)return(0,m.default)(this.props.mainColor).card;var e=this.props.cardColors;return e&&e.card}},{key:"getTextColor",value:function(){return this.props.mainColor?(0,m.default)(this.props.mainColor).text:this.props.cardColors?this.props.cardColors.text:"#000000"}},{key:"getColorTheme",value:function(){var e=this.getTextColor();return"#000000"===e?"black":"white"}},{key:"getCardStyle",value:function(){var e=this.getBackgroundColor();if(e)return{backgroundColor:e}}},{key:"getDocType",value:function(){return this.props.type===A.TYPE_NARRATIVE?"narrative":this.props.image?"image":"text"}},{key:"getClassName",value:function(){return M({type:this.getDocType(),theme:this.getColorTheme(),size:this.props.size,read:this.props.read,animation:this.props.shouldHighlight&&"highlight",columns:this.props.columnCount})}},{key:"_updateContentStylesAndClamp",value:function(){var e=this;this._docTitle&&this._docTitle.updateStylesAndClamp().then(function(){return e._textClamp&&e._textClamp.clamp()})}},{key:"_renderBadges",value:function(){var e=this.props,t=e.type,n=e.read;if(!s(t))return null;var o="white"===this.getColorTheme()?"light":"dark";return r.h("div",{className:M("badge")},r.h(R.default,{type:"narrative",theme:o,read:n}))}},{key:"_renderMittens",value:function(){var e=this.props,t=e.feedbackMittensProps,n=e.onDislike;return r.h(O.default,N({},t,{color:this.getTextColor(),onDislike:n,className:M("buttons")}))}},{key:"componentDidMount",value:function(){var e=this;window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(function(){return e._updateContentStylesAndClamp()}):this._updateContentStylesAndClamp(),this._linkElem.addEventListener("auxclick",this._onAuxClick)}},{key:"componentDidUpdate",value:function(e){e.title===this.props.title&&e.text===this.props.text||this._updateContentStylesAndClamp()}},{key:"componentWillUnmount",value:function(){this._linkElem.removeEventListener("auxclick",this._onAuxClick)}},{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.containerRef,o=e.renderFeedback,i=e.feedbackMittensProps,a=e.isIntersecting,u=e.size,s=e.text,c=e.image,l=e.type,f=e.read,d=e.experiments,p=e.mainColor,h=l===A.TYPE_NARRATIVE,v=d.isExp("ab:rezen_rel_noopener:use_noopener")?"noopener":"";return c&&!p&&console.error("mainColor wasn't there",this.props),r.h("div",{className:this.getClassName(),ref:n},r.h("a",{className:M("link"),href:this.props.link,target:"_blank",rel:"noreferrer "+v,onClick:t,style:this.getCardStyle(),ref:this._linkRef},c?r.h(S.default,{theme:this.props.theme,image:this.props.image,bigImage:this.props.bigImage,blurredPreview:this.props.blurredPreview,cardBackgroundImage:this.props.cardBackgroundImage,cardBackgroundWhiteImage:this.props.cardBackgroundWhiteImage,isRead:f,size:u,color:this.getBackgroundColor(),isImageLazyLoadEnabled:this.props.isImageLazyLoadEnabled}):null,r.h("div",{className:M("hover-mask")}),r.h(b.default,{isIntersecting:a,onResize:this._onResize},r.h("div",{className:M("content")},this._renderBadges(),r.h(I.default,{title:this.props.title,ref:this._docTitleRef}),h?null:r.h(E.default,{className:M("text"),withAutoClamp:!1,fitToSpace:!0,ref:this._textClampRef},s),r.h("div",{className:M("bottom")},r.h(P.default,{read:f,textColor:this.getTextColor(),name:this.props.domainTitle,className:M("channel-name")}),i.isEnabled?this._renderMittens():null)))),o())}}]),t}(f.default);t.default=L,e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(309),i=r(o);t.default={measure:function(e){return new Promise(function(t){i.default.measure(function(){t(e())})})},mutate:function(e){return new Promise(function(t){i.default.mutate(function(){t(e())})})},measureAndMutate:function(e,t){return new Promise(function(n){var r=void 0;i.default.measure(function(){r=e()}),i.default.mutate(function(){n(t(r))})})}},e.exports=t.default},function(e,t,n){var r;!function(t){"use strict";function o(){var e=this;e.reads=[],e.writes=[],e.raf=f.bind(t),l("initialized",e)}function i(e){e.scheduled||(e.scheduled=!0,e.raf(a.bind(null,e)),l("flush scheduled"))}function a(e){l("flush");var t,n=e.writes,r=e.reads;try{l("flushing reads",r.length),u(r),l("flushing writes",n.length),u(n)}catch(e){t=e}if(e.scheduled=!1,(r.length||n.length)&&i(e),t){if(l("task errored",t.message),!e.catch)throw t;e.catch(t)}}function u(e){l("run tasks");for(var t;t=e.shift();)t()}function s(e,t){var n=e.indexOf(t);return!!~n&&!!e.splice(n,1)}function c(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}var l=function(){},f=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return setTimeout(e,16)};o.prototype={constructor:o,measure:function(e,t){l("measure");var n=t?e.bind(t):e;return this.reads.push(n),i(this),n},mutate:function(e,t){l("mutate");var n=t?e.bind(t):e;return this.writes.push(n),i(this),n},clear:function(e){return l("clear",e),s(this.reads,e)||s(this.writes,e)},extend:function(e){if(l("extend",e),"object"!=typeof e)throw new Error("expected object");var t=Object.create(this);return c(t,e),t.fastdom=this,t.initialize&&t.initialize(),t},catch:null};var d=t.fastdom=t.fastdom||new o;"f"=="function"[0]?(r=function(){return d}.call(d,n,d,e),!(void 0!==r&&(e.exports=r))):"o"==(typeof e)[0]&&(e.exports=d)}("undefined"!=typeof window?window:this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=/[A-Za-z]+|[А-Яа-яЁё]+|\d+|\S/,i=function(e){var t=[],n=function e(n){for(var r=n.childNodes,o=0;o<r.length;o++){var i=r[o];switch(i.nodeType){case Node.ELEMENT_NODE:e(i);break;case Node.TEXT_NODE:t.push(i)}}};return n(e),t},a=function(e){for(var t=i(e),n=[],r="",o=0;o<t.length;o++){var a=t[o],u=r+a.nodeValue;n.push({node:a,startIndex:r.length,endIndex:u.length}),r=u}var s=function(e,t){for(var r=void 0,o=void 0,i=0;i<n.length;i++){var a=n[i];if(!r&&e>=a.startIndex&&e<a.endIndex&&(r=a),!o&&t<=a.endIndex&&t>a.startIndex&&(o=a),r&&o){var u=document.createRange();return u.setStart(r.node,e-r.startIndex),u.setEnd(o.node,t-o.startIndex),u}}return null};return{textContent:r,createRange:s}};t.getFirstColumnInfo=function(e,t){for(var n=e.getBoundingClientRect(),i=a(t),u=i.textContent,s=i.createRange,c=void 0,l=null,f=null,d=0,p=0,h=!1,v=!1,y=function(e){for(var t=e.getClientRects(),r=0;r<t.length;r++){var o=t[r];if(o.left>n.right||o.right<n.left||o.top>=n.bottom)return!1;l===o.top&&f===o.bottom||(l=o.top,f=o.bottom,d++)}return!0};c=u.slice(p).match(o);){var m=c,_=r(m,1),b=_[0],g=c,E=g.index,w=p+E,O=w+b.length,k=s(w,O);if(!y(k)){v=!0;break}h=!0,p=O}return h?{lineCount:d,isEllipsisNeeded:v,endIndex:p}:null},t.correctVisibilitySplitIndex=function(e,t){var n=e[t-1];return"."===n||","===n||"…"===n?t-1:t}},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=(o(c),n(2)),f=o(l),d=n(1),p=o(d),h=n(313),v=o(h),y=n(23);n(314);var m=(0,p.default)("mittens-view"),_="#000",b="pointer",g="small",E=function(e){function t(){var e,n,r;i(this,t);for(var o,u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return o=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.state={canShowAnimations:!1},r=o,a(n,r)}return u(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;(0,y.raf)().then(function(){return(0,y.raf)()}).then(function(){return e.setState({canShowAnimations:!0})})}},{key:"_getSizes",value:function(){var e=v.default[this.props.size],t=e.width,n=e.height,r=e.ratio;return{width:parseInt(t),height:parseInt(n),ratio:r}}},{key:"_renderLike",value:function(){var e="M18.895 10.605c.609 0 1.102.496 1.102 1.108v.043a16.864 16.864 0 0 1-.819 4.253l-.003.01a16.834 16.834 0 0 1-2.716 5.075l-.002.003-.159.19H7.923v-9.43L12.78 6.05l.003-.004a4.77 4.77 0 0 0 .774-1.447l.003-.007a4.84 4.84 0 0 0 .234-1.22c.2-.2.475-.323.779-.323.568 0 .956.379 1.187 1.024.276.77.252 1.643.252 1.643a4.828 4.828 0 0 1-1.042 3l.002.002-1.6 1.888H18.894zM3.015 21.287v-9.43h3.272v9.43H3.014z";return this._renderMittensSvg(e)}},{key:"_renderDislike",value:function(){var e="M4.109 21.288a1.105 1.105 0 0 1-1.103-1.107v-.044c.095-1.478.37-2.903.82-4.253l.002-.009A16.833 16.833 0 0 1 6.544 10.8l.002-.002.16-.19h8.375v9.43l-4.859 5.808-.003.004a4.77 4.77 0 0 0-.774 1.447l-.002.007a4.84 4.84 0 0 0-.235 1.22c-.2.2-.474.323-.778.323-.569 0-.956-.38-1.188-1.025-.276-.77-.251-1.642-.251-1.642 0-1.134.391-2.175 1.042-3l-.002-.002 1.6-1.889H4.11zm12.608-1.252v-9.43h3.272v9.43h-3.272z";return this._renderMittensSvg(e)}},{key:"_renderMittensSvg",value:function(e){var t=this.props.color,n=this._getSizes(),o=n.width,i=n.height,a=n.ratio;return r.h("svg",{xmlns:"http://www.w3.org/2000/svg",width:o,height:i,viewBox:"0 0 "+o+" "+i},r.h("path",{transform:"scale("+a+", "+a+")",fill:t,fillRule:"evenodd",d:e}))}},{key:"render",value:function(){var e=this.state.canShowAnimations,t=this.props,n=t.onLikeClick,o=t.onDislikeClick,i=t.size,a=t.cursor,u=t.liked,s=t.disliked,c=t.jump,l=t.className;return r.h("div",{className:m({size:i,jump:c,liked:u,disliked:s,"show-animations":e})+(" "+(l||""))},r.h("div",{className:m("like"),onClick:n,style:{cursor:a}},this._renderLike()),r.h("div",{className:m("dislike"),onClick:o,style:{cursor:a}},this._renderDislike()))}}]),t}(f.default);E.defaultProps={size:g,cursor:b,color:_},t.default=E,e.exports=t.default}).call(t,n(0))},function(e,t){e.exports={small:{width:"23px",height:"32px",margin:"3px",ratio:1},medium:{width:"30px",height:"42px",margin:"9px",ratio:1.3}}},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),l=o(c),f=n(1),d=o(f),p=n(4),h=n(42),v=n(316),y=o(v);n(317);var m={smallImage:"small-image",bigImage:"big-image",backgroundCardImage:"background-card-image",noFade:"no-fade"},_=(0,d.default)("doc-image"),b=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.mode=n._getImageMode(),n.state={isImageLoaded:!1},n}return u(t,e),s(t,[{key:"componentDidMount",value:function(){this._loadImage()}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.theme!==this.props.theme&&this.setState({isImageLoaded:!1},function(){t._loadImage()})}},{key:"_getImageMode",value:function(){var e=this.props,t=e.size,n=e.cardBackgroundImage,r=e.forcedMode;return t===p.SIZE_BIG?m.bigImage:r===m.backgroundCardImage&&n?m.backgroundCardImage:r===m.smallImage?m.smallImage:r===m.noFade?m.noFade:n?m.backgroundCardImage:m.smallImage}},{key:"_getImageURL",value:function(){var e=this.props,t=e.theme,n=e.image,r=e.bigImage,o=e.cardBackgroundImage,i=e.cardBackgroundWhiteImage;switch(this.mode){case m.bigImage:return r;case m.smallImage:case m.noFade:return n;case m.backgroundCardImage:return"white"===t?i:o}}},{key:"_loadImage",value:function(){var e=this;if(!this.state.isImageLoaded){var t=this._getImageURL();if(t){var n=this.props.isImageLazyLoadEnabled?this._container:null;(0,y.default)(t,n).then(function(){e.setState({isImageLoaded:!0})})}}}},{key:"render",value:function(){var e=this,t=this.props,n=t.size,o=t.color,i=t.isRead,a=t.isBlurred,u=t.blurredPreview,s=t.aspectRatioMode,c=t.isImageLazyLoadEnabled,l=this.state.isImageLoaded,f=_({mode:this.mode,"image-loaded":l,"is-read":i,"is-blurred":Boolean(a),"aspect-ratio":s}),d=l||!c?{backgroundImage:"url("+(this._getImageURL()||"")+")"}:null;return r.h("div",{className:f,ref:function(t){return e._container=t}},r.h(E,{blurredPreview:u}),r.h(g,{color:o,size:n}),r.h("div",{className:_("image"),style:d}))}}]),t}(l.default),g=function(e){var t=e.color,n=e.size,o=(0,h.convertToRgb)(t).join(),i="";
if(n===p.SIZE_BIG){var a=["rgba("+o+",1) 0%","rgba("+o+",0.85) 10%","rgba("+o+",0.6) 20%","rgba("+o+",0) 50%"];i={background:"linear-gradient(to right, "+a.join()+")"}}else{var u=["rgba("+o+",1) 0%","rgba("+o+",0.85) 10%","rgba("+o+",0.6) 20%","rgba("+o+",0) 50%"];i={background:"linear-gradient(to top, "+u.join()+")"}}return r.h("div",{className:_("fade"),style:i})},E=function(e){var t=e.blurredPreview,n="data:image/png;base64,"+(t||"");return r.h("div",{className:_("blurred-preview"),style:{backgroundImage:"url("+n+")"}})};t.default=b,e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";function r(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}Object.defineProperty(t,"__esModule",{value:!0});var o="visible",i="0px 0px 500px 0px",a=void 0,u=void 0,s=function(e){e.filter(function(e){return e.isIntersecting}).forEach(function(e){e.target.dispatchEvent(u)})};"undefined"!=typeof document&&"undefined"!=typeof IntersectionObserver&&(window&&"function"!=typeof window.CustomEvent&&(r.prototype=window.Event.prototype,window.CustomEvent=r),u=new r(o),a=new IntersectionObserver(s,{rootMargin:i}));var c=function(e,t){return new Promise(function(n,r){var i=new Image,u=function(){i.onload=n,i.onerror=r,i.src=e};if(t&&a){var s=function e(){u(),t.removeEventListener(o,e,!1),a.unobserve(t)};t.addEventListener(o,s,!1),a.observe(t)}else u()})};t.default=c,e.exports=t.default},function(e,t){},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),l=o(c),f=n(59),d=o(f),p=n(320),h=o(p),v=n(143),y={small:{fontSize:"18px",lineHeight:"22px"},medium:{fontSize:"26px",lineHeight:"32px"},big:{fontSize:"32px",lineHeight:"34px"}},m=120,_={maxLength:m,maxBigWordLength:11,sizes:{big:{threshold:30,style:y.big},medium:{threshold:45,style:y.medium},small:{threshold:0,style:y.small}}},b=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n._calcCurrentState(n.props.title),n._containerRef=function(e){return n._containerElem=e},n._clampRef=function(e){return n._clamp=e},n}return u(t,e),s(t,[{key:"_calcCurrentState",value:function(e){return{title:(0,v.cutText)(e,m),style:(0,h.default)(e,_,this._containerElem)}}},{key:"_updateState",value:function(){var e=this;return new Promise(function(t){e.setState(e._calcCurrentState(e.props.title),t)})}},{key:"updateStylesAndClamp",value:function(){var e=this;return this._updateState().then(function(){return e._clamp&&e._clamp.clamp()})}},{key:"render",value:function(){var e=this.state,t=e.title,n=e.style;return r.h(d.default,{className:"doc__title",style:n,domRef:this._containerRef,ref:this._clampRef,withAutoClamp:!1},t)}}]),t}(l.default);t.default=b,e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";function r(e,t,n){var r=t.maxLength,a=t.maxBigWordLength,u=t.sizes,s=(0,i.cutText)(e,r),c={length:s.length,maxWordLength:(0,i.getLongestWordLength)(s)};return o(c,u.big,n)&&c.maxWordLength<=a?u.big.style:o(c,u.medium,n)?u.medium.style:!u.xsmall||o(c,u.small,n)?u.small.style:u.xsmall.style}function o(e,t,n){var r=e.length,o=e.maxWordLength,i=n?n.offsetWidth/340:1;return r<=t.threshold*i&&!(t.wordThreshold&&o>t.wordThreshold)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(143);e.exports=t.default},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=(o(c),n(1)),f=o(l),d=n(2),p=o(d);n(322);var h=(0,f.default)("doc-badges-view"),v={narrative:"Нарратив",promo:"спецпоказ"},y=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"_renderBadge",value:function(e){var t=this.props,n=t.theme,o=t.read;return r.h("div",{className:h("badge",{theme:n,read:o})},v[e])}},{key:"render",value:function(){var e=this.props.type,t=[].concat(e);return r.h("div",{className:h()},t.map(this._renderBadge,this))}}]),t}(p.default);y.defaultProps={read:!1},t.default=y,e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(324);var c=n(0),l=n(1),f=o(l),d=n(89),p=o(d),h=n(59),v=o(h),y=n(60),m=o(y),_=n(42),b=n(41),g=o(b),E=n(88),w=o(E),O=n(43),k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S=(0,f.default)("tooth-card"),T=function(e){function t(){var e,n,r;i(this,t);for(var o,u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return o=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n._linkRef=function(e){return n._linkElem=e},n._titleClampRef=function(e){return n._titleClamp=e},n._textClampRef=function(e){return n._textClamp=e},n._onResize=(0,g.default)(n._updateClamp,O.CLAMP_ON_RESIZE_THROTTLE,n),n._onAuxClick=function(e){0!==e.button&&1!==e.button||n.props.onClick()},r=o,a(n,r)}return u(t,e),s(t,[{key:"_updateClamp",value:function(){var e=this;this._titleClamp&&this._titleClamp.clamp().then(function(){return e._textClamp&&e._textClamp.clamp()})}},{key:"isWhiteTheme",value:function(){var e=this.props,t=e.view,n=e.image;return!n||"white"===t}},{key:"getCardColors",value:function(){var e=this.props,t=e.view,n=e.cardColors,r=e.mainColor;if(this.isWhiteTheme()||"white-image"===t)return{backgroundColor:"#ffffff",color:"#000000"};if(r){var o=(0,w.default)(r),i=o.card,a=o.text;return{backgroundColor:i,color:a}}return n?{backgroundColor:n.card,color:n.text}:void 0}},{key:"getContainerStyles",value:function(){return this.getCardColors()}},{key:"getImageStyles",value:function(){return this.isWhiteTheme()?null:{backgroundImage:"url("+this.props.image+")"}}},{key:"getFadeStyles",value:function(){var e=this.props.image,t=(0,_.convertToRgb)(this.getCardColors().backgroundColor).join(),n=["rgba("+t+",1) 45%","rgba("+t+",0.8) 53%","rgba("+t+",0) 68%"],r=e?"rgba("+t+",0.4)":"#e8e2da";return this.isWhiteTheme()&&(r="#f0f0f0"),{fadeStyle:{background:"linear-gradient(to bottom, "+n.join()+")"},hoverStyle:{backgroundColor:r}}}},{key:"componentDidMount",value:function(){var e=this;window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(function(){return e._updateClamp()}):this._updateClamp(),this._linkElem.addEventListener("auxclick",this._onAuxClick)}},{key:"componentDidUpdate",value:function(e){e.title===this.props.title&&e.text===this.props.text||this._updateClamp()}},{key:"componentWillUnmount",value:function(){this._linkElem.removeEventListener("auxclick",this._onAuxClick)}},{key:"render",value:function(){var e=this.props,t=e.view,n=e.image,o=e.title,i=e.link,a=e.text,u=e.source,s=e.read,c=e.product,l=e.shouldHighlight,f=e.isIntersecting,d=e.onClick,h=e.renderFeedback,y=e.containerRef,_=e.feedbackMittensProps,b=e.onDislike,g=this.getFadeStyles(),E=g.fadeStyle,w=g.hoverStyle,O=this.getCardColors(),T=O.backgroundColor,P=this.getImageStyles(),C={view:t,read:s,animation:l&&"highlight","has-image":Boolean(n)&&!this.isWhiteTheme(),yabro:"desktop_browser_rezen"===c};return r.h("div",{className:S(C),ref:y},r.h("a",{className:S("link"),style:this.getContainerStyles(),onClick:d,href:i,target:"_blank",ref:this._linkRef},P?r.h("div",{className:S("image"),style:P}):null,r.h("div",{className:S("text-fade"),style:E}),r.h("div",{className:S("hover-fade"),style:w}),r.h("div",{className:S("read-fade"),style:{backgroundColor:T}}),r.h("div",{className:S("source")},u),r.h(p.default,{isIntersecting:f,onResize:this._onResize},r.h("div",{className:S("content")},r.h(v.default,{className:S("title"),withAutoClamp:!1,ref:this._titleClampRef},o),a?r.h(v.default,{className:S("text"),withAutoClamp:!1,minLineCount:"desktop_browser_rezen"===c?2:1,fitToSpace:!0,ref:this._textClampRef},a):null)),r.h("div",{className:S("feedback")},r.h("div",{className:S("feedback-background")}),r.h("div",{className:S("feedback-buttons")},r.h(m.default,k({},_,{theme:"tooth",color:this.isWhiteTheme()?"#000":"#fff",onDislike:b}))))),h())}}]),t}(c.Component);t.default=T,e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),r.hasSupport=e}}};r.update(),t.default=r},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),l=o(c),f=n(3),d=n(327),p=o(d),h=n(92),v=o(h),y=n(44),m=n(144),_=n(23),b=o(_),g=n(6),E=n(7),w=n(123),O=n(26),k=n(4),S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T=50,P=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));C.call(n);var r=n.props,o=r.id,u=r.type,s=r.videoStart,c=r.videoReset,l=r.itemMittensJump,f=u===k.TYPE_GIF;return n._onPlay=function(e){return n._dispatchVideoStat(f?"play":"video_play",e)},n._onReplay=function(e){return n._dispatchVideoStat("replay",e)},n._onPause=function(e){return n._dispatchVideoStat(f?"pause":"video_pause",e)},n._onEnd=function(e){return n._dispatchVideoStat(f?"end":"video_end",e)},n._onAutopause=function(e){return n._dispatchVideoStat(f?"autopause":"video_autopause",e)},n._onMute=function(e){return!f&&n._dispatchVideoStat("video_sound_off",e)},n._onUnmute=function(e){return!f&&n._dispatchVideoStat("video_sound_on",e)},n._sendShowStat=function(){var e=n.props.pixels;e&&e.forEach(function(e){(new Image).src=e}),n._dispatchVideoStat("show")},n._setMittensJumping=function(e){return l(o,e)},n._start=function(){n._dispatchVideoStat("click"),s(o)},n._reset=function(){return c(o)},n}return u(t,e),s(t,[{key:"_dispatchVideoStat",value:function(e,t){var n=this.props,r=n.bulkParams,o=n.statEvents,i=n.videoStat;i(r,o,e,t)}},{key:"_scrollToElement",value:function(){var e=(0,y.getScrollParams)().scroll+this._containerElem.getBoundingClientRect().top;v.default.scrollTo({top:e-T,animate:!1})}},{key:"render",value:function(){var e=S({},this.props,{onClick:this._onClick,onPlay:this._onPlay,onReplay:this._onReplay,onPause:this._onPause,onEnd:this._onEnd,onAutopause:this._onAutopause,onMute:this._onMute,onUnmute:this._onUnmute,sendShowStat:this._sendShowStat,setMittensJumping:this._setMittensJumping,start:this._start,reset:this._reset,containerRef:this._containerRef});return r.h(p.default,e)}}]),t}(l.default),C=function(){var e=this;this._containerRef=function(t){return e._containerElem=t},this._onClick=function(){var t=e.props,n=t.id,r=t.feedback,o=t.itemMittensJump,i=t.videoClick;r||(0,m.waitForReturnToTab)().then(function(){return(0,b.default)(1500)}).then(function(){return o(n,!0),(0,b.default)(1e3)}).then(function(){o(n,!1)}),e._scrollToElement(),i(n),e._dispatchVideoStat("action")}},I=function(){var e=(0,g.createFeedbackPropsSelector)(),t=(0,g.createFeedbackMittensPropsSelector)();return function(n,r){var o=r.id,i=n.feed.items[o],a=(0,E.themeSelector)(n),u=(0,E.hasChannelData)(n),s=e(n,o),c=t(n,o);return S({theme:a,isChannelPage:u,feedbackProps:s,feedbackMittensProps:c},i)}},x={videoClick:w.videoClick,videoStat:w.videoStat,videoStart:w.videoStart,videoReset:w.videoReset,itemMittensJump:O.itemMittensJump};t.default=(0,f.connect)(I,x)(P),e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=(o(c),n(2)),f=o(l),d=n(328),p=o(d),h=n(87),v=o(h),y=n(60),m=o(y),_=n(142),b=o(_),g=n(12),E=o(g),w=n(330),O=o(w),k=n(331),S=o(k),T=n(332),P=o(T),C=n(43),I=o(C),x=n(1),R=o(x),j=n(333),A=n(4);n(334);var N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M=(0,R.default)("video"),L=(0,R.default)("doc"),D=function(e){var t=Math.floor(e),n=String(Math.floor(t/60)),r=String(t%60);return n.length<2&&(n="0"+n),r.length<2&&(r="0"+r),n+":"+r},B=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._onAuxClick=function(e){0!==e.button&&1!==e.button||n.props.onClick()},n.state={visible:e.isIntersecting,paused:!1,currentTime:null,duration:null,fontSize:"big"},n._onPreviewClick=n._onPreviewClick.bind(n),n}return u(t,e),s(t,[{key:"_onPreviewClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.props,n=t.started,r=t.start;n||r()}},{key:"_getPlayerClass",value:function(){var e=this.props.video;switch(e.provider){case j.GIF_PLAYER:case j.YANDEX_PLAYER:return O.default;case j.YOUTUBE_PLAYER:return S.default;default:return null}}},{key:"_getPlayer",value:function(){var e=this,t=this.props,n=t.type,o=t.video,i=t.onPlay,a=t.onReplay,u=t.onPause,s=t.onEnd,c=t.onAutopause,l=t.onMute,f=t.onUnmute,d=this._getPlayerClass(),p=n===A.TYPE_GIF;if(!d)return null;var h=function(){e.setState({paused:!1})},v={key:"player",ref:function(t){return e.player=t},className:M("player"),src:o.id,autoplay:!0,controls:!p,onReady:function(){e.setState({currentTime:e.player.getCurrentTime(),duration:e.player.getDuration()})},onPlay:function(){i(e.player.getCurrentTime()),h()},onReplay:function(){a(e.player.getCurrentTime()),h()},onPause:function(){e._isAutopause?(c(e.player.getCurrentTime()),e._isAutopause=!1):u(e.player.getCurrentTime()),e.setState({paused:!0})},onEnd:function(){s(e.player.getCurrentTime()),p&&e.player.play()},onCurrentTimeChange:function(t){e.setState({currentTime:t})},onDurationChange:function(t){e.setState({duration:t})},onMute:function(){l(e.player.getCurrentTime())},onUnmute:function(){f(e.player.getCurrentTime())},onError:function(){e.setState({paused:!1,currentTime:null,duration:null})}};return r.h("div",{className:M("player-wrapper")},r.h(d,v),r.h("div",{className:M("player-play-icon")}))}},{key:"_getPlayerTimer",value:function(){var e=this.state,t=e.currentTime,n=e.duration;return"number"!=typeof t||"number"!=typeof n||0===n?null:r.h("div",{key:"playerTimer",className:M("player-timer")},D(t)+" / "+D(n))}},{key:"_getPreview",value:function(){var e=this.props,t=e.size,n=e.image,o=e.bigImage,i=t!==A.SIZE_SMALL&&o?o:n,a={backgroundImage:"url("+i+")"};return r.h("div",{key:"preview",className:M("preview-wrapper"),onClick:this._onPreviewClick},r.h("div",{className:M("preview"),style:a}),r.h("div",{className:M("preview-play-icon")}))}},{key:"_isPlayerFullscreen",value:function(){var e=this.player&&this.player.getIframe(),t=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;return Boolean(e&&t&&e===t)}},{key:"_setPauseTimeout",value:function(e){var t=this;this._clearPauseTimeout(),this._pauseTimeoutId=setTimeout(function(){t._isPlayerFullscreen()||(t._isAutopause=!0,t.player.pause())},e)}},{key:"_clearPauseTimeout",value:function(){clearTimeout(this._pauseTimeoutId)}},{key:"_loadAPI",value:function(){var e=this._getPlayerClass();e&&"function"==typeof e.loadAPI&&e.loadAPI()}},{key:"reset",value:function(){this.setState({paused:!1,currentTime:null,duration:null})}},{key:"componentDidMount",value:function(){var e=this.props.size,t=this.state.visible;if(t&&this._loadAPI(),this._titleWrapper.addEventListener("auxclick",this._onAuxClick),e===A.SIZE_SMALL){var n=(0,P.default)(this._titleWrapper),r=n.containerRect,o=n.bottom-n.top,i=r.bottom-r.top,a=o/i;this._titleWrapperHeight=i;var u=void 0;u=a>=1.5?"small":a>=1?"medium":"big",this.setState({fontSize:u})}}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.started,r=t.isIntersecting,o=e.started,i=e.isIntersecting,a=this.state,u=a.paused,s=a.visible;!s&&i&&(this._loadAPI(),this.setState({visible:i})),r!==i&&(this._clearPauseTimeout(),r&&!i&&o&&!u&&this._setPauseTimeout(2e3)),n!==o&&this.reset()}},{key:"componentWillUnmount",value:function(){this._titleWrapper.removeEventListener("auxclick",this._onAuxClick)}},{key:"render",value:function(){var e=this,t=this.props,n=t.onClick,o=t.isVisible,i=t.isIntersecting,a=t.sendShowStat,u=t.containerRef,s=t.type,c=t.size,l=t.link,f=t.title,d=t.domainTitle,h=t.read,y=t.started,_=t.theme,g=t.feedback,w=t.feedbackProps,O=t.feedbackMittensProps,k=t.isChannelPage,S=this.state,T=S.visible,P=S.paused,C=S.fontSize,x=g&&"liked"!==g,R=s===A.TYPE_GIF,j=y?this._getPlayer():null,D=R?this._getPlayerTimer():null,B=this._getPreview(),U={font:C,gif:R,visible:T,read:h,started:y,paused:P,size:c,theme:_},F=!k&&x?r.h("div",{className:M("feedback-wrapper")},r.h(v.default,w)):null,H="white"===_||R?"#000":"#fff";return r.h(E.default,{isVisible:o,onShow:a},r.h("div",{className:M(U),ref:u},r.h("div",{className:M("main-wrapper")},r.h(p.default,{width:16,height:9},j,D,B)),r.h("div",{className:M("content")},r.h("a",{className:M("title-wrapper"),href:l,target:"_blank",onClick:n,ref:function(t){return e._titleWrapper=t}},r.h(I.default,{className:M("title"),isIntersecting:i},f)),r.h("div",{className:M("bottom")},r.h(b.default,{read:h,textColor:H,name:d,className:M("domain")}),r.h(m.default,N({},O,{color:H,className:L("buttons")})))),F))}}]),t}(f.default);t.default=B,e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=(o(c),n(2)),f=o(l),d=n(1),p=o(d);n(329);var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=(0,p.default)("scaled-container"),y=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,o=e.rootRef,i=e.children,a=e.styles,u=void 0===a?{}:a,s=n/t*100+"%";return r.h("div",{className:v(),style:h({},u,{paddingBottom:s}),ref:o},r.h("div",{className:v("inner")},i))}}]),t}(f.default);t.default=y,e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),l=o(c),f=n(86),d=o(f),p="1.0-236",h="https://yastatic.net/yandex-video-player-iframe-api-bundles/"+p+"/js/stream_player.min.js",v={ENDED:0,PLAYING:1,PAUSED:2},y=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={APILoaded:d.default.isLoaded(h)},n}return u(t,e),s(t,[{key:"_initPlayer",value:function(){var e=this,t=this.props,n=t.src,r=t.autoplay,o=t.controls,i=t.onReady,a=t.onPlay,u=t.onReplay,s=t.onPause,c=t.onEnd,l=t.onCurrentTimeChange,f=t.onDurationChange,d=t.onMute,h=t.onUnmute,y=t.onError,m=!1,_=!1;this._player=Ya.streamPlayer.create({version:p,element:this._container,stream:n,autoplay:r,hidden:o?"":"*",size:{width:"100%",height:"100%"},handlers:{onReady:function(){e._isUnmounted||i&&i()},onStateChange:function(t){if(!e._isUnmounted)switch(t){case v.PLAYING:m||(_?(_=!1,u&&u()):a&&a());break;case v.PAUSED:m?m=!1:s&&s();break;case v.ENDED:m=!0,_=!0,c&&c()}},onCurrentTimeChange:function(e){l&&l(e)},onDurationChange:function(e){f&&f(e)},onVolumeChange:function(t){"number"==typeof e._volume&&e._volume!==t&&(0===e._volume?h&&h():0===t&&d&&d()),e._volume=t},onError:function(e){y&&y(e)}}})}},{key:"play",value:function(){this._player.play()}},{key:"pause",value:function(){this._player.pause()}},{key:"getDuration",value:function(){return this._player.getDuration()}},{key:"getCurrentTime",value:function(){return this._player.getCurrentTime()}},{key:"getIframe",value:function(){return this._player.iframe}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentDidMount",value:function(){var e=this;this.state.APILoaded?this._initPlayer():this.constructor.loadAPI().then(function(){e._isUnmounted||e.setState({APILoaded:!0},function(){e._initPlayer()})})}},{key:"componentWillUnmount",value:function(){this._isUnmounted=!0,this._player&&this._player.destroy()}},{key:"render",value:function(){var e=this,t=this.props.className;return r.h("div",{className:t,ref:function(t){return e._container=t}})}}],[{key:"loadAPI",value:function(){return(0,d.default)(h)}}]),t}(l.default);y.defaultProps={autoplay:!1,controls:!0},t.default=y,e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),l=o(c),f=n(86),d=o(f),p="https://www.youtube.com/iframe_api",h=!1,v=void 0,y=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={APILoaded:h},n}return u(t,e),s(t,[{key:"_initPlayer",value:function(){var e=this,t=this.props,n=t.src,r=t.autoplay,o=t.controls,i=t.onReady,a=t.onPlay,u=t.onReplay,s=t.onPause,c=t.onEnd,l=t.onMute,f=t.onUnmute,d=t.onError,p=document.createElement("div");this._container.appendChild(p);var h=!1;this._player=new YT.Player(p,{videoId:n,width:"100%",height:"100%",playerVars:{modestbranding:1,autoplay:Number(r),controls:Number(o),rel:0},events:{onReady:function(){e._isUnmounted||i&&i()},onStateChange:function(t){var n=t.data;if(!e._isUnmounted)switch(n){case YT.PlayerState.PLAYING:h?(h=!1,u&&u()):a&&a();break;case YT.PlayerState.PAUSED:s&&s();break;case YT.PlayerState.ENDED:h=!0,c&&c()}},onVolumeChange:function(t){var n=t.data.muted;"boolean"==typeof e._muted&&e._muted!==n&&(n?l&&l():f&&f()),e._muted=n},onError:function(e){var t=e.data;d&&d(t)}}})}},{key:"play",value:function(){this._player.playVideo()}},{key:"pause",value:function(){this._player.pauseVideo()}},{key:"getDuration",value:function(){return this._player.getDuration()}},{key:"getCurrentTime",value:function(){return this._player.getCurrentTime()}},{key:"getIframe",value:function(){return this._player.getIframe()}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentDidMount",value:function(){var e=this;this.state.APILoaded?this._initPlayer():this.constructor.loadAPI().then(function(){e._isUnmounted||e.setState({APILoaded:!0},function(){e._initPlayer()})})}},{key:"componentWillUnmount",value:function(){this._isUnmounted=!0,this._player&&this._player.destroy()}},{key:"render",value:function(){var e=this,t=this.props.className;return r.h("div",{className:t,ref:function(t){return e._container=t}})}}],[{key:"loadAPI",value:function(){return v?v:v=new Promise(function(e,t){(0,d.default)(p).catch(t);var n=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){"function"==typeof n&&n.apply(this,arguments),h=!0,e()}})}}]),t}(l.default);y.defaultProps={autoplay:!1,controls:!0},t.default=y,e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";function r(e){var t=e.children;if(!t.length)throw new Error("Container must have at least one child.");var n=void 0,r=void 0,o=void 0,i=void 0,a=e.getBoundingClientRect(),u=Array.prototype.map.call(t,function(e){var t=e.getBoundingClientRect();return("undefined"==typeof n||t.top<n)&&(n=t.top),("undefined"==typeof r||t.right>r)&&(r=t.right),("undefined"==typeof o||t.bottom>o)&&(o=t.bottom),("undefined"==typeof i||t.left<i)&&(i=t.left),t});return{top:n,right:r,bottom:o,left:i,containerRect:a,childrenRects:u}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GIF_PLAYER="yandex-native",t.YANDEX_PLAYER="yandex-web",t.YOUTUBE_PLAYER="youtube-web"},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(336);var c=n(3),l=n(2),f=o(l),d=n(7),p=n(5),h=o(p),v=n(12),y=o(v),m=n(1),_=o(m),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=(0,_.default)("hint-eula"),E=function(e){function t(){var e,n,r;i(this,t);for(var o,u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];
return o=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n._sendShowStat=function(){h.default.logNonBulkEvent(n.props.stats.show).catch(function(e){console.error(e)})},n._sendClickStat=function(){h.default.logNonBulkEvent(n.props.stats.click).catch(function(e){console.error(e)})},r=o,a(n,r)}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.isVisible,o=e.link,i=e.rootRef;return r.h(y.default,{isVisible:n,onShow:this._sendShowStat},r.h("div",{className:g({theme:t}),ref:i},r.h("div",{className:g("text")},"Пролистывая далее, вы соглашаетесь с условиями пользовательского соглашения Яндекс Дзен."),r.h("a",{href:o,className:g("link"),target:"_blank",onClick:this._sendClickStat},"Читать полный текст пользовательского соглашения")))}}]),t}(f.default),w=function(e,t){var n=t.id,r=(0,d.themeSelector)(e),o=e.feed.items[n];return b({theme:r},o)};t.default=(0,c.connect)(w)(E),e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(338);var c=n(2),l=o(c),f=n(3),d=n(1),p=o(d),h=n(37),v=n(12),y=o(v),m=n(339),_=o(m),b=n(342),g=o(b),E=n(77),w=n(147),O=o(w),k=n(6),S=n(7),T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P=(0,p.default)("direkt"),C=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._containerRef=function(t){var n=e.props.rootRef;n&&n(t),e._containerElem=t},e._sendShowStat=e._sendShowStat.bind(e),e._directLinkClickHandler=e._directLinkClickHandler.bind(e),e}return u(t,e),s(t,[{key:"_getImageUrl",value:function(){var e=this.props.image;return e&&e[0]}},{key:"_sendShowStat",value:function(){(0,h.zfetch)(this.props.showUrl).catch(console.error),this.props.onAdShow()}},{key:"_directLinkClickHandler",value:function(e){var t=this.props.tld;(0,O.default)(e,t)}},{key:"componentDidMount",value:function(){this._containerElem&&this._containerElem.addEventListener("auxclick",this.props.onAdClick)}},{key:"componentWillUnmount",value:function(){this._containerElem&&this._containerElem.removeEventListener("auxclick",this.props.onAdClick)}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.text,o=e.image,i=e.domain,a=e.age,u=e.warning,s=e.isWideImage,c=e.url,l=e.isRubberyDesign,f=e.onAdClick,d=e.isVisible,p=e.isIntersecting,h=e.isWideImagesExp,v={image:this._getImageUrl(),warning:u,title:t,text:n,domain:i,age:a,isRubberyDesign:l,isVisible:d,isIntersecting:p,directLinkClickHandler:this._directLinkClickHandler};return r.h(y.default,{isVisible:d,onShow:this._sendShowStat},r.h("a",{className:P(),href:c,target:"_blank",onClick:f,ref:this._containerRef},s&&h?r.h(g.default,v):r.h(_.default,T({},v,{image:o}))))}}]),t}(l.default),I=function(e,t){var n=t.id,r=e.feed.items[n],o=e.params.tld,i=(0,k.rubberyTypeSelector)(e),a=(0,S.experimentsSelector)(e),u=a.isExp("rezen_direct_use_wide_images");return T({tld:o,isRubberyDesign:"yabro-1"===i,isWideImagesExp:u},r)},x=function(e,t){return{onAdClick:function(){e((0,E.docClick)(t.id))},onAdShow:function(){e((0,E.docShow)(t.id))}}};t.default=(0,f.connect)(I,x)(C),e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=(o(c),n(2)),f=o(l),d=n(1),p=o(d),h=n(146);n(341);var v=(0,p.default)("direkt-card-standard"),y=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.text,o=e.age,i=e.warning,a=e.domain,u=e.isRubberyDesign,s=e.directLinkClickHandler,c=this.props.image;if(c){var l=Number(c[1]),f=Number(c[2]);c=l>=306&&f>=135?c[0]:null}var d=null,p=null,y=null;return c||u?(d=r.h(h.DirectDynamicTitle,{title:t,warning:i,attrs:{className:v("title")}}),p=r.h(h.DirectDynamicText,{text:n,warning:i,attrs:{className:v("text")}}),i&&(y=r.h(h.DirectDynamicWarning,{warning:i,attrs:{className:v("warning")}}))):(d=r.h("div",{className:v("title")},t),p=r.h("div",{className:v("text")},n),i&&(y=r.h("div",{className:v("warning")},i))),r.h("div",{className:v({"has-image":Boolean(c)})},r.h("div",{className:v("label"),onClick:s},"Яндекс.Директ"),c?r.h("div",{className:v("image"),style:{backgroundImage:"url("+c+")"}}):null,r.h("div",{className:v("image-gradient")}),r.h("div",{className:v("title-spacer")}),r.h("div",{className:v("content")},r.h("div",{className:v("title-content")},d),r.h("div",{className:v("sub-content")},r.h("div",{className:v("domain")},a),o?r.h("div",{className:v("age")},o):null),r.h("div",{className:v("text-content")},p,y)),r.h("div",{className:v("button")},"Перейти"))}}]),t}(f.default);t.default=y,e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),u=(o(a),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),s=function(e){var t=e.tag,n=void 0===t?"div":t,o=e.text,a=e.attrs,s=e.stylesFormatter,c=i(e,["tag","text","attrs","stylesFormatter"]),l=s(o,a,c);return r.h(n,u({},a,{style:l}),o)};t.default=s,e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),l=o(c),f=n(146),d=n(1),p=o(d);n(343);var h=(0,p.default)("direkt-card-banner"),v=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.text,o=e.image,i=e.warning,a=e.domain,u=e.age,s=e.directLinkClickHandler,c=e.rootRef;return r.h("div",{className:h(),ref:c},r.h("div",{className:h("label"),onClick:s},"Яндекс.Директ"),r.h("div",{className:h("background")},r.h("div",{className:h("image"),style:{backgroundImage:"url("+o+")"}}),r.h("div",{className:h("image-mask")})),r.h("div",{className:h("hover-fade")}),r.h("div",{className:h("title-spacer")}),r.h("div",{className:h("content")},r.h("div",{className:h("title-content")},r.h(f.DirectDynamicTitle,{title:t,warning:i,attrs:{className:h("title")}})),r.h("div",{className:h("sub-content")},r.h("div",{className:h("domain")},a),u?r.h("div",{className:h("age")},u):null),r.h("div",{className:h("text-content")},r.h(f.DirectDynamicText,{text:n,warning:i,attrs:{className:h("text")}}),i?r.h("div",{className:h("warning")},i):null)),r.h("div",{className:h("button")},"Перейти"))}}]),t}(l.default);t.default=v,e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t){e.exports={DIRECT_PARTNER_URL:{ru:"https://direct.yandex.ru/?partner",tr:"https://direct.yandex.com.tr/?partner"}}},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),l=o(c),f=n(1),d=o(f),p=n(346),h=o(p);n(351);var v=(0,d.default)("iceboarding-feed-item"),y=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.rootRef,o=e.isVisible,i=e.rowIndex;return r.h("div",{className:v(),ref:n},r.h(h.default,{id:t,isVisible:o,rowIndex:i}))}}]),t}(l.default);t.default=y,e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),l=n(2),f=o(l),d=n(5),p=o(d),h=n(12),v=o(h),y=n(347),m=o(y),_=n(125),b=n(13),g=o(b),E=n(27),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._isSourceChecked=e._isSourceChecked.bind(e),e._onSourceCardClick=e._onSourceCardClick.bind(e),e._sendShowStat=e._sendShowStat.bind(e),e._sendClickStat=e._sendClickStat.bind(e),e}return u(t,e),s(t,[{key:"_isSourceChecked",value:function(e){var t=this.props.checkedSources;return t.includes(e)}},{key:"_onSourceCardClick",value:function(e,t){e.stopPropagation();var n=this.props,r=n.checkSource,o=n.uncheckSource;this._isSourceChecked(t)?(o(t),this._sendClickStat(t,0)):(r(t),this._sendClickStat(t,1))}},{key:"_sendShowStat",value:function(){var e=this.props,t=e.stats,n=e.sources,r=e.rowIndex,o=n.map(function(e){return e.id}),i={rowIndex:r};g.default.emit(E.EVENTS.STAT,{eventName:"iceboarding:show",statMeta:i}),p.default.logNonBulkEvent(t.show,o).catch(function(e){console.warn(e.message)})}},{key:"_sendClickStat",value:function(e,t){var n=this.props,r=n.stats,o=n.rowIndex,i={rowIndex:o},a=r.click.replace("_i_",e).replace("_s_",String(t));g.default.emit(E.EVENTS.STAT,{eventName:"iceboarding:click",statMeta:i}),p.default.logNonBulkEvent(a).then(function(){return p.default.invalidateCache()}).catch(console.error)}},{key:"render",value:function(){var e=this.props,t=e.isVisible,n=e.isMobile,o=w({},this.props,{view:n?"mobile":"desktop",isSourceChecked:this._isSourceChecked,onSourceClick:this._onSourceCardClick});return r.h(v.default,{isVisible:t,onShow:this._sendShowStat},r.h(m.default,o))}}]),t}(f.default);t.default=(0,c.connect)(function(e,t){var n=t.id,r=e.feed.items[n],o=e.iceboarding.checkedSources,i=e.params.isMobile;return w({},r,{isMobile:i,checkedSources:o})},{checkSource:_.checkSource,uncheckSource:_.uncheckSource})(O),e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),l=o(c),f=n(348),d=o(f),p=n(1),h=o(p);n(350);var v=(0,h.default)("iceboarding-view"),y=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._renderSourceCard=e._renderSourceCard.bind(e),e}return u(t,e),s(t,[{key:"_renderSourceCard",value:function(e,t){var n=this.props,o=n.view,i=n.onSourceClick,a=n.isSourceChecked,u={type:"mobile"===o?"new":"old",source:e,onCardClick:i,checked:a(e.id)};return r.h("div",{className:v("source-item"),key:t},r.h(d.default,u))}},{key:"_renderButton",value:function(){var e=this.props.moreButton;return e?r.h("a",{className:v("more-sources"),href:e.link},"Показать больше источников"):null}},{key:"render",value:function(){var e=this.props,t=e.sources,n=e.titleRef,o=e.view;return r.h("div",{className:v({view:o})},r.h("div",{className:v("title"),ref:n},"Отметьте интересные источники"),r.h("div",{className:v("description")},"В ленте будет больше публикаций с этих сайтов"),r.h("div",{className:v("sources")},t.map(this._renderSourceCard)),this._renderButton())}}]),t}(l.default);t.default=y,e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){if(e.length>=v&&/\s/.test(e)){for(var t=e.length/2,n=0,r=1;r<e.length;r++)/\s/.test(e.charAt(r))&&Math.abs(t-r)<Math.abs(t-n)&&(n=r);return[e.slice(0,n),"<br/>",e.slice(n)].join("")}return e}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=o(l),d=n(1),p=o(d);n(349);var h=(0,p.default)("source-card-view"),v=8,y=function(e){function t(){var e,n,r;i(this,t);for(var o,u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return o=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n._handleClick=function(e){var t=n.props,r=t.source,o=t.onCardClick;o(e,r.id)},r=o,a(n,r)}return u(t,e),c(t,[{key:"getLogoStyle",value:function(){var e=this.props.source.logo,t=e.backgroundColor,n=e.image;return{backgroundColor:t,backgroundImage:"url("+n+")"}}},{key:"getTitleStyle",value:function(){var e=this.props.source.title.backgroundColor;return{backgroundColor:e}}},{key:"render",value:function(){var e=this.props,t=e.source,n=e.checked,o=e.type,i=e.hideCheckedState,a=s(t.title.text);return r.h("div",{className:h({checked:n,type:o}),onClick:this._handleClick},r.h("div",{className:h("shade")}),r.h("div",{className:h("logo",{"hidden-plus":i}),style:this.getLogoStyle()}),r.h("div",{className:h("title",{long:a.length>v}),style:this.getTitleStyle()},r.h("div",{className:h("title-text"),dangerouslySetInnerHTML:{__html:a}})))}}]),t}(f.default);t.default=y,e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),l=o(c),f=n(3),d=n(353),p=o(d),h=n(87),v=o(h),y=n(148),m=o(y),_=n(1),b=o(_),g=n(12),E=o(g),w=n(25),O=(o(w),n(6));n(360);var k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S=(0,b.default)("magic-card-feed-item"),T=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.size,n=e.feedback,o=e.feedbackProps,i=e.isVisible,a=e.logger,u=n&&"liked"!==n,s=m.default.width[t];return r.h("div",{className:S(),style:{width:s}},r.h(E.default,{isVisible:i,logger:a},u?r.h(v.default,o):r.h(p.default,this.props)))}}]),t}(l.default),P=function(){var e=(0,O.createFeedbackPropsSelector)(),t=(0,O.createFeedbackMittensPropsSelector)(),n=(0,O.createBulkStatLoggerSelector)();return function(r,o){var i=o.id,a=r.feed.items[i],u=e(r,i),s=t(r,i),c=n(a,i);return k({logger:c,feedbackProps:u,feedbackMittensProps:s},a)}};t.default=(0,f.connect)(P)(T),e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=(o(c),n(2)),f=o(l),d=n(354),p=o(d),h=n(1),v=o(h),y=n(356),m=o(y),_=n(357),b=o(_),g=n(148),E=o(g),w=n(60),O=o(w),k=n(25),S=(o(k),n(40)),T=o(S),P=n(41),C=o(P),I=n(358),x=o(I);n(359);var R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j=(0,T.default)(p.default),A=(0,v.default)("magic-card"),N=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={group:0};var r=n.props,o=r.size,u=r.items,s=b.default[o].visibleItems,c=u.length+1;n.itemWidth=E.default.item.width[o];var l=E.default.item.marginRight;return n.slider=new m.default({itemsTotal:c,itemsInGroup:s,itemWidth:n.itemWidth,itemsMargin:l}),n.groupsCount=Math.ceil(c/s),n._renderItems=n._renderItems.bind(n),n._renderNavDots=n._renderNavDots.bind(n),n._onScroll=(0,x.default)(n._onScroll.bind(n)),n}return u(t,e),s(t,[{key:"_scrollToGroup",value:function(e){if(!(e<0||e>this.groupsCount-1)){this.setState({group:e});var t=this.props.logger,n=this.slider.getLastVisibleItemIndex(e);t.log("swipe",{global:{_s_:String(n)}})}}},{key:"_onScroll",value:function(){var e=this.props.logger;e.log("swipe",{global:{_s_:"1"}})}},{key:"_renderItems",value:function(){var e=this,t=this.props,n=t.id,o=t.items,i=t.link,a=t.isVisible,u=t.isTouch,s=this.state.group,c=o.map(function(t,o){var i=R({},t,{isVisible:a&&e.slider.isCardVisible(s,o),parentId:n,width:e.itemWidth});return r.h("div",{className:A("carousel-item"),key:o},u?r.h(j,i):r.h(p.default,i))});return c.push(r.h("div",{className:A("carousel-item"),key:"show-all"},r.h("a",{className:A("magic-card-show-all"),href:i,target:"_blank",style:{width:this.itemWidth}},"Смотреть все"))),c}},{key:"_renderNavigation",value:function(){var e=this,t=this.props,n=t.items,o=t.isTouch;if(o)return null;var i=this.state.group;return r.h("div",{className:A("navigation")},r.h("div",{className:A("navigation-arrow-left",{disabled:this.slider.isFirstGroup(i)}),onClick:function(){return e._scrollToGroup(e.state.group-1)}}),this._renderNavDots(n),r.h("div",{className:A("navigation-arrow-right",{disabled:this.slider.isLastGroup(i)}),onClick:function(){return e._scrollToGroup(e.state.group+1)}}))}},{key:"_renderNavDots",value:function(){for(var e=this,t=[],n=function(n){t.push(r.h("div",{className:A("navigation-dot",{active:e.state.group===n}),onClick:function(){return e._scrollToGroup(n)},key:n}))},o=0;o<this.groupsCount;o+=1)n(o);return t}},{key:"render",value:function(){var e=this.props,t=e.source,n=e.link,o=e.title,i=e.size,a=e.isTouch,u=e.titleRef,s=e.feedbackMittensProps,c=this.state.group;return r.h("div",{className:A({size:i,touch:a})},r.h("div",{className:A("content")},r.h("div",{className:A("source")},t),r.h("div",{className:A("title"),ref:u},r.h("a",{className:A("title-link"),target:"_blank",href:n},o)),r.h("div",{className:A("carousel")},r.h("div",{className:A("carousel-cards"),style:{transform:"translateX("+this.slider.getSliderPosition(c)+"px)"},onScroll:(0,C.default)(this._onScroll,100)},this._renderItems()))),this._renderNavigation(),r.h("div",{className:A("feedback")},r.h(O.default,s)))}}]),t}(f.default);t.default=N,e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),l=o(c),f=n(3),d=n(1),p=o(d),h=n(42),v=n(43),y=o(v),m=n(124),_=n(6),b=n(25),g=(o(b),n(12)),E=o(g);n(355);var w=(0,p.default)("magic-item"),O=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._sendShowStat=n._sendShowStat.bind(n),n._onCardClick=n._onCardClick.bind(n),n}return u(t,e),s(t,[{key:"_sendShowStat",value:function(){var e=this.props,t=e.id,n=e.parentId,r=e.onShow,o=e.isVisible,i=e.shown,a=e.logger;o&&!i&&(a.log("show"),r({id:n,childId:t}))}},{key:"_onCardClick",value:function(){var e=this.props.logger;e.log("click")}},{key:"_getStyles",value:function(){var e=this.props,t=e.colors,n=e.width,r=e.image,o=t.card,i=t.text;return{width:n,backgroundColor:o,backgroundImage:r?"url("+r+")":null,color:i}}},{key:"_getFadesStyles",value:function(){var e=this.props.colors.card,t=(0,h.convertToRgb)(e),n=["rgba("+t+",0) 0%","rgba("+t+",0.92) 100%"],r=["rgba("+t+",0.1) 0%","rgba("+t+",0.4) 90%","rgba("+t+",1) 100%"];return{fade:{background:"linear-gradient(to bottom, "+n.join()+")"},hover:{background:"linear-gradient(to bottom, "+r.join()+")"}}}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.link,o=e.text,i=e.info,a=e.isVisible,u=e.rootRef,s=this._getFadesStyles();return r.h(E.default,{isVisible:a,onShow:this._sendShowStat,timeout:0},r.h("a",{className:w(),style:this._getStyles(),onClick:this._onCardClick,href:n,target:"_blank",ref:u},r.h("div",{className:w("fade"),style:s.fade}),r.h("div",{className:w("hover-fade"),style:s.hover}),r.h("div",{className:w("content")},r.h(y.default,{className:w("title"),isIntersecting:a},t),o?r.h(y.default,{className:w("text"),isIntersecting:a},o):null,i?r.h("div",{className:w("info")},i):null)))}}]),t}(l.default),k=function(){var e=(0,_.createBulkStatLoggerSelector)();return function(t,n){return{logger:e(n)}}};t.default=(0,f.connect)(k,{onShow:m.magicItemShow})(O),e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){var n=t.itemsTotal,o=t.itemsInGroup,i=t.itemWidth,a=t.itemsMargin;r(this,e),this._itemsInGroup=o,this._itemsTotal=n,this._groupsTotal=Math.ceil(n/o),this._itemWidth=i,this._itemsMargin=a}return o(e,[{key:"getSliderPosition",value:function(e){return-this._getFirstVisibleItemIndex(this._validateGroup(e))*(this._itemWidth+this._itemsMargin)}},{key:"isCardVisible",value:function(e,t){return t>=this._getFirstVisibleItemIndex(e)&&t<=this.getLastVisibleItemIndex(e)}},{key:"isFirstGroup",value:function(e){return 0===e}},{key:"isLastGroup",value:function(e){return e===this._groupsTotal-1}},{key:"getLastVisibleItemIndex",value:function(e){return this.isLastGroup(this._validateGroup(e))?this._itemsTotal-2:(e+1)*this._itemsInGroup-1}},{key:"_getFirstVisibleItemIndex",value:function(e){return this.isLastGroup(this._validateGroup(e))?this._itemsTotal-this._itemsInGroup:e*this._itemsInGroup}},{key:"_validateGroup",value:function(e){return e<=0?0:e>=this._groupsTotal-1?this._groupsTotal-1:e}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={small:{widthInColumns:1,visibleItems:1},big:{widthInColumns:2,visibleItems:3}},e.exports=t.default},function(e,t,n){"use strict";function r(e){var t=!1;return function(){t||(e.apply(void 0,arguments),t=!0)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},function(e,t){},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=(o(c),n(2)),f=o(l),d=n(3),p=n(1),h=o(p),v=n(6),y=n(362),m=o(y),_=n(365),b=o(_);n(368);var g=n(40),E=o(g),w=n(4),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k=4,S=(0,h.default)("similar"),T=(0,E.default)(m.default),P=(0,E.default)(b.default),C=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._renderSmallCard=e._renderSmallCard.bind(e),e._renderDirectCard=e._renderDirectCard.bind(e),e}return u(t,e),s(t,[{key:"_getDocs",value:function(){var e=this.props.items,t=e.docs,n=e.direct;return n.length>0?t.slice(0,k-1):t.slice(0,k)}},{key:"_renderSmallCard",value:function(e,t){var n=this.props.rowIndex;return r.h("div",{className:S("card"),key:"doc-"+t},r.h(T,{doc:e,rowIndex:n}))}},{key:"_renderDirectCard",value:function(e,t){var n=this.props,o=n.tld,i=n.rowIndex;return r.h("div",{className:S("card"),key:"direct-"+t},r.h(P,{direct:e,tld:o,rowIndex:i}))}},{key:"_renderLeftPointer",value:function(e){return e===w.CHILD_ITEM_POSITION.CENTER?null:r.h("div",{className:S("left-pointer")},r.h("div",{className:S("left-pointer-spacer")}),e===w.CHILD_ITEM_POSITION.LEFT?r.h("div",{className:S("left-pointer-elem")}):null)}},{key:"_renderRightPointer",
value:function(e){return e===w.CHILD_ITEM_POSITION.CENTER?null:r.h("div",{className:S("right-pointer")},e===w.CHILD_ITEM_POSITION.RIGHT?r.h("div",{className:S("right-pointer-elem")}):null,r.h("div",{className:S("right-pointer-spacer")}))}},{key:"render",value:function(){var e=this.props,t=e.pointerPosition,n=e.items,o=this._getDocs(),i=n.direct;return r.h("div",{className:S()},r.h("div",{className:S("title")},this._renderLeftPointer(t),r.h("span",{className:S("title-text")},"Вам может быть интересно"),this._renderRightPointer(t)),r.h("div",{className:S("cards")},o.map(this._renderSmallCard),i.map(this._renderDirectCard)))}}]),t}(f.default),I=function(e,t){var n=t.id,r=e.feed.items[n],o=(0,v.childItemPositionSelector)(e,n),i=e.params.tld;return O({tld:i,pointerPosition:o},r)};t.default=(0,d.connect)(I)(C),e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),l=n(2),f=o(l),d=n(12),p=o(d),h=n(6),v=n(25),y=(o(v),n(363)),m=o(y),_=n(141),b=o(_),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.isIntersecting,n=e.isVisible,o=e.logger,i=e.doc,a=e.rootRef,u=e.isMobile,s=g({id:i.id},i,{rootRef:a,isMobile:u,isIntersecting:t,onClick:function(){return o.log("click")}}),c=i.ad;return r.h(p.default,{logger:o,isVisible:n},c?r.h(b.default,g({},s,{mix:"similar__item-ad-container"})):r.h(m.default,s))}}]),t}(f.default),w=function(){var e=(0,h.createBulkStatLoggerSelector)();return function(t,n){var r=n.doc,o=n.rowIndex;return{logger:e(g({},r,{rowIndex:o}))}}};t.default=(0,c.connect)(w)(E),e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(364);var c=n(2),l=o(c),f=n(42),d=n(88),p=o(d),h=n(43),v=o(h),y=n(1),m=o(y),_=(0,m.default)("similar-card-view"),b=function(e){function t(){var e,n,r;i(this,t);for(var o,u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return o=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n._containerRef=function(e){var t=n.props.rootRef;t&&t(e),n._containerElem=e},r=o,a(n,r)}return u(t,e),s(t,[{key:"getStyles",value:function(){var e={},t=this.props,n=t.image,r=t.cardColors,o=t.mainColor;return n&&(e.backgroundImage="url("+n+")",e.backgroundPosition="center",e.backgroundSize="cover"),o?e.color=(0,p.default)(o).text:r&&(e.color=r.text),e}},{key:"getCardColor",value:function(){var e=this.props,t=e.cardColors,n=e.mainColor;return n?(0,p.default)(n).card:t?t.card:void 0}},{key:"getFadesStyle",value:function(){var e=this.getCardColor();if(e){var t=(0,f.convertToRgb)(e).join(),n=["rgba("+t+",0.88) 0%","rgba("+t+",0.88) 25%","rgba("+t+",0.79) 40%","rgba("+t+",0.68) 56%","rgba("+t+",0.09) 100%"],r=["rgba("+t+",1) 0%","rgba("+t+",0.2) 40%","rgba("+t+",0.3) 56%","rgba("+t+",0.3) 100%"];return{fade:{background:"linear-gradient(to right, "+n.join()+")"},hover:{background:"linear-gradient(to right, "+r.join()+")"}}}return{fade:{},hover:{}}}},{key:"componentDidMount",value:function(){this._containerElem&&this._containerElem.addEventListener("auxclick",this.props.onClick)}},{key:"componentWillUnmount",value:function(){this._containerElem&&this._containerElem.removeEventListener("auxclick",this.props.onClick)}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.text,o=e.link,i=e.domainTitle,a=e.image,u=e.isMobile,s=e.isIntersecting,c=e.onClick,l=this.getFadesStyle();return r.h("a",{className:_({"has-image":Boolean(a),mobile:u}),style:this.getStyles(),href:o,target:"_blank",onClick:c,ref:this._containerRef},r.h("div",{className:_("fade"),style:l.fade}),r.h("div",{className:_("hover-fade"),style:l.hover}),r.h("div",{className:_("content")},r.h("div",{className:_("content-wrapper")},r.h(v.default,{className:_("title"),isIntersecting:s},t),u?null:r.h(v.default,{className:_("text"),isIntersecting:s},n),r.h("div",{className:_("source-name")},i))))}}]),t}(l.default);t.default=b,e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),l=n(2),f=o(l),d=n(12),p=o(d),h=n(6),v=n(366),y=o(v),m=n(25),_=(o(m),n(37)),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._sendShowStat=e._sendShowStat.bind(e),e}return u(t,e),s(t,[{key:"_sendShowStat",value:function(){var e=this.props,t=e.logger,n=e.direct;t.log("show"),(0,_.zfetch)(n.showUrl).catch(console.error)}},{key:"render",value:function(){var e=this.props,t=e.tld,n=e.direct,o=e.logger,i=e.isVisible,a=e.rootRef,u=e.isMobile,s=b({},n,{tld:t,rootRef:a,isMobile:u,onClick:function(){return o.log("click")}});return r.h(p.default,{isVisible:i,onShow:this._sendShowStat},r.h(y.default,s))}}]),t}(f.default),E=function(){var e=(0,h.createBulkStatLoggerSelector)();return function(t,n){var r=n.direct,o=n.rowIndex,i=t.params.tld;return{tld:i,logger:e(b({},r,{rowIndex:o}))}}};t.default=(0,c.connect)(E)(g),e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),l=o(c),f=n(1),d=o(f),p=n(147),h=o(p);n(367);var v=(0,d.default)("direkt-similar-card"),y=function(e){function t(){var e,n,r;i(this,t);for(var o,u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return o=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n._containerRef=function(e){var t=n.props.rootRef;t&&t(e),n._containerElem=e},n._directLinkClickHandler=function(e){var t=n.props.tld;(0,h.default)(e,t)},r=o,a(n,r)}return u(t,e),s(t,[{key:"_getImage",value:function(){var e=this.props.image;return e&&e[0]}},{key:"_renderBackground",value:function(){var e=this._getImage();return e?r.h("div",{className:v("background-wrapper")},r.h("div",{className:v("background"),style:{backgroundImage:"url("+e+")"}}),r.h("div",{className:v("background-gradient")}),r.h("div",{className:v("background-hover")})):null}},{key:"_renderAge",value:function(){var e=this.props.age;return e?r.h("div",{className:v("age")},e):null}},{key:"_renderWarning",value:function(){var e=this.props.warning;return e?r.h("div",{className:v("warning-content")},r.h("div",{className:v("warning")},e),this._renderAge()):null}},{key:"componentDidMount",value:function(){this._containerElem.addEventListener("auxclick",this.props.onClick)}},{key:"componentWillUnmount",value:function(){this._containerElem.removeEventListener("auxclick",this.props.onClick)}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.text,o=e.domain,i=e.url,a=e.isMobile,u=e.onClick,s=this._getImage(),c={"has-image":Boolean(s),mobile:a};return r.h("a",{className:v(c),href:i,target:"_blank",onClick:u,ref:this._containerRef},r.h("div",{className:v("label"),onClick:this._directLinkClickHandler},"Яндекс.Директ"),this._renderBackground(),r.h("div",{className:v("image"),style:{backgroundImage:"url("+s+")"}}),r.h("div",{className:v("content")},r.h("div",{className:v("title")},t),r.h("div",{className:v("domain")},o),r.h("div",{className:v("text")},n),this._renderWarning()||this._renderAge()))}}]),t}(l.default);t.default=y,e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(13),l=o(c),f=n(2),d=o(f),p=n(3),h=n(1),v=o(h),y=n(6),m=n(12),_=o(m),b=n(27),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E=(0,v.default)("placeholder-card"),w=function(e){function t(){var e,n,r;i(this,t);for(var o,u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return o=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n._triggerRealShow=function(){var e=n.props,t=e.index,r=e.rowIndex;n._container&&(l.default.emit(b.EVENTS.PLACEHOLDER_SHOW,{index:t,rowIndex:r,container:n._container}),n._realShowSent=!0)},n._getLogger=function(){var e=n.props.logger;return n._container&&n._container.hasChildNodes()?e:null},n._onClick=function(){var e=n._getLogger();e&&e.log("click")},r=o,a(n,r)}return u(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.isVisible,n=e.isVisible;return!this._realShowSent&&!t&&n}},{key:"componentWillUnmount",value:function(){var e=this.props.index;l.default.emit(b.EVENTS.PLACEHOLDER_UNMOUNT,{index:e})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.index,n=e.rowIndex;this._container&&l.default.emit(b.EVENTS.PLACEHOLDER,{index:t,rowIndex:n,container:this._container})}},{key:"render",value:function(){var e=this,t=this.props.isVisible,n=this._getLogger();return r.h(_.default,{isVisible:t,onShow:this._triggerRealShow,logger:n},r.h("div",{className:""+E(),ref:function(t){return e._container=t},onClick:this._onClick}))}}]),t}(d.default),O=function(){var e=(0,y.createBulkStatLoggerSelector)();return function(t,n){var r=n.id,o=n.rowIndex,i=t.feed.items[r];return{index:(0,y.placeholdersIdSelector)(t.feed,r),logger:e(g({},i,{rowIndex:o}))}}};t.default=(0,p.connect)(O)(w),e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=(o(c),n(3)),f=n(38),d=n(24),p=n(6),h=n(371),v=o(h),y=n(12),m=o(y),_=n(40),b=o(_),g=n(32),E="Спасибо за помощь!",w=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._onShow=function(){var e=n.props.question;n.props.logger.log("custom_user_feedback_show",{local:{__uq__:e.id,__ua__:""}})},n.answers=e.question.answers.map(function(e){var t=e.text,r=e.id;return{text:t,onAnswer:function(){return n._onAnswer(r)}}}),n}return u(t,e),s(t,[{key:"_onAnswer",value:function(e){var t=this.props,n=t.question,r=t.answerUserQuestion,o=t.id;this.props.logger.log("custom_user_feedback",{local:{__uq__:n.id,__ua__:e}}),r(o)}},{key:"render",value:function(){var e=this.props,t=e.question,n=e.position,o=e.columnCount,i=e.parentItemSize,a=e.isVisible,u=e.rootRef,s=e.isAnswered;return r.h(m.default,{onShow:this._onShow,isVisible:a},r.h(v.default,{position:n,columnCount:o,parentItemSize:i,questionText:t.text,answers:this.answers,isAnswered:s,responseText:E,rootRef:u}))}}]),t}(c.Component),O=function(){var e=(0,p.createBulkStatLoggerSelector)(),t=function(e){return e.questions[0]},n=(0,f.createSelector)(t,function(e){return e});return function(t,r){var o=r.id,i=t.feed.items[o],a=i.data,u=i.isAnswered,s=(0,p.childItemPositionSelector)(t,o),c=(0,p.columnCountSelector)(t.feed),l=(0,p.getParentItemSize)(t,o),f=n(a);return{position:s,columnCount:c,parentItemSize:l,question:f,isAnswered:u,logger:e(i)}}};t.default=(0,d.compose)((0,l.connect)(O,{answerUserQuestion:g.answerUserQuestion}),b.default)(w),e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(372);var c=n(0),l=(o(c),n(2)),f=o(l),d=n(373),p=o(d),h=n(1),v=o(h),y=(0,v.default)("user-question"),m=function(e){function t(){var e,n,r;i(this,t);for(var o,u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return o=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n._containerRef=function(e){var t=n.props.rootRef;t&&t(e)},r=o,a(n,r)}return u(t,e),s(t,[{key:"_getContentSizeParams",value:function(){var e=this.props,t=e.position,n=e.columnCount,r=e.parentItemSize;return p.default[n][r][t]}},{key:"_renderQuestionContent",value:function(){var e=this.props,t=e.answers,n=e.questionText;return r.h("div",{ref:this._containerRef},r.h("div",{className:y("title")},n),r.h("div",{className:y("answers")},t.map(function(e,t){var n=e.onAnswer,o=e.text;return r.h(_,{key:t,onAnswer:n,text:o})})))}},{key:"_renderResponseContent",value:function(){var e=this.props.responseText;return r.h(b,{responseText:e})}},{key:"render",value:function(){var e=this._getContentSizeParams(),t=e.width,n=e.justifyContent,o=this.props.isAnswered;return r.h("div",{className:y(),style:{justifyContent:n}},r.h("div",{className:y("content"),style:{width:t}},o?this._renderResponseContent():this._renderQuestionContent()))}}]),t}(f.default),_=function(e){var t=e.onAnswer,n=e.text;return r.h("div",{className:y("answer"),onClick:t},n)},b=function(e){var t=e.responseText;return r.h("div",{className:y("response")},t)};t.default=m,e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,u,s,c=n(4),l={1:r({},c.SIZE_SMALL,r({},c.CHILD_ITEM_POSITION.LEFT,{width:"100%"})),2:(i={},r(i,c.SIZE_SMALL,(o={},r(o,c.CHILD_ITEM_POSITION.LEFT,{width:"50%",justifyContent:"flex-start"}),r(o,c.CHILD_ITEM_POSITION.RIGHT,{width:"50%",justifyContent:"flex-end"}),o)),r(i,c.SIZE_BIG,r({},c.CHILD_ITEM_POSITION.LEFT,{width:"100%",justifyContent:"center"})),r(i,c.SIZE_FREE,r({},c.CHILD_ITEM_POSITION.LEFT,{width:"100%",justifyContent:"center"})),i),3:(s={},r(s,c.SIZE_SMALL,(a={},r(a,c.CHILD_ITEM_POSITION.LEFT,{width:"33.333%",justifyContent:"flex-start"}),r(a,c.CHILD_ITEM_POSITION.CENTER,{width:"33.333%",justifyContent:"center"}),r(a,c.CHILD_ITEM_POSITION.RIGHT,{width:"33.333%",justifyContent:"flex-end"}),a)),r(s,c.SIZE_BIG,(u={},r(u,c.CHILD_ITEM_POSITION.LEFT,{width:"66.666%",justifyContent:"flex-start"}),r(u,c.CHILD_ITEM_POSITION.RIGHT,{width:"66.666%",justifyContent:"flex-end"}),u)),r(s,c.SIZE_FREE,r({},c.CHILD_ITEM_POSITION.LEFT,{width:"100%",justifyContent:"center"})),s)};t.default=l,e.exports=t.default},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.size,n=void 0===t?"m":t;return r.h("h2",{className:c({size:n})},"Нет публикаций")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(0),u=(o(a),n(1)),s=o(u);n(375);var c=(0,s.default)("feed-empty");e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.channel,n=e.columnCount,o=e.lang,i=e.authInfo,a=t.title,u=t.description,s=t.subscribers,l=t.logo,d=n>2?40:20,h=a.length>d;return r.h("div",{className:C({columns:n,short:!h})},r.h("div",{className:C("top")},r.h("div",{className:C("top-logo")},r.h("a",{href:"/",target:"_self"},r.h(E.default,{lang:o,size:"channel_medium"}))),i&&i.uid?r.h(b.default,null):r.h(O.default,{theme:"link",type:"link",className:C("top-link"),size:"m",href:"/media",target:"_self"},"Платформа для авторов")),h?r.h("div",null,r.h("div",{className:C("wrapper",{long:h})},r.h(f.default,{logo:l}),r.h("div",{className:C("content")},r.h(p.default,{title:a,multiline:!0}))),r.h("div",{className:C("subscribe-menu")},r.h(c.default,null),r.h(m.default,null),r.h(v.default,{subscribers:s}))):r.h("div",{className:C("wrapper")},r.h(f.default,{logo:l}),r.h("div",{className:C("content")},r.h(p.default,{title:a}),r.h(v.default,{subscribers:s}),r.h("div",{className:C("subscribe-menu")},r.h(c.default,null),r.h(m.default,null)))),u&&r.h("p",{className:C("description")},u))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),u=(o(a),n(3)),s=n(377),c=o(s),l=n(383),f=o(l),d=n(385),p=o(d),h=n(387),v=o(h),y=n(391),m=o(y),_=n(399),b=o(_),g=n(150),E=o(g),w=n(34),O=o(w),k=n(1),S=o(k),T=n(6),P=n(7);n(403);var C=(0,S.default)("channel-header");t.default=(0,u.connect)(function(e){return{lang:e.params.lang,channel:(0,P.hasChannelData)(e)?e.channelList[e.channel.id]:void 0,columnCount:(0,T.columnCountSelector)(e.feed),authInfo:e.auth.info}})(i),e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.id,n=e.bulkParams,o=e.statEvents,i=e.userBlocked,a=e.userSubscribed,u=e.channelUnblock,s=e.channelSubscribe,l=e.channelUnsubscribe,d={id:t,bulkParams:n,statEvents:o};return i?r.h(c.default,{theme:"red",className:v(),onClick:function(){return u(d)}},"Разблокировать канал"):r.h(f.default,{className:v(),checked:a,transitionUncheckedCheckedText:"Вы подписаны",onClick:function(){return a?l(d):s(d)}},a?"Отписаться":"Подписаться на канал")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),u=(o(a),n(3)),s=n(34),c=o(s),l=n(380),f=o(l),d=n(1),p=o(d),h=n(85),v=(0,p.default)("channel-subscribe"),y=function(e){var t=e.channel.id,n=e.channelList[t],r=n.userBlocked,o=n.userSubscribed,i=n.bulkParams,a=n.statEvents;return{id:t,userBlocked:r,userSubscribed:o,bulkParams:i,statEvents:a}},m={channelUnblock:h.channelUnblock,channelSubscribe:h.channelSubscribe,channelUnsubscribe:h.channelUnsubscribe};t.default=(0,u.connect)(y,m)(i),e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=o(c),f=n(1),d=o(f);n(379);var p=(0,d.default)("zen-button"),h=13,v=32,y=function(e){function t(){var e,n,r;i(this,t);for(var o,u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return o=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.state={pressed:!1},n.handlePointerDown=function(){n.setState({pressed:!0})},n.handlePointerUp=function(){n.setState({pressed:!1})},n.handleKeyDown=function(e){e.keyCode!==h&&e.keyCode!==v||n.setState({pressed:!0})},n.handleKeyUp=function(e){e.keyCode!==h&&e.keyCode!==v||n.setState({pressed:!1})},r=o,a(n,r)}return u(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props.onRef;"PointerEvent"in window?(this.downEvent="pointerdown",this.upEvent="pointerup"):(this.downEvent="mousedown",this.upEvent="mouseup"),e&&e(this.el),this.initEvents()}},{key:"componentWillUnmount",value:function(){this.removeEvents()}},{key:"initEvents",value:function(){this.el.addEventListener(this.downEvent,this.handlePointerDown),this.el.addEventListener(this.upEvent,this.handlePointerUp),this.el.addEventListener("keydown",this.handleKeyDown),this.el.addEventListener("keyup",this.handleKeyUp)}},{key:"removeEvents",value:function(){this.el.removeEventListener(this.downEvent,this.handlePointerDown),this.el.removeEventListener(this.upEvent,this.handlePointerUp),this.el.removeEventListener("keydown",this.handleKeyDown),this.el.removeEventListener("keyup",this.handleKeyUp)}},{key:"render",value:function(){var e=this,t=this.state.pressed,n=this.props,o=n.children,i=n.onClick,a=n.theme,u=void 0===a?"normal":a,s=n.size,c=void 0===s?"m":s,l=n.type,f=void 0===l?"button":l,d=n.className,h=n.disabled,v=n.href,y=n.target,m=n.stretch,_={theme:u,size:c,disabled:h,pressed:t,stretch:m},b={className:p(_)+(d?" "+d:""),onClick:h?void 0:i,ref:function(t){return e.el=t},href:v,target:y};return"link"===f?r.h("a",b,o):r.h("button",b,o)}}]),t}(l.default.Component);t.default=y,e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(381);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}}),e.exports=t.default},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=o(c),f=n(1),d=o(f),p=n(34),h=o(p);n(382);var v=(0,d.default)("zen-check-button"),y=1200,m=function(e){function t(){var e,n,r;i(this,t);for(var o,u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return o=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.state={inUncheckCheckTransition:!1},r=o,a(n,r)}return u(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.transitionUncheckedCheckedText&&e.checked&&!this.props.checked&&(this.setState({inUncheckCheckTransition:!0}),setTimeout(function(){return t.setState({inUncheckCheckTransition:!1})},y))}},{key:"render",value:function(){var e=this.state.inUncheckCheckTransition,t=this.props,n=t.children,o=t.theme,i=t.size,a=t.className,u=void 0===a?"":a,s=t.onClick,c=t.checked,l=t.transitionUncheckedCheckedText;return r.h(h.default,{theme:o,size:i,className:v({checked:!e&&c})+" "+u,onClick:s,disabled:e},e?l:n)}}]),t}(l.default.Component);t.default=m,e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.logo,n=Boolean(t),o=t.src,i=void 0===o?"":o,a=t.color,u=n?{backgroundImage:"url("+i+")",backgroundColor:a}:{};return r.h("div",{className:"channel-logo",style:u})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(0);o(a),n(14);n(384),e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.title,n=e.multiline,o=e.size,i=void 0===o?"m":o;return r.h("h2",{className:c({multiline:n,size:i})},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(0),u=(o(a),n(1)),s=o(u);n(386);var c=(0,s.default)("channel-title");e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.subscribers,n=e.size,o=void 0===n?"m":n;return"undefined"!=typeof t?r.h("div",{className:f({size:o})},(0,c.getTranslatedPlural)(d,t,l.numberWithSpaces)):null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(0),u=(o(a),n(1)),s=o(u),c=n(388),l=n(389);n(390);var f=(0,s.default)("channel-subscribers"),d={zero:"нет подписчиков",one:"%d подписчик",two:"%d подписчика",five:"%d подписчиков"};e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";function r(){var e=s[u];return e?e:s.other}function o(){var e="ru";return"ru"===e?"ru":e}function i(e,t){return e.replace("%d",t.toString())}function a(e,t,n){var o=r(),a=e[o(t)];return a?i(a,n?n(t):t):""}Object.defineProperty(t,"__esModule",{value:!0}),t.getTranslatedPlural=a;var u=o(),s={ru:function(e){if(0===e)return"zero";var t=e%100;if(t>=5&&t<=20)return"five";var n=e%10;return 1===n?"one":n>=2&&n<=4?"two":"five"},other:function(e){return 0===e?"zero":1===e?"one":"five"}}},function(e,t,n){"use strict";function r(e){var t=parseInt(e)||0,n=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),r=e.toString().split(/[,.]/)[1];return r&&(n+="."+r),n}Object.defineProperty(t,"__esModule",{value:!0}),t.numberWithSpaces=r},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=E[e]||"com";return"https://forms.yandex."+n+"/surveys/6295/?cmpln_url="+encodeURIComponent(t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),f=o(l),d=n(3),p=n(34),h=o(p),v=n(149),y=o(v),m=n(1),_=o(m),b=n(85);
n(398);var g=(0,_.default)("channel-menu"),E={ru:"ru",com:"com",tr:"com.tr",ua:"ua",by:"by",kz:"kz"},w=function(e){function t(){var e,n,o;i(this,t);for(var u,c=arguments.length,l=Array(c),f=0;f<c;f++)l[f]=arguments[f];return u=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={menuOpened:!1},n.closeMenu=function(){n.setState({menuOpened:!1})},n.openMenu=function(){n.setState({menuOpened:!0})},n.handleBlockClick=function(){n.props.channelBlock(n.getActionParams()),n.closeMenu()},n.handleUnblockClick=function(){n.props.channelUnblock(n.getActionParams()),n.closeMenu()},n.handleComplainClick=function(){n.props.channelComplainOpen(n.getActionParams()),n.closeMenu()},n._wrap=function(e){return r.h("div",{className:g("item")},e)},n._renderComplainButton=function(){var e=n.props,t=e.tld,o=e.currentUrl,i=e.isNewDesign;return n._wrap(r.h(h.default,{theme:"clear",size:i?"menu":"l",type:"link",href:s(t,o),target:"_blank",onClick:n.handleComplainClick},"Пожаловаться"))},n._renderUnblockButton=function(){var e=n.props,t=e.userBlocked,o=e.isNewDesign;return n._wrap(r.h(h.default,{theme:"clear",size:o?"menu":"l",onClick:t?n.handleUnblockClick:n.handleBlockClick},t?"Разблокировать канал":"Заблокировать"))},n._renderGotoEditorButton=function(){var e=n.props,t=e.hideGoToEditor,o=e.isNewDesign;return t?null:n._wrap(r.h(h.default,{theme:"clear",size:o?"menu":"l",type:"link",href:"/media/zen/login",onClick:n.closeMenu},"Открыть редактор"))},o=u,a(n,o)}return u(t,e),c(t,[{key:"getActionParams",value:function(){var e=this.props,t=e.id,n=e.bulkParams,r=e.statEvents;return{id:t,bulkParams:n,statEvents:r}}},{key:"render",value:function(){var e=this.state.menuOpened,t=this.props,n=t.mobile,o=t.isNewDesign;return r.h(y.default,{className:g(),buttonContent:" ",theme:"pseudo",opened:e,openDirection:n?"bottom-left":void 0,isNewDesign:o,onClose:this.closeMenu,onOpen:this.openMenu},r.h("div",{className:g("items")},this._renderComplainButton(),this._renderUnblockButton(),this._renderGotoEditorButton()))}}]),t}(f.default.Component),O=function(e){var t=e.channel.id,n=e.channelList[t],r=n.userBlocked,o=n.bulkParams,i=n.statEvents,a=e.params,u=a.tld,s=a.currentUrl;return{id:t,userBlocked:r,bulkParams:o,statEvents:i,tld:u,currentUrl:s,hideGoToEditor:!0}},k={channelBlock:b.channelBlock,channelUnblock:b.channelUnblock,channelComplainOpen:b.channelComplainOpen};t.default=(0,d.connect)(O,k)(w),e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=o(c),f=n(1),d=o(f),p=n(34),h=o(p),v=n(393),y=o(v);n(397);var m=(0,d.default)("zen-dropdown"),_=8,b=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onWindowResize=function(){n.close()},n.handleClick=function(){n.state.opened?n.close():n.open()},n.handleButtonRef=function(e){n._buttonEl=e},n.onBodyClick=function(e){e.target.closest("."+v.PORTAL_CLASSNAME)||e.target.closest("."+m())||n.close()},n.state={opened:e.opened||!1},n}return u(t,e),s(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onWindowResize)}},{key:"componentWillUnmount",value:function(){this.close(),window.removeEventListener("resize",this.onWindowResize)}},{key:"componentWillReceiveProps",value:function(e){var t=e.opened;"undefined"!=typeof t&&t!==this.state.opened&&(t?this.open():this.close())}},{key:"open",value:function(){var e=this,t=this.props.openDirection,n=this.state.opened;if(!n&&this._buttonEl){var r=this._buttonEl.getBoundingClientRect(),o=void 0;switch(t){case"bottom-left":o={top:r.bottom+_+"px",right:window.innerWidth-r.right+"px"};break;case"bottom-right":default:o={top:r.bottom+_+"px",left:r.left+"px"}}this.setState({popupPosition:o},function(){document.body&&document.body.addEventListener("click",e.onBodyClick),e.setState({opened:!0}),e.props.onOpen&&e.props.onOpen()})}}},{key:"close",value:function(){this.state.opened&&(this.setState({opened:!1}),document.body&&document.body.removeEventListener("click",this.onBodyClick),this.props.onClose&&this.props.onClose())}},{key:"render",value:function(){var e=this.state,t=e.opened,n=e.popupPosition,o=this.props,i=o.children,a=o.theme,u=void 0===a?"normal":a,s=o.size,c=void 0===s?"m":s,l=o.buttonContent,f=o.className,d=void 0===f?"":f,p=o.isNewDesign,v=void 0!==p&&p;return r.h("div",{className:m()+" "+d},r.h(h.default,{theme:u,size:c,onClick:this.handleClick,onRef:this.handleButtonRef},l),r.h(y.default,{theme:v?"normal-dropdown-new":"normal-dropdown",size:c,isOpen:t,position:n,closeTimeoutMS:200},i))}}]),t}(l.default.Component);t.default=b,b.defaultProps={openDirection:"bottom-right"},e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(394);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}}),Object.defineProperty(t,"PORTAL_CLASSNAME",{enumerable:!0,get:function(){return o.PORTAL_CLASSNAME}})},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PORTAL_CLASSNAME=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=(r(s),n(395)),l=r(c),f=n(1),d=r(f),p=n(23);n(396);var h=(0,d.default)("zen-popup"),v=t.PORTAL_CLASSNAME=h("portal"),y=function(t){function n(){var e,t,r;o(this,n);for(var a,u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return a=t=i(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(s))),t.state={contentVisible:!1,afterOpen:!1,beforeClose:!1},r=a,i(t,r)}return a(n,t),u(n,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentWillReceiveProps",value:function(e){e.isOpen!==this.props.isOpen&&(e.isOpen?this.open():this.close())}},{key:"open",value:function(){var e=this;this.closeTimer&&(clearTimeout(this.closeTimer),this.cleanUp()),this.setState({contentVisible:!0},function(){(0,p.raf)().then(function(){return(0,p.raf)()}).then(function(){return e.setState({afterOpen:!0})})})}},{key:"close",value:function(){var e=this.props.closeTimeoutMS;this.setState({beforeClose:!0}),e?this.closeTimer=setTimeout(this.cleanUp.bind(this),e):this.cleanUp()}},{key:"cleanUp",value:function(){this.setState({contentVisible:!1,afterOpen:!1,beforeClose:!1})}},{key:"render",value:function(){var t=this.state,n=t.contentVisible,r=t.afterOpen,o=t.beforeClose,i=this.props,a=i.children,u=i.theme,s=void 0===u?"normal":u,c=i.size,f=void 0===c?"m":c,d=i.className,p=void 0===d?"":d,y=i.position,m=h({theme:s,size:f,"after-open":r,"before-close":o})+(" "+p);return n?e.h(l.default,{className:v},e.h("div",{className:m,style:y},a)):null}}]),n}(s.Component);t.default=y}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=(o(c),n(0)),f=n(15),d=o(f),p=!0,h=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"componentDidUpdate",value:function(e){if(e.className!==this.props.className||e.children!==this.props.children)return this.renderLayer()}},{key:"componentDidMount",value:function(){var e=this.props.className;this.into=document.createElement("div"),e&&this.into.classList.add(e),document.body&&document.body.appendChild(this.into),this.renderLayer()}},{key:"componentWillUnmount",value:function(){this.renderLayer(!1),this.remote instanceof HTMLElement&&this.remote.parentNode instanceof HTMLElement&&this.remote.parentNode.removeChild(this.remote),this.into&&document.body&&document.body.removeChild(this.into)}},{key:"renderLayer",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.remote=(0,l.render)(r.h(v,{context:this.context},e&&this.props.children||null),this.into,p?this.remote:function(){})}},{key:"render",value:function(){return null}}]),t}(c.Component);t.default=h;var v=function(e){function t(){var e,n,r;i(this,t);for(var o,u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return o=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.getChildContext=function(){return n.props.context},r=o,a(n,r)}return u(t,e),s(t,[{key:"render",value:function(){var e=null;return this.props.children&&(e=this.props.children),this.props.children&&this.props.children[0]&&(e=this.props.children[0]),e}}]),t}(c.Component);v.childContextTypes={context:d.default.any},e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){return"//passport.yandex."+e+"/passport?mode=logout&retpath="+encodeURIComponent(t)+"&yu="+n}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),f=o(l),d=n(34),p=o(d),h=n(149),v=o(h),y=n(1),m=o(y),_=n(3);n(400);var b=(0,m.default)("auth-menu"),g=function(e){function t(){var e,n,r;i(this,t);for(var o,u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return o=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.state={menuOpened:!1},n.closeMenu=function(){n.setState({menuOpened:!1})},n.openMenu=function(){n.setState({menuOpened:!0})},r=o,a(n,r)}return u(t,e),c(t,[{key:"render",value:function(){var e=this.state.menuOpened,t=this.props,n=t.tld,o=t.platformStatus,i=t.currentUrl,a=t.authInfo;return r.h(v.default,{className:b(),buttonContent:a.displayName,theme:"link",opened:e,onClose:this.closeMenu,onOpen:this.openMenu,openDirection:"bottom-left"},r.h("div",null,r.h(p.default,{theme:"clear",size:"l",type:"link",href:"/media/zen/new",target:"_self"},"publisher"===o||"owner"===o?"В редактор":"Стать автором")),r.h("div",null,r.h(p.default,{theme:"clear",size:"l",type:"link",href:s(n,i,a.yandexuid),target:"_self"},"Выйти")))}}]),t}(f.default.Component);t.default=(0,_.connect)(function(e){return{tld:e.params.tld,currentUrl:e.params.currentUrl,platformStatus:e.channelList[e.channel.id].platformStatus,authInfo:e.auth.info}})(g),e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(405);var c=n(2),l=o(c),f=n(40),d=o(f),p=600,h=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isIntersecting,n=e.onFeedEndReach;t&&n()}},{key:"componentDidUpdate",value:function(e){var t=e.isIntersecting,n=this.props.isIntersecting;!t&&n&&this.props.onFeedEndReach()}},{key:"render",value:function(){var e=this.props.rootRef;return r.h("div",{className:"more-mark-wrapper"},r.h("div",{className:"more-mark",ref:e,style:{height:p+"px"}}))}}]),t}(l.default),v=(0,d.default)(h),y=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props.onFeedEndReach;return r.h(v,{onFeedEndReach:e})}}]),t}(l.default);t.default=y,e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=(o(c),n(3)),f=n(2),d=o(f),p=n(7),h=n(1),v=o(h),y=n(150),m=o(y);n(407);var _=(0,v.default)("feed-header"),b=function(e){function t(){var e,n,o;i(this,t);for(var u,s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return u=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n._renderFeedHeader=function(){return r.h("div",{className:_("title")},"Персональная лента публикаций")},n._renderNarrativeFeedHeader=function(){return r.h("div",null,r.h("div",{className:_("title")},"Нарративы"),r.h("div",{className:_("description")},"Специальный формат историй в Дзене"))},o=u,a(n,o)}return u(t,e),s(t,[{key:"_renderLogo",value:function(){var e=this.props,t=e.tld,n=e.lang;return r.h("div",{className:_("logo")},r.h(m.default,{tld:t,lang:n,needLink:!0}))}},{key:"_renderNarrativeLogo",value:function(){var e=this.props.lang;return r.h("a",{className:_("logo"),href:"/",target:"_self"},r.h(m.default,{lang:e}))}},{key:"render",value:function(){var e=this.props,t=e.needHeader,n=e.isNarrativeFeed;return t?r.h("div",{className:_({"narrative-feed":n})},r.h("div",{className:_("container")},n?this._renderNarrativeLogo():this._renderLogo(),n?this._renderNarrativeFeedHeader():this._renderFeedHeader())):null}}]),t}(d.default);t.default=(0,l.connect)(function(e){var t=e.params,n=t.tld,r=t.lang,o=(0,p.isNarrativeFeedSelector)(e);return{tld:n,lang:r,isNarrativeFeed:o,needHeader:(0,p.needHeaderSelector)(e)}})(b),e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(122),u=r(a),s=n(13),c=r(s),l=n(410),f=r(l),d=function(){function e(){var t=this;o(this,e),this._shouldScrollToTop=!1,c.default.addListener(u.default.shouldScrollToTop,function(){return t._shouldScrollToTop=!0})}return i(e,[{key:"maybeScrollToTop",value:function(){this._shouldScrollToTop&&((0,f.default)(),this._shouldScrollToTop=!1)}}]),e}();t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(92),i=r(o),a=n(411),u=r(a),s=n(44),c=n(23),l=r(c),f=2;t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,s.pauseAllEvents)(),(0,u.default)().then(function(t){return i.default.scrollTo({top:t+f,animate:e})}).then(function(){return(0,l.default)(1e3)}).then(function(){return(0,s.resumeAllEvents)()})},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(145),i=r(o),a=".zen-app";t.default=function(){var e=document.querySelector(a);return Promise.resolve((0,i.default)(e))},e.exports=t.default},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HEADER_HEIGHT=t.DEFAULT_MORE_BUTTON_RESPONSIVENESS=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=(r(s),n(3)),l=n(2),f=r(l),d=n(1),p=r(d),h=n(413),v=r(h),y=n(419),m=r(y),_=n(422),b=r(_),g=n(423),E=n(13),w=r(E),O=n(424),k=r(O);n(425);var S=n(32),T=n(44),P=n(55),C=n(7),I=n(426),x=n(56),R=t.DEFAULT_MORE_BUTTON_RESPONSIVENESS=30,j=t.HEADER_HEIGHT=parseInt(b.default.header.height),A=(0,p.default)("notifiers"),N=function(t){function n(){var e,t,r;o(this,n);for(var a,u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return a=t=i(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(s))),t._onMoreButtonClick=function(){var e=t.props,n=e.isThemeExp,r=e.theme,o=e.getMore,i=e.hideMoreButton;i(),o({insertOnTop:!0,shouldScrollToTopAfterInsert:!0}),n&&(0,g.reachGoal)("black"===r?"click_black_more":"click_white_more")},t._onErrorMessageClick=function(){var e=t.props,n=e.getMore,r=e.hideErrorMessage;n(),r()},r=a,i(t,r)}return a(n,t),u(n,[{key:"_addMoreButtonScrollEvents",value:function(){var e=this.props,t=e.showMoreButton,n=e.hideMoreButton,r=e.switchMoreButtonOffsetMode,o=e.moreButtonResponsiveness;(0,T.addScrolledByEvent)({delta:o,direction:-1,onceDebounce:!0},t),(0,T.addScrolledByEvent)({delta:o,direction:1,onceDebounce:!0},n),(0,T.addStateChangeEvent)({scroll:j-30,precise:!0},function(e){var t=e.state;r(0===t?"header":"normal")})}},{key:"_renderErrorMessage",value:function(){var t=this.props,n=t.theme,r=t.position,o=t.needErrorMessage,i=t.isErrorMessageVisible,a=t.isNavbarAtBottom;if(!o)return null;var u={theme:n,position:r,isErrorMessageVisible:i,isNavbarAtBottom:a,onClick:this._onErrorMessageClick};return e.h(m.default,u)}},{key:"_renderMoreButton",value:function(){var t=this.props,n=t.position,r=t.needMoreButton,o=t.isMoreButtonVisible,i=t.moreButtonOffsetMode,a=t.needInfoButton,u=t.theme,s=t.isNavbarAtBottom;if(!r)return null;var c={position:n,moreButtonOffsetMode:i,isMoreButtonVisible:o,needInfoButton:a,theme:u,isNavbarAtBottom:s,onClick:this._onMoreButtonClick};return e.h(v.default,c)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.needMoreButton,n=e.enableNotifiers,r=e.disableNotifiers;t&&this._addMoreButtonScrollEvents(),w.default.addListener(k.default.zenFeedShow,function(){n()}),w.default.addListener(k.default.zenFeedHide,function(){r()})}},{key:"render",value:function(){var t=this.props.position;return e.h("div",{className:A({position:t})},e.h("div",{className:A("container")},this._renderMoreButton(),this._renderErrorMessage()))}}]),n}(f.default);N.defaultProps={position:"top",needErrorMessage:!0,moreButtonResponsiveness:R};var M=function(e,t){var n=(0,C.experimentsSelector)(e),r=(0,C.themeSelector)(e),o=!1,i=r;"white"===r&&(n.isExp("ab:rezen_more_button_color:white")&&(i="white",o=!0),n.isExp("ab:rezen_more_button_color:black")&&(i="black",o=!0));var a=(0,C.isZenUnifiedSelector)(e),u=t&&t.location&&t.location.pathname,s=(0,C.needMoreButtonSelector)(e)&&(!a||u===x.TAB_FEED);return{moreButtonOffsetMode:e.iface.moreButtonOffsetMode,needMoreButton:s,isErrorMessageVisible:e.iface.isErrorMessageVisible,isMoreButtonVisible:e.iface.isMoreButtonVisible,isNavbarAtBottom:(0,I.isNavbarAtBottomSelector)(e),theme:i,isThemeExp:o}},L={getMore:S.getMore,showMoreButton:P.showMoreButton,hideMoreButton:P.hideMoreButton,switchMoreButtonOffsetMode:P.switchMoreButtonOffsetMode,hideErrorMessage:P.hideErrorMessage,disableNotifiers:P.disableNotifiers,enableNotifiers:P.enableNotifiers};t.default=(0,c.connect)(M,L,null,{pure:!1})(N)}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(414),n(415);var c=n(2),l=o(c),f=n(1),d=o(f),p=n(416),h=o(p),v=(0,d.default)("more-button"),y=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"_renderInfoButton",value:function(){var e=this.props,t=e.needInfoButton,n=e.theme;return t?r.h(h.default,{theme:n}):null}},{key:"_renderInfoButtonSpacer",value:function(){var e=this.props.needInfoButton;return e?r.h(p.InfoButtonSpacer,null):null}},{key:"render",value:function(){var e=this.props,t=e.moreButtonOffsetMode,n=e.isMoreButtonVisible,o=e.position,i=e.isNavbarAtBottom,a=e.theme,u=e.onClick,s={visible:n,"offset-mode":t,"is-over-navbar":i,position:o,theme:a};return r.h("div",{className:v(s)},this._renderInfoButton(),r.h("div",{className:v("container")},r.h("div",{className:v("content"),onClick:u},r.h("div",{className:v("icon")}),r.h("div",{className:v("text")},"новые публикации"))),this._renderInfoButtonSpacer())}}]),t}(l.default);y.defaultProps={moreButtonOffsetMode:"normal",needInfoButton:!1},t.default=y,e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t){},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.InfoButtonSpacer=void 0,n(417),n(418);var o=n(1),i=r(o),a=(0,i.default)("info-button"),u="https://zen.yandex.com/about",s=function(t){var n=t.isVisible,r=t.position,o=t.theme,i=a({visible:n,position:r,theme:o});return e.h("div",{className:i},e.h("a",{className:a("link"),href:u,target:"_blank"}))};t.default=s;t.InfoButtonSpacer=function(){return e.h("div",{className:a("spacer")})}}).call(t,n(0))},function(e,t){},function(e,t){},function(e,t,n){"use strict";(function(r){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=o(i);n(420),n(421);var u=(0,a.default)("error-message"),s=function(e){var t=e.isErrorMessageVisible,n=e.position,o=e.onClick,i=e.isNavbarAtBottom,a=e.theme,s=void 0===a?"black":a,c={visible:t,position:n,theme:s,"is-over-navbar":i};return r.h("div",{className:u(c),onClick:o},r.h("div",{className:u("container")},r.h("div",{className:u("content")},r.h("div",{className:u("icon")}),r.h("div",{className:u("text")},"Новых публикаций пока нет"))))};t.default=s,e.exports=t.default}).call(t,n(0))},function(e,t){},function(e,t){},function(e,t){e.exports={header:{height:"166px"},feed:{marginBetweenRows:"8px"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="44046119";t.reachGoal=function(e){var t=window["yaCounter"+r];if(t)try{t.reachGoal(e)}catch(e){console.error("Error while reaching metrika goal",e)}else console.warn("No metrika counter found for number "+r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={zenFeedHide:"zen-feed-hide",zenFeedShow:"zen-feed-show"},e.exports=t.default},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNavbarAtBottomSelector=t.navbarLocationSelector=void 0;var r=n(38),o=n(7),i=n(56),a=t.navbarLocationSelector=(0,r.createSelector)(o.experimentsSelector,function(e){return e.isExp("ab:rezen_unified:bottom")?i.NAV_BOTTOM_FIXED:e.isExp("ab:rezen_unified:top_fixed")?i.NAV_TOP_FIXED:!!e.isExp("ab:rezen_unified:top_hiding")&&i.NAV_TOP_FREE});t.isNavbarAtBottomSelector=(0,r.createSelector)(a,function(e){return e===i.NAV_BOTTOM_FIXED})},function(e,t){}]);
//# sourceMappingURL=vb-lib.firefox.ru.bundle.js.map